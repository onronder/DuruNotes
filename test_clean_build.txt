00:00 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:01 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:02 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:03 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:04 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:05 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:06 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:07 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:08 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:09 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:10 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:11 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:12 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:13 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:14 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:14 +0: /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart: Phase 3 Integration Tests Complete Dialog Flow Dialog with header and actions works together                                     00:15 +0: /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart: Phase 3 Integration Tests Complete Dialog Flow Dialog with header and actions works together                                     00:15 +1: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:15 +2: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:15 +3: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:15 +4: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:15 +5: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:16 +5: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:16 +6: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:16 +7: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:16 +8: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:16 +8: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 8ms
[DomainTaskController] createTask request -> note=standalone title="Buy groceries for dinner" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 1ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 12ms (task task-123)
[DomainTaskController] task created id=task-123 note=standalone
00:16 +9: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:16 +10: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +10: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +11: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +12: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +13: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +14: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +15: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:17 +16: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should show different labels for new vs edit                                                00:17 +17: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering exits selection mode when cancel button tapped                                           00:17 +18: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show toolbar when configured                                                                   00:17 +19: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:18 +19: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:18 +20: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:18 +20: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 1ms
[DomainTaskController] createTask request -> note=standalone title="This is a very long task title that should be handled properly by the system without any issues or truncation in the creation process" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 4ms (task task-long)
[DomainTaskController] task created id=task-long note=standalone
00:18 +21: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:18 +22: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:18 +23: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering shows more options menu when trash has items                                             00:18 +24: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show reorder handle when enabled                                                               00:18 +25: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:18 +26: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:18 +26: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should trim whitespace from task title                                                      
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 1ms
[DomainTaskController] createTask request -> note=standalone title="Buy milk" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 2ms (task task-trim)
[DomainTaskController] task created id=task-trim note=standalone
00:18 +27: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:18 +27: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation Success Feedback should capture task creation parameters                                                    
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=standalone title="Complete project proposal" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 2ms (task task-success)
[DomainTaskController] task created id=task-success note=standalone
00:18 +28: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:18 +29: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:18 +30: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:19 +30: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:19 +31: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:19 +31: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.supabase.co/storage/v1/object/public/attachments/test.m4a
00:19 +32: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:19 +33: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show block actions menu                                                                        00:19 +33 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show block actions menu                                                                     00:20 +33 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show block actions menu                                                                     00:20 +34 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Permission denied flow shows dialog                                                       00:20 +35 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render paragraph block                                                 00:20 +36 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:20 +37 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:20 +38 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:20 +38 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: NULL (FAILED)
[VOICE_NOTE_DEBUG] ERROR: finalizeAndUpload() returned null
00:20 +39 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render code block                                                      00:20 +40 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render code block                                                      00:20 +40 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render quote block                                                     00:20 +41 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render quote block                                                     00:20 +41 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Configuration should apply legacy config                                                           00:20 +42 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Configuration should apply legacy config                                                           00:20 +42 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Configuration should apply modern config                                                           00:20 +43 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:20 +44 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:20 +45 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:20 +46 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:20 +47 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:20 +48 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:21 +48 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:21 +49 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:21 +50 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +51 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +52 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +53 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +54 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +55 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +56 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +57 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:21 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:22 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:22 +59 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:22 +59 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows permission denied dialog when permission is denied                                 00:22 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows permission denied dialog when permission is denied                                 00:22 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:22 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:22 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:22 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.com/test.m4a
00:22 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:22 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:22 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: NULL (FAILED)
[VOICE_NOTE_DEBUG] ERROR: finalizeAndUpload() returned null
00:22 +63 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration 27 applies successfully                                                    00:23 +63 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration 27 applies successfully                                                    00:23 +64 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration 27 applies successfully                                                    00:23 +65 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   00:23 +65 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.com/test.m4a
00:23 +66 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes all expected indexes are created                                                     00:23 +67 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes all expected indexes are created                                                     00:23 +67 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes critical indexes are created                                                         00:23 +68 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes critical indexes are created                                                         00:23 +68 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes batch loading indexes are created                                                    00:23 +69 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes batch loading indexes are created                                                    00:23 +69 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes composite indexes are created                                                        00:23 +70 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes composite indexes are created                                                        00:23 +70 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration is idempotent                                                              00:23 +71 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration is idempotent                                                              00:23 +71 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes database queries work after migration                                                00:23 +72 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes database queries work after migration                                                00:23 +72 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes performance stats can be retrieved                                                   00:23 +73 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes performance stats can be retrieved                                                   00:23 +73 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes query analysis works                                                                 00:23 +74 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes query analysis works                                                                 00:23 +74 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes index details can be retrieved                                                       00:23 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes index details can be retrieved                                                       00:23 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 00:23 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 

=== DATABASE INDEX VERIFICATION REPORT ===

Schema Version: 45
Expected Indexes: 17
Found Indexes: 17
Status: ✅ COMPLETE

✅ Successfully Verified (17):
   - idx_note_tags_batch_load
   - idx_note_links_batch_load
   - idx_note_folders_batch_load
   - idx_notes_user_updated_composite
   - idx_notes_pinned_updated
   - idx_note_folders_folder_updated
   - idx_tasks_note_status_composite
   - idx_tasks_status_due_composite
   - idx_tasks_priority_due
   - idx_notes_search_metadata
   - idx_note_tags_tag_search
   - idx_folders_hierarchy_path
   - idx_folders_root
   - idx_pending_ops_entity
   - idx_notes_version_updated
   - idx_reminders_active
   - idx_reminders_note_active

ℹ️  Extra Indexes (54):
   - idx_note_folders_note
   - idx_note_folders_folder
   - idx_local_notes_updated_notdeleted
   - idx_note_tags_tag
   - idx_note_links_target_title
   - idx_note_reminders_remind_at
   - idx_local_folders_parent_id
   - idx_local_folders_path
   - idx_local_folders_deleted
   - idx_local_folders_sort_order
   - idx_note_folders_folder_id
   - idx_note_tasks_note_id
   - idx_note_tasks_due_date
   - idx_note_tasks_status
   - idx_note_tasks_reminder_id
   - idx_note_tasks_parent
   - idx_saved_searches_pinned
   - idx_saved_searches_usage
   - idx_saved_searches_type
   - idx_attachments_note_id
   - idx_attachments_mime_type
   - idx_inbox_items_user_id
   - idx_inbox_items_unprocessed
   - idx_inbox_items_source_type
   - idx_qc_queue_user_processed
   - idx_qc_queue_processed_at
   - idx_local_notes_user_deleted_updated
   - idx_local_notes_user_pinned_updated
   - idx_local_notes_user_type
   - idx_local_folders_user_parent_order
   - idx_local_folders_user_path
   - idx_local_folders_user_root
   - idx_note_reminders_user_active_time
   - idx_note_reminders_user_note
   - idx_note_reminders_user_snoozed
   - idx_note_reminders_user_recurring
   - idx_attachments_user_note
   - idx_attachments_user_created
   - idx_attachments_user_mime
   - idx_pending_ops_user_created
   - idx_pending_ops_user_kind_created
   - idx_note_tasks_user_note_deleted
   - idx_note_tasks_user_status_due
   - idx_note_tasks_user_priority_created
   - idx_note_tasks_user_parent
   - idx_note_tags_user_tag
   - idx_note_tags_user_note
   - idx_note_tags_user_tag_note
   - idx_note_links_user_source
   - idx_note_links_user_target
   - idx_note_links_user_target_title
   - idx_note_folders_user_folder_updated
   - idx_note_folders_user_note
   - idx_local_folders_user_deleted_updated

=== PERFORMANCE STATISTICS ===

Custom Indexes: 71
Database Size: 0.43 MB
Table Counts:
   - notes: 0
   - tasks: 0
   - folders: 0
   - tags: 0
   - links: 0

==========================================

00:23 +76 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 00:23 +76 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes full database upgrade from schema 26 to 27                                           00:23 +77 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes full database upgrade from schema 26 to 27                                           00:23 +77 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects missing indexes                                                                       00:23 +78 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects missing indexes                                                                       00:23 +78 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects present indexes                                                                       00:23 +79 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects present indexes                                                                       00:23 +79 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier performance stats are calculated correctly                                                             00:23 +80 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier performance stats are calculated correctly                                                             00:23 +80 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:23 +81 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:23 +81 ~1: loading /Users/onronder/duru-notes/test/unit/domain_models_test.dart                                                                                                                     00:24 +81 ~1: loading /Users/onronder/duru-notes/test/unit/domain_models_test.dart                                                                                                                     00:24 +81 ~1: loading /Users/onronder/duru-notes/test/domain_migration_test.dart                                                                                                                       00:24 +81 ~1: loading /Users/onronder/duru-notes/test/phase1_integration_test.dart                                                                                                                     00:24 +81 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                        00:25 +81 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                        00:25 +82 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                        00:25 +82 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should support overrides for testing                                        00:25 +83 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should support overrides for testing                                        00:25 +83 ~1: loading /Users/onronder/duru-notes/test/deployment_validation_test.dart                                                                                                                  00:25 +83 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should check feature flags correctly                                        00:25 +84 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should check feature flags correctly                                        00:25 +84 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should be singleton                                                           00:25 +85 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should be singleton                                                           00:25 +85 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission descriptions                                        00:25 +86 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission descriptions                                        00:25 +86 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission icons                                               00:25 +87 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission icons                                               00:25 +87 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support cache management                                               00:25 +88 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support cache management                                               00:25 +88 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support observer pattern                                               00:25 +89 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support observer pattern                                               00:25 +89 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +90 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +91 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +92 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +93 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +94 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +95 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +96 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +97 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +98 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +99 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:25 +100 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +101 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +102 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +103 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +104 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +105 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +106 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +107 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +108 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +109 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +110 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +111 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +112 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +113 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +114 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +115 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +116 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +117 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +118 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +119 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +120 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +121 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +122 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +123 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +124 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +125 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +126 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:25 +127 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:26 +127 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:26 +128 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:26 +128 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should support different configurations                                    00:26 +129 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should support different configurations                                    00:26 +129 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should handle block operations                                             00:26 +130 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should handle block operations                                             00:26 +130 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration all refactored components should respect feature flags                    00:26 +131 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration all refactored components should respect feature flags                    00:26 +131 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration UI components should work together                                        00:26 +132 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration UI components should work together                                        00:26 +132 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation legacy code paths should still work with flags disabled               00:26 +133 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation legacy code paths should still work with flags disabled               00:26 +133 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:26 +134 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:26 +134 ~1: loading /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart                                                                                                          00:26 +134 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   00:26 +134 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-123 title="Write tests" due=2025-01-01T00:00:00.000 priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 2ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 6ms (task task-001)
[DomainTaskController] task created id=task-001 note=note-123
00:26 +135 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   00:26 +135 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController stream filtering excludes completed tasks                   00:26 +136 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController stream filtering excludes completed tasks                   00:26 +136 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity TaskSyncMetrics records successful sync completion                               00:26 +137 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:27 +137 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:27 +137 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (setUpAll)                                                                                  
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:27 +137 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:27 +138 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +139 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +140 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +141 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +142 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +143 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +144 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:27 +144 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization createTimeReminder returns null when unauthenticated  00:27 +145 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization createTimeReminder returns null when unauthenticated  00:27 +145 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization deleteReminder ignores reminders owned by other users 00:27 +146 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization deleteReminder ignores reminders owned by other users 00:27 +146 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:27 +147 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:27 +147 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (tearDownAll)                                                                               00:27 +147 ~1: loading /Users/onronder/duru-notes/test/security/folder_repository_authorization_test.dart                                                                                              00:28 +147 ~1: loading /Users/onronder/duru-notes/test/security/folder_repository_authorization_test.dart                                                                                              00:28 +147 ~1: loading /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart                                                                                               00:28 +147 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:28 +148 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:28 +148 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns null when unauthenticated                              00:28 +149 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns null when unauthenticated                              00:28 +149 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getUnprocessed filters by userId                                       00:28 +150 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getUnprocessed filters by userId                                       00:28 +150 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization create assigns current userId to payload                               00:28 +151 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization create assigns current userId to payload                               00:28 +151 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization create throws when not authenticated                                   00:28 +152 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization create throws when not authenticated                                   00:28 +152 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization update enforces user isolation                                         00:28 +153 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization update enforces user isolation                                         00:28 +153 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization markAsProcessed scopes update to owning user                           00:28 +154 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization markAsProcessed scopes update to owning user                           00:28 +154 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization delete uses user filter                                                00:28 +155 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization delete uses user filter                                                00:28 +155 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization deleteProcessed limits to current user                                 00:28 +156 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization deleteProcessed limits to current user                                 00:28 +156 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getUnprocessedCount only counts current user items                     00:28 +157 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getUnprocessedCount only counts current user items                     00:28 +157 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getStatsBySourceType aggregates per user                               00:28 +158 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getStatsBySourceType aggregates per user                               00:28 +158 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization cleanupOldItems only touches current user data                         00:28 +159 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization cleanupOldItems only touches current user data                         00:28 +159 ~1: loading /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart                                                                                                  00:28 +159 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:29 +159 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:29 +159 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:29 +159 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +159 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         
⚠️ Failed to decrypt content for task task-1: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:29 +160 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +160 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         
⚠️ Failed to decrypt content for task task-1: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:29 +161 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +162 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +163 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +164 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +165 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +166 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +167 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:29 +168 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership allows access when user owns the resource                                00:29 +169 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +170 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +171 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +172 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +173 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +174 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +175 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +176 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +177 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +178 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +179 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +180 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +181 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +182 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +183 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +183 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    
⚠️ Failed to decrypt content for task task-unauth: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:29 +184 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +184 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    
⚠️ Failed to decrypt content for task task-unauth: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:29 +185 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +186 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:29 +187 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases handles concurrent authorization checks safely                       00:29 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:29 +189 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:29 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:29 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:30 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:30 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:30 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (tearDownAll)                                                                                           00:30 +191 ~1: loading /Users/onronder/duru-notes/test/security/task_repository_authorization_test.dart                                                                                                00:30 +191 ~1: loading /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart                                                                                                 00:30 +191 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts returns empty when user not authenticated               00:30 +192 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts returns empty when user not authenticated               00:30 +192 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:30 +192 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       
[NotesCoreRepository] createOrUpdate noteId=a5e6bc8a-72d2-43c9-84ec-d28f901cda9e isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=a5e6bc8a-72d2-43c9-84ec-d28f901cda9e folder=null tagCount=0 traceId=none
00:30 +193 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:30 +193 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:31 +193 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:31 +193 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                
[NotesCoreRepository] createOrUpdate noteId=0c9ef4b4-94a8-4d14-8dba-9858a9ceb5a3 isUpdate=false titleLen=5 bodyLen=10 traceId=none
[NotesCoreRepository] note persisted noteId=0c9ef4b4-94a8-4d14-8dba-9858a9ceb5a3 folder=null tagCount=0 traceId=none
00:31 +194 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:31 +194 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               00:31 +194 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               
[NotesCoreRepository] createOrUpdate noteId=4427d481-566e-4d4f-8ff4-11499b7b644c isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=4427d481-566e-4d4f-8ff4-11499b7b644c folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=c809e25a-0ec1-4f3c-b6a1-b91e19e6450e isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=c809e25a-0ec1-4f3c-b6a1-b91e19e6450e folder=null tagCount=0 traceId=none
00:31 +195 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               00:31 +195 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   00:31 +195 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   
[NotesCoreRepository] createOrUpdate noteId=36adb281-0ba0-4955-b34a-3ca538ddc037 isUpdate=false titleLen=11 bodyLen=16 traceId=none
[NotesCoreRepository] note persisted noteId=36adb281-0ba0-4955-b34a-3ca538ddc037 folder=null tagCount=0 traceId=none
00:31 +196 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   00:31 +196 ~1: loading /Users/onronder/duru-notes/test/security/notes_repository_authorization_simple_test.dart                                                                                        00:31 +196 ~1: loading /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart                                                                                            00:31 +196 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:32 +196 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:32 +197 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:32 +197 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getTemplateById hides other users templates                  00:32 +198 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getTemplateById hides other users templates                  00:32 +198 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate associates template with current user         00:32 +199 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate associates template with current user         00:32 +199 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate throws when user not authenticated            00:32 +200 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate throws when user not authenticated            00:32 +200 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization updateTemplate rejects updates from non-owner                00:32 +201 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization updateTemplate rejects updates from non-owner                00:32 +201 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization deleteTemplate removes template for owner only               00:32 +202 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization deleteTemplate removes template for owner only               00:32 +202 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate creates note for owning user                   00:32 +203 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate creates note for owning user                   00:32 +203 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate rejects access for non-owner                   00:32 +204 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate rejects access for non-owner                   00:32 +204 ~1: loading /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart                                                                                              00:32 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (setUpAll)                                                                                          00:32 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (setUpAll)                                                                                          
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:32 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation createOrUpdateSavedSearch updates owned record and enqueues sync         00:33 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation createOrUpdateSavedSearch updates owned record and enqueues sync         00:33 +205 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation createOrUpdateSavedSearch updates owned record and enqueues sync         00:33 +205 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation createOrUpdateSavedSearch throws when unauthenticated       00:33 +206 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation createOrUpdateSavedSearch throws when unauthenticated       00:33 +206 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation deleteSavedSearch only removes records for owning user      00:33 +207 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation deleteSavedSearch only removes records for owning user      00:33 +207 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns only current user entries          00:33 +208 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns only current user entries          00:33 +208 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns empty list when unauthenticated    00:33 +209 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns empty list when unauthenticated    00:33 +209 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation toggleSavedSearchPin affects only owning user records       00:33 +210 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation toggleSavedSearchPin affects only owning user records       00:33 +210 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation trackSavedSearchUsage updates only current user entries     00:33 +211 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation trackSavedSearchUsage updates only current user entries     00:33 +211 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation watchSavedSearches emits empty list for unauthenticated users            00:33 +212 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation watchSavedSearches emits empty list for unauthenticated users            00:33 +212 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation watchSavedSearches streams user-scoped updates              00:33 +213 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation watchSavedSearches streams user-scoped updates              00:33 +213 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (tearDownAll)                                                                                       00:33 +213 ~1: loading /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart                                                                                               00:33 +213 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate returns null when user not authenticated            00:33 +214 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate returns null when user not authenticated            00:33 +214 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        00:33 +214 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        
[NotesCoreRepository] createOrUpdate noteId=bd82f389-7ddf-463a-9b9d-a145f3b3c611 isUpdate=false titleLen=11 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=bd82f389-7ddf-463a-9b9d-a145f3b3c611 folder=null tagCount=0 traceId=none
00:33 +215 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        00:33 +215 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization getNoteById returns null when note belongs to another user         00:34 +215 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization getNoteById returns null when note belongs to another user         00:34 +215 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization getNoteById returns null when note belongs to another user         
[NotesCoreRepository] createOrUpdate noteId=7a2700cf-e02e-434c-9912-243fff04f66b isUpdate=false titleLen=5 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=7a2700cf-e02e-434c-9912-243fff04f66b folder=null tagCount=0 traceId=none
00:34 +216 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: (setUpAll)                                                                                       00:34 +216 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: (setUpAll)                                                                                       
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:34 +216 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization localNotes returns only notes for current user                     00:34 +216 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization localNotes returns only notes for current user                     
[NotesCoreRepository] createOrUpdate noteId=97fb4e47-18f4-4ef0-a9b6-1ee8e2fd8656 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=97fb4e47-18f4-4ef0-a9b6-1ee8e2fd8656 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=6679c778-4eed-4114-91df-7d9f3596de3f isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=6679c778-4eed-4114-91df-7d9f3596de3f folder=null tagCount=0 traceId=none
00:34 +217 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:34 +217 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization updateLocalNote ignores updates from non-owners                    
[NotesCoreRepository] createOrUpdate noteId=0164cb48-dce5-444c-bda9-e832af60d1b1 isUpdate=false titleLen=13 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=0164cb48-dce5-444c-bda9-e832af60d1b1 folder=null tagCount=0 traceId=none
00:34 +218 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:34 +218 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization deleteNote only marks note deleted for owner                       
[NotesCoreRepository] createOrUpdate noteId=dad03c28-d55b-4167-9710-d832d6f2b509 isUpdate=false titleLen=9 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=dad03c28-d55b-4167-9710-d832d6f2b509 folder=null tagCount=0 traceId=none
00:34 +219 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:34 +219 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (setUpAll)                                                                                                        
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:34 +219 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:34 +220 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:34 +220 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   
✅ ProperEncryptionService initialized successfully
00:34 +221 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs denial when unauthenticated            00:34 +222 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should decrypt encrypted data correctly                                  00:34 +223 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +224 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +224 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should handle key rotation                                               
✅ Key rotation completed successfully
00:34 +225 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +226 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +227 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +228 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +229 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +230 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:34 +231 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should enforce rate limiting on failed login attempts       00:34 +232 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should enforce rate limiting on failed login attempts       00:34 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should enforce rate limiting on failed login attempts       00:34 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:34 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        
Auth retry attempt 1 after 1s delay
00:35 +234 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:35 +235 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:35 +236 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:35 +237 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:35 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +239 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +240 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +241 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +241 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        
Auth retry attempt 2 after 2s delay
00:36 +242 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +243 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +244 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +245 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +246 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +247 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +248 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:36 +248 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _WorkflowHarness.buildRepository (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:82:12)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:113:30)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-workflow isUpdate=false titleLen=13 bodyLen=22 traceId=none
[NotesCoreRepository] note persisted noteId=note-workflow folder=folder-default tagCount=2 traceId=none
[NotesCoreRepository] createOrUpdate noteId=note-workflow isUpdate=true titleLen=13 bodyLen=12 traceId=none
[NotesCoreRepository] note persisted noteId=note-workflow folder=null tagCount=2 traceId=none
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _WorkflowHarness.buildRepository (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:82:12)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:216:35)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:37 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:38 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:39 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:39 +250 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:39 +251 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:39 +252 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:39 +253 ~1: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Bootstrap Migration Flow Scenario 4: User not logged in - migration deferred  00:39 +254 ~1: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Bootstrap Migration Flow Scenario 4: User not logged in - migration deferred  00:39 +255 ~1: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Bootstrap Migration Flow Scenario 4: User not logged in - migration deferred  00:39 +255 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           
  Skip: SecurityMonitor requires complex initialization
00:39 +255 ~2: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Bootstrap Migration Flow Scenario 4: User not logged in - migration deferred  00:39 +255 ~2: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              
  Skip: SecurityMonitor requires complex initialization
00:39 +255 ~3: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Bootstrap Migration Flow Scenario 4: User not logged in - migration deferred  00:39 +256 ~3: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Bootstrap Migration Flow Scenario 4: User not logged in - migration deferred  00:39 +257 ~3: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should sanitize search queries                                      00:39 +258 ~3: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Post-Login Migration Flow Deferred migration completes after user logs in     00:39 +259 ~3: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Post-Login Migration Flow Deferred migration completes after user logs in     00:39 +260 ~3: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Post-Login Migration Flow Deferred migration completes after user logs in     00:39 +261 ~3: /Users/onronder/duru-notes/test/integration/soft_delete_integration_test.dart: (setUpAll)                                                                                               00:39 +262 ~3: /Users/onronder/duru-notes/test/integration/soft_delete_integration_test.dart: (setUpAll)                                                                                               00:39 +262 ~3: /Users/onronder/duru-notes/test/integration/soft_delete_integration_test.dart: (setUpAll)                                                                                               
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:39 +262 ~3: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Mixed data: Some with userId, some without00:39 +262 ~4: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Mixed data: Some with userId, some without00:39 +262 ~5: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Mixed data: Some with userId, some without00:39 +262 ~6: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Mixed data: Some with userId, some without00:39 +262 ~7: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Mixed data: Some with userId, some without00:39 +263 ~7: /Users/onronder/duru-notes/test/integration/soft_delete_integration_test.dart: (tearDownAll)                                                                                            00:39 +263 ~7: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Large dataset migration                   00:39 +264 ~7: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: SavedSearch Migration E2E Tests Complex Migration Scenarios Large dataset migration                   00:39 +264 ~7: /Users/onronder/duru-notes/test/integration/saved_search_migration_e2e_test.dart: ... Migration E2E Tests Migration Status Reporting Status report shows accurate migration state       00:39 +265 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        00:39 +266 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        00:39 +267 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        00:39 +268 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        00:39 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        00:39 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:39 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance 00:39 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:271:27)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:270:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +270 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance 00:39 +270 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation       00:39 +270 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:282:21)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:279:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +271 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation       00:39 +271 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Search Provider searchServiceProvider instantiates successfully         00:39 +271 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Search Provider searchServiceProvider instantiates successfully
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     searchServiceProvider.<anonymous closure> (package:duru_notes/features/search/providers/search_providers.dart:50:20)
#15     Provider._create (package:riverpod/src/provider/base.dart:59:57)
#16     ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#17     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#18     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#19     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#20     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#21     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#22     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#23     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#24     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#25     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:289:35)
#26     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#27     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#28     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +272 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Search Provider searchServiceProvider instantiates successfully         00:39 +272 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers noteFolderIntegrationServiceProvider creates service       00:39 +273 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers noteFolderIntegrationServiceProvider creates service       00:39 +273 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result       00:39 +273 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     unfiledNotesCountProvider.<anonymous closure> (package:duru_notes/features/folders/providers/folders_integration_providers.dart:73:20)
#15     AutoDisposeFutureProvider._create (package:riverpod/src/future_provider/auto_dispose.dart:46:16)
#16     FutureProviderElement.create.<anonymous closure> (package:riverpod/src/future_provider/base.dart:117:22)
#17     FutureHandlerProviderElementMixin.handleFuture.<anonymous closure> (package:riverpod/src/async_notifier/base.dart:341:30)
#18     FutureHandlerProviderElementMixin._handleAsync (package:riverpod/src/async_notifier/base.dart:388:47)
#19     FutureHandlerProviderElementMixin.handleFuture (package:riverpod/src/async_notifier/base.dart:335:5)
#20     FutureProviderElement.create (package:riverpod/src/future_provider/base.dart:116:5)
#21     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#22     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#23     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#24     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#25     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#26     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#27     ProviderElementProxy.read (package:riverpod/src/framework/proxy_provider_listenable.dart:134:26)
#28     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#29     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:301:39)
#30     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#31     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#32     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +274 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result       00:39 +274 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Folder Integration Providers allFoldersCountProvider resolves with zero count00:39 +275 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Folder Integration Providers allFoldersCountProvider resolves with zero count00:39 +275 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers filteredNotesProvider returns empty list by default          00:39 +275 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Notes Pagination Providers filteredNotesProvider returns empty list by default
[filteredNotesProvider] Security not initialized, returning empty
00:39 +276 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers filteredNotesProvider returns empty list by default          00:39 +276 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers currentNotesProvider returns empty list with no data         00:39 +276 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Notes Pagination Providers currentNotesProvider returns empty list with no data
[notesPageProvider] Security not initialized, returning empty notifier
00:39 +277 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers currentNotesProvider returns empty list with no data         00:39 +277 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors     00:39 +277 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:256:30)
#15     AutoDisposeStateNotifierProvider._create (package:riverpod/src/state_notifier_provider/auto_dispose.dart:48:21)
#16     StateNotifierProviderElement.create.<anonymous closure> (package:riverpod/src/state_notifier_provider/base.dart:172:64)
#17     Result.guard (package:riverpod/src/result.dart:21:28)
#18     StateNotifierProviderElement.create (package:riverpod/src/state_notifier_provider/base.dart:172:43)
#19     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#20     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#21     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#22     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#23     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#24     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#25     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#26     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#27     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:329:32)
#28     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#29     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#30     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +278 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors     00:39 +278 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder State Providers folderProvider exposes default state00:39 +279 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder State Providers folderProvider exposes default state00:39 +279 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers folderHierarchyProvider exposes empty hierarchy  00:39 +280 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers folderHierarchyProvider exposes empty hierarchy  00:39 +280 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers noteFolderProvider exposes empty relationships   00:39 +281 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers noteFolderProvider exposes empty relationships   00:39 +281 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully00:39 +281 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +282 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully00:39 +282 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing     00:39 +282 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:371:21)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:369:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +283 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing     00:39 +283 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Database Provider appDbProvider returns overridden in-memory instance   00:39 +284 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Database Provider appDbProvider returns overridden in-memory instance   00:39 +284 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles    00:39 +284 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     searchServiceProvider.<anonymous closure> (package:duru_notes/features/search/providers/search_providers.dart:50:20)
#15     Provider._create (package:riverpod/src/provider/base.dart:59:57)
#16     ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#17     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#18     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#19     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#20     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#21     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#22     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#23     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#24     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#25     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:389:23)
#26     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#27     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#28     _expect (package:matcher/src/expect/expect.dart:138:30)
#29     expect (package:matcher/src/expect/expect.dart:56:3)
#30     expect (package:flutter_test/src/widget_tester.dart:473:18)
#31     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:387:11)
#32     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#33     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#34     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles    00:39 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         00:40 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         00:40 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:436:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:486:36)
#15     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#16     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#17     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:40 +286 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         00:40 +286 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                00:40 +286 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:436:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     unfiledNotesCountProvider.<anonymous closure> (package:duru_notes/features/folders/providers/folders_integration_providers.dart:73:20)
#15     AutoDisposeFutureProvider._create (package:riverpod/src/future_provider/auto_dispose.dart:46:16)
#16     FutureProviderElement.create.<anonymous closure> (package:riverpod/src/future_provider/base.dart:117:22)
#17     FutureHandlerProviderElementMixin.handleFuture.<anonymous closure> (package:riverpod/src/async_notifier/base.dart:341:30)
#18     FutureHandlerProviderElementMixin._handleAsync (package:riverpod/src/async_notifier/base.dart:388:47)
#19     FutureHandlerProviderElementMixin.handleFuture (package:riverpod/src/async_notifier/base.dart:335:5)
#20     FutureProviderElement.create (package:riverpod/src/future_provider/base.dart:116:5)
#21     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#22     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#23     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#24     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#25     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#26     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#27     ProviderElementProxy.read (package:riverpod/src/framework/proxy_provider_listenable.dart:134:26)
#28     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#29     main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:495:45)
#30     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#31     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#32     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:40 +287 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                00:40 +287 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration from nullable to non-nullable provider complete                  00:40 +288 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration from nullable to non-nullable provider complete                  00:40 +288 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration statistics are correct                                           00:40 +289 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration statistics are correct                                           00:40 +289 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (tearDownAll)                                                                                     00:40 +289 ~7: loading /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart                                                                                                   00:40 +289 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider returns reminder coordinator                                          00:40 +290 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider returns reminder coordinator                                          00:40 +290 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider respects feature flag changes                                         00:40 +291 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider respects feature flag changes                                         00:41 +291 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider respects feature flag changes                                         00:41 +291 ~7: loading /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart                                                                                                              00:41 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      00:42 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      00:42 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:104:28)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:42 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      00:42 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        00:42 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:144:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:151:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:42 +293 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        00:42 +293 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              00:42 +293 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:192:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:199:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:42 +294 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              00:42 +294 ~7: loading /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart                                                                                                        00:42 +294 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        00:42 +294 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:42 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getAllTasks returns tasks only for the requesting user                  00:42 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:42 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getAllTasks returns tasks only for the requesting user                  00:42 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       00:42 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:42 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       00:42 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:42 +299 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) updateTask refuses cross-user modifications                             00:42 +300 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:43 +300 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:43 +301 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:43 +302 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:43 +302 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) clearAll purges every user-scoped table                                 
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:43 +303 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:43 +303 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     
Created 1000 notes in 325ms
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
Cleared 1000 notes in 7ms
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:43 +304 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             00:43 +304 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:43 +304 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:43 +304 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:43 +305 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             00:43 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             00:43 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:43 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:43 +307 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:44 +307 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:44 +307 ~7: loading /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart                                                                                                           00:44 +307 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:44 +307 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:119:28)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=e4b9bfb2-92a0-4ba3-9f9f-fe5b18644560 isUpdate=false titleLen=5 bodyLen=5 traceId=none
[NotesCoreRepository] note persisted noteId=e4b9bfb2-92a0-4ba3-9f9f-fe5b18644560 folder=null tagCount=1 traceId=none
00:44 +308 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:44 +308 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate without authenticated user is rejected                               00:44 +308 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate without authenticated user is rejected                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:135:28)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:44 +309 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate without authenticated user is rejected                               00:44 +309 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        00:44 +309 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:148:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:149:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=b9174a83-c55b-4985-9dfd-99f01ce296c2 isUpdate=false titleLen=8 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=b9174a83-c55b-4985-9dfd-99f01ce296c2 folder=null tagCount=0 traceId=none
00:44 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        00:44 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        00:44 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:172:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:173:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=ffc3fe55-1e8c-40d8-827f-1741625630e8 isUpdate=false titleLen=9 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=ffc3fe55-1e8c-40d8-827f-1741625630e8 folder=null tagCount=0 traceId=none
00:44 +311 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        00:44 +311 ~7: loading /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart                                                                                               00:44 +311 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:45 +311 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:45 +311 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: CRITICAL: Database isolation integration NotesCoreRepository returns data scoped to authenticated user
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:86:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:93:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:45 +312 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:45 +312 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: CRITICAL: Database isolation integration NotesCoreRepository returns empty results when unauthenticated
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:138:22)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:45 +313 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:46 +313 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:46 +314 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:46 +314 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity unlockAmkWithPassphrase succeeds when AMK cached locally                        00:46 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity unlockAmkWithPassphrase succeeds when AMK cached locally                        00:46 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:47 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:47 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:48 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:49 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:49 +316 ~7: loading /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart                                                                                                         00:49 +316 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects not-setup state                                                                00:49 +317 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects not-setup state                                                                00:49 +317 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects locked state                                                                   00:49 +318 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects locked state                                                                   00:49 +318 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier unlocks with correct password                                                          00:49 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier unlocks with correct password                                                          00:49 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 00:49 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 
[EncryptionState] Unlock failed: Exception: Invalid password - decryption failed
00:49 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 00:49 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:49 +320 ~7: /Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart: Notes pagination regression refresh only loads a single page                                            
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _CountingNotesRepository (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart)
#4      new _PaginationHarness (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:158:18)
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:232:17)
#6      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#7      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#8      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#9      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#10     StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#11     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#12     _rootRunUnary (dart:async/zone.dart:1538:47)
#13     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#14     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#15     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#16     Future.doWhile (dart:async/future.dart:727:18)
#17     Future.forEach (dart:async/future.dart:651:12)
#18     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#20     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#21     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:50 +321 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:50 +322 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:50 +323 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:50 +324 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:50 +324 ~7: /Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart: Notes pagination regression loadMore avoids duplicate fetches when called concurrently                  
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _CountingNotesRepository (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart)
#4      new _PaginationHarness (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:158:18)
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:232:17)
#6      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#7      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#8      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#9      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#10     StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#11     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#12     _rootRunUnary (dart:async/zone.dart:1538:47)
#13     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#14     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#15     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#16     Future.doWhile (dart:async/future.dart:727:18)
#17     Future.forEach (dart:async/future.dart:651:12)
#18     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#20     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#21     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:50 +325 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:51 +325 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:51 +326 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:51 +327 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:51 +328 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: NewUserEncryptionSetupGate completes provisioning after valid submission                                       00:51 +329 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: NewUserEncryptionSetupGate completes provisioning after valid submission                                       00:51 +330 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:51 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:51 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:52 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:52 +332 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:52 +332 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:52 +333 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService addDeleteOperation enqueues operation with metadata                                   00:52 +334 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService addDeleteOperation enqueues operation with metadata                                   00:52 +334 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores deleted folder and children                                    00:52 +335 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores deleted folder and children                                    00:52 +335 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores previous parent for move                                       00:52 +336 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores previous parent for move                                       00:52 +336 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores original folder name after rename                              00:52 +337 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores original folder name after rename                              00:52 +337 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:52 +338 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:53 +338 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:53 +338 ~7: loading /Users/onronder/duru-notes/test/notification_system_test.dart                                                                                                                   00:53 +338 ~7: loading /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart                                                                                                00:53 +338 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +338 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +339 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +340 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +341 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +342 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +343 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +344 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +345 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +346 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +347 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:54 +347 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +348 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +349 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +350 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +351 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +352 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +353 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +354 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +355 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +356 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +357 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +358 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +359 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +360 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +361 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +362 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +363 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +364 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +365 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +366 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +367 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +368 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +369 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +370 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +371 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +372 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +373 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +374 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +375 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +376 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +377 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +378 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +379 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +380 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +381 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:54 +382 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:55 +382 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:55 +383 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:55 +383 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles batch of notes via drag-and-drop                                                              00:55 +384 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles batch of notes via drag-and-drop                                                              00:55 +384 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:55 +385 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at         00:55 +385 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-from-remote isUpdate=false titleLen=11 bodyLen=32 traceId=none
[NotesCoreRepository] note persisted noteId=note-from-remote folder=null tagCount=0 traceId=none
00:55 +386 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at         00:55 +386 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at           00:55 +386 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-view-test isUpdate=false titleLen=14 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=note-view-test folder=null tagCount=0 traceId=none
DEBUG: First create updated_at = 2025-10-27 13:00:00.000
DEBUG: Expected updated_at = 2025-10-27 10:00:00.000Z
[NotesCoreRepository] createOrUpdate noteId=note-view-test isUpdate=true titleLen=14 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=note-view-test folder=null tagCount=0 traceId=none
DEBUG: Second update updated_at = 2025-11-25 09:07:26.000
DEBUG: Expected (same) = 2025-10-27 10:00:00.000Z
DEBUG: Retrieved note updated_at = 2025-11-25 09:07:26.000
00:55 +386 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at [E]
  Expected: <1761559200000>
    Actual: <1764050846000>
  Viewing/opening note should NOT change updated_at timestamp
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/repositories/timestamp_preservation_test.dart 268:9  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart -p vm --plain-name 'Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at'
00:55 +386 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:55 +386 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=old-note isUpdate=false titleLen=8 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=old-note folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=recent-note isUpdate=false titleLen=11 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=recent-note folder=null tagCount=0 traceId=none
00:56 +387 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:56 +387 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) User-created notes use current time (existing behavior)     00:56 +387 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) User-created notes use current time (existing behavior)
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=e3adb760-b3ca-4506-ad57-13c82896513a isUpdate=false titleLen=17 bodyLen=22 traceId=none
[NotesCoreRepository] note persisted noteId=e3adb760-b3ca-4506-ad57-13c82896513a folder=null tagCount=0 traceId=none
00:56 +388 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) User-created notes use current time (existing behavior)     00:56 +388 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at   00:56 +388 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:56 +389 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at   00:56 +389 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) Explicit timestamp override works for user edits            00:56 +389 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) Explicit timestamp override works for user edits
  Skip: Test needs clarification on expected behavior for user edits
00:56 +389 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) Explicit timestamp override works for user edits            00:56 +389 ~8 -1: loading /Users/onronder/duru-notes/test/database_isolation_integration_test.dart                                                                                                     00:56 +389 ~8 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        00:56 +389 ~8 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        
  Skip: Legacy database isolation integration – requires updated data builders (see TEST_STATUS.md)
00:56 +389 ~9 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        00:56 +389 ~9 -1: loading /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart                                                                                                 00:56 +389 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +389 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:56 +390 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +391 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +392 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +393 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +394 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +395 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +396 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +397 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +398 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +399 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +400 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +401 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +402 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +403 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +404 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:56 +404 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                        00:56 +404 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:56 +405 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                        00:56 +405 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                     00:56 +405 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:56 +406 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                     00:56 +406 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               00:56 +406 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:57 +407 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               00:57 +407 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    00:57 +407 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=1c972d54-17dd-49a1-bb8b-26fdcb405e42 isUpdate=false titleLen=9 bodyLen=8 traceId=none
[NotesCoreRepository] note persisted noteId=1c972d54-17dd-49a1-bb8b-26fdcb405e42 folder=null tagCount=0 traceId=none
00:57 +408 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    00:57 +408 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              00:57 +408 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=existing isUpdate=true titleLen=13 bodyLen=12 traceId=none
[NotesCoreRepository] note persisted noteId=existing folder=null tagCount=0 traceId=none
00:57 +409 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              00:57 +409 ~9 -1: loading /Users/onronder/duru-notes/test/widget_test.dart                                                                                                                             00:57 +409 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:57 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:58 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:58 +410 ~9 -1: loading /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart                                                                                                    00:58 +410 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:58 +411 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:58 +412 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:58 +413 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:58 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:58 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:58 +415 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:58 +415 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Database layer hard-delete methods should be private                       00:58 +416 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Database layer hard-delete methods should be private                       00:58 +416 ~9 -1: loading /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart                                                                                                       00:58 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (setUpAll)                                                                         00:59 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (setUpAll)                                                                         00:59 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:59 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   

🔍 Starting Basic Pre-Deployment Validation...
============================================================
📊 Testing local database connectivity...
   Local Database           ✅ PASSED

⚙️ Testing provider initialization...
   Provider Initialization  ✅ PASSED

🎯 VALIDATION SUMMARY
============================================================
Overall Status: HEALTHY
Database Status: true
Providers Status: true

📋 NEXT STEPS:
1. Basic connectivity validated - system appears ready for Phase 3
2. Proceed with comprehensive validation using actual sync systems
3. Deploy sync verification system to production (Step 2)
4. Continue with careful step-by-step deployment plan

📄 Baseline report saved to: docs/simple_deployment_baseline_report.json
00:59 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:59 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             00:59 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             

🚀 Running System Readiness Check...
🔧 Checking Flutter environment...
📦 Checking provider container...
✅ Basic system readiness confirmed
00:59 +418 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             00:59 +418 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (tearDownAll)                                                                      00:59 +418 ~9 -1: loading /Users/onronder/duru-notes/test/debug_import_test.dart                                                                                                                       00:59 +418 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors returns error for unsupported file type                                                 00:59 +419 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors returns error for unsupported file type                                                 00:59 +419 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors imports simple markdown note                                                            00:59 +420 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors imports simple markdown note                                                            01:00 +420 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors imports simple markdown note                                                            01:00 +420 ~9 -1: loading /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart                                                                                                      01:00 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              01:00 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:00 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors01:00 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors

🔧 Testing core provider instantiation...
  📊 Testing AppDb provider...
  📝 Testing Logger provider...
  📈 Testing Analytics provider...
  ✅ Core providers instantiated successfully
01:00 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors01:00 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly         01:00 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly

📋 Testing task service provider instantiation...
  📝 Testing TaskCoreRepository provider...
    ✅ TaskCoreRepository unavailable without authentication
  🚀 Testing EnhancedTaskService provider...
    ✅ EnhancedTaskService requires authenticated user (expected)
  🎯 Testing DomainTaskController provider...
    ✅ DomainTaskController blocked until security services initialize (expected)
  🔔 Testing TaskReminderBridge provider...
  ✅ Task service providers instantiated successfully
01:00 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly         01:00 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly      01:00 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly

🔔 Testing reminder system provider instantiation...
  🎯 Testing Unified ReminderCoordinator provider...
  ✅ Reminder system providers instantiated successfully
01:00 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly      01:00 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly           01:00 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly

🗄️ Testing repository provider instantiation...
  📝 Testing NotesRepository provider...
    ✅ NotesRepository blocked until security services initialize (expected)
  📁 Testing FolderRepository provider...
  📋 Testing TaskRepository provider...
  ✅ Repository providers behave correctly
01:00 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly           01:00 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy 01:00 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy

🔗 Testing provider dependency chain...
  🔍 Testing domainTaskController dependencies: taskCoreRepository, notesCoreRepository, enhancedTaskService, logger
    ❌ Failed to resolve dependency notesCoreRepository: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
    ❌ Failed to resolve dependency enhancedTaskService: Bad state: EnhancedTaskService requires authenticated user
  🔍 Testing enhancedTaskService dependencies: appDb, taskReminderBridge
    ✅ All dependencies resolved for enhancedTaskService
  🔍 Testing taskReminderBridge dependencies: unifiedReminderCoordinator, advancedReminderService, taskCoreRepository
    ✅ All dependencies resolved for taskReminderBridge
  ✅ Provider dependency chain validation completed
01:00 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy 01:00 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  01:00 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  

🔄 Testing for circular dependencies...
  🔄 Testing provider order 1: appDb → logger → taskCoreRepository → notesCoreRepository → enhancedTaskService → domainTaskController
    ❌ Potential circular dependency detected in order 1: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  🔄 Testing provider order 2: domainTaskController → enhancedTaskService → notesCoreRepository → taskCoreRepository → logger → appDb
    ❌ Potential circular dependency detected in order 2: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  🔄 Testing provider order 3: logger → domainTaskController → appDb → taskCoreRepository → notesCoreRepository → enhancedTaskService
    ❌ Potential circular dependency detected in order 3: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  ✅ Circular dependency testing completed
01:01 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  01:01 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies    01:01 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies

🎯 Testing DomainTaskController integration...
  ✅ DomainTaskController integration validated
01:01 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies    01:01 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge  01:01 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge

🚀 Testing EnhancedTaskService integration...
  ✅ EnhancedTaskService requires authenticated user (expected)
01:01 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge  01:01 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      01:01 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      

🔔 Testing ReminderCoordinator integration...
  ✅ ReminderCoordinator integration validated
01:01 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      01:01 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               01:01 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               

🧹 Testing provider disposal...
  ✅ Provider disposal completed successfully
01:01 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               01:01 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (tearDownAll)                                                           01:01 +430 ~9 -1: loading /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart                                                                                                      01:01 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  01:01 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-123 title="Performance Task" due=null priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 4ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 9ms (task perf-1764050851567123)
[DomainTaskController] task created id=perf-1764050851567123 note=note-123
01:01 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  01:01 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Concurrent toggles complete within acceptable bounds                        01:01 +432 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Concurrent toggles complete within acceptable bounds                        01:01 +432 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task list streaming handles rapid updates                                   01:01 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task list streaming handles rapid updates                                   01:01 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring TaskSyncMetrics captures performance statistics                             01:01 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring TaskSyncMetrics captures performance statistics                             01:01 +434 ~9 -1: loading /Users/onronder/duru-notes/test/folders/folder_data_integrity_test.dart                                                                                                      01:01 +434 ~9 -1: loading /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart                                                                                                       01:01 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly 01:01 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly

🏗️ Testing core infrastructure provider dependencies...
  📊 Testing AppDb provider...
  📝 Testing Logger provider...
  📈 Testing Analytics provider...
  ✅ Core infrastructure providers validation completed
01:01 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly 01:01 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites  01:01 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites

📋 Testing domain task provider prerequisites...
  📝 Reading taskCoreRepositoryProvider...
    ✅ taskCoreRepository requires Supabase initialization (expected)
  🚀 Reading enhancedTaskServiceProvider...
    ✅ enhancedTaskService requires Supabase initialization (expected)
  🎯 Reading domainTaskControllerProvider...
    ✅ domainTaskController requires Supabase initialization (expected)
  🔔 Reading taskReminderBridgeProvider...
    ✅ taskReminderBridge requires Supabase initialization (expected)
01:01 +436 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites  01:01 +436 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Reminder system providers can be instantiated correctly      01:01 +436 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Reminder system providers can be instantiated correctly

🔔 Testing reminder system provider instantiation...
  🎯 Reading unifiedReminderCoordinatorProvider...
  🚀 Reading advancedReminderServiceProvider...
  ✅ Reminder system providers instantiated successfully
01:01 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Reminder system providers can be instantiated correctly      01:01 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers        01:01 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers

🔗 Testing domain task dependency chain...
  🔍 Testing domainTaskController dependencies...
    ⚠️ taskCoreRepository requires Supabase initialization (expected)
    ⚠️ notesCoreRepository requires Supabase initialization (expected)
    ⚠️ enhancedTaskService requires Supabase initialization (expected)
    ✅ Dependencies processed for domainTaskController
  🔍 Testing enhancedTaskService dependencies...
    ⚠️ taskReminderBridge requires Supabase initialization (expected)
    ✅ Dependencies processed for enhancedTaskService
  🔍 Testing taskReminderBridge dependencies...
    ✅ Dependencies processed for taskReminderBridge
01:02 +438 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers        01:02 +438 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers 01:02 +438 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers

🔄 Testing for circular dependencies (domain)...
  🔁 Scenario 1: appDb → taskCoreRepository → notesCoreRepository → enhancedTaskService → domainTaskController
    ✅ No circular dependency detected in scenario 1
  🔁 Scenario 2: domainTaskController → enhancedTaskService → taskReminderBridge → unifiedReminderCoordinator → advancedReminderService
    ✅ No circular dependency detected in scenario 2
01:02 +439 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers 01:02 +439 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly               01:02 +439 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly               

🧹 Testing provider disposal and cleanup...
  🔍 Testing base provider disposal...
  🔍 Testing enhanced task provider disposal...
  ✅ Provider disposal checks completed
01:02 +440 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly               01:02 +440 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface       01:02 +440 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface

🎯 Inspecting DomainTaskController API surface...
01:02 +441 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface       01:02 +441 ~9 -1: loading /Users/onronder/duru-notes/test/sync/sync_verification_test.dart                                                                                                             01:02 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 01:02 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:02 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                           01:02 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                           
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
01:02 +441 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                          01:02 +441 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  01:02 +441 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
01:02 +441 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  01:02 +441 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     01:02 +441 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
01:02 +441 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     01:02 +441 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     01:02 +441 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
01:02 +441 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     01:02 +441 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests UnifiedSyncService can be initialized                                                     01:03 +441 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests UnifiedSyncService can be initialized                                                     01:03 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests UnifiedSyncService can be initialized                                                     01:03 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (tearDownAll)                                                                             01:03 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) (setUpAll)                                                               01:03 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            01:03 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
01:03 +442 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            01:03 +442 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      01:03 +442 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
01:03 +442 ~15 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      01:03 +442 ~15 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) (tearDownAll)                                                            01:03 +442 ~15 -1: loading /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart                                                                                                01:03 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: (setUpAll)                                                                                            01:03 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    01:04 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    01:04 +443 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    01:04 +443 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 500 folders with userId filter completes in < 50ms    01:04 +444 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 500 folders with userId filter completes in < 50ms    01:04 +444 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Database Query Performance Query 100 saved searches with userId filter completes in < 30ms        01:04 +445 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Database Query Performance Query 100 saved searches with userId filter completes in < 30ms        01:04 +445 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 100 saved searches completes in < 500ms          01:04 +446 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation createTask throws when no authenticated user             01:04 +447 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation createTask throws when no authenticated user             01:04 +448 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation createTask throws when no authenticated user             01:04 +449 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Data Isolation Performance Query isolation for 10 users with 100 notes each completes efficiently 01:04 +450 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation getAllTasks returns tasks only for current user          01:04 +451 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Multi-Tenant Data Isolation Performance Folder hierarchy query with userId filter is performant   01:04 +452 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation getTaskById enforces ownership                           01:04 +453 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Multi-Tenant Data Isolation Performance SavedSearch isolation for 20 users with 50 searches each  01:04 +454 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Multi-Tenant Data Isolation Performance SavedSearch isolation for 20 users with 50 searches each  01:04 +454 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Concurrent Operation Performance 10 concurrent queries execute efficiently     01:04 +455 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Concurrent Operation Performance 10 concurrent queries execute efficiently     01:04 +455 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Concurrent Operation Performance Concurrent migration and query operations     01:05 +456 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: (setUpAll)                                                                            01:05 +456 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: (setUpAll)                                                                            
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:05 +456 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Index Performance Validation userId index improves query performance significantly     01:05 +457 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  01:05 +458 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 01:05 +459 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 01:05 +460 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 01:06 +460 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 01:06 +461 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 01:06 +462 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           01:06 +462 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           
Rate limit request: user-123 (RateLimitType.user) - /api/notes/upsert
API call to /api/notes/upsert completed in 1ms
Rate limit request: user-123 (RateLimitType.user) - /api/note-folders/delete
API call to /api/note-folders/delete completed in 0ms
01:06 +463 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Large dataset query uses reasonable memory                   01:06 +463 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads reminder operations to Supabase                            
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 1ms
01:06 +464 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Large dataset query uses reasonable memory                   01:06 +465 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    01:06 +465 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/delete
API call to /api/reminders/delete completed in 0ms
01:06 +466 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Migration processes data in manageable batches               01:06 +466 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    
Rate limit request: user-123 (RateLimitType.user) - /api/notes/fetch
API call to /api/notes/fetch completed in 0ms
01:06 +467 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    01:06 +468 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    01:06 +469 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    01:06 +469 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    
Rate limit request: user-123 (RateLimitType.user) - /api/folders/fetch
API call to /api/folders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/tasks/fetch
API call to /api/tasks/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/templates/fetch
API call to /api/templates/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/note-folders/fetch
API call to /api/note-folders/fetch completed in 0ms
01:06 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    01:07 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    01:07 +470 ~15 -1: loading /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart                                                                              01:07 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              01:07 +471 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              01:07 +471 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getTemplateById enforces ownership while allowing system templates                  01:07 +472 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getTemplateById enforces ownership while allowing system templates                  01:07 +472 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate assigns user ownership and enqueues sync operation                   01:07 +473 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate assigns user ownership and enqueues sync operation                   01:07 +473 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate throws when no authenticated user is available                       01:07 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate throws when no authenticated user is available                       01:07 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              01:08 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              01:08 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              01:08 +475 ~15 -1: loading /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart                                                                                01:08 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: (setUpAll)                                                                            01:08 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: (setUpAll)                                                                            
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:08 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... - NotesCoreRepository deleteNote sets deletedAt and scheduledPurgeAt timestamps   01:08 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository deleteNote sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=0fc10c28-6af5-422b-9347-6d71bdbabb4b isUpdate=false titleLen=9 bodyLen=9 traceId=none
[NotesCoreRepository] note persisted noteId=0fc10c28-6af5-422b-9347-6d71bdbabb4b folder=null tagCount=0 traceId=none
01:08 +476 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/quick_capture_repository_test.dart: QuickCaptureRepository enqueueCapture stores encrypted payload and retrieves pending captures    01:08 +476 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=91e874a3-67d5-4bea-a904-56dc6675f67e isUpdate=false titleLen=13 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=91e874a3-67d5-4bea-a904-56dc6675f67e folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=ad1e9cee-bc6d-411c-9245-060e191e3813 isUpdate=false titleLen=11 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=ad1e9cee-bc6d-411c-9245-060e191e3813 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=9cd057c3-e04b-4d9f-9d21-62cc22ff4d17 isUpdate=false titleLen=11 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=9cd057c3-e04b-4d9f-9d21-62cc22ff4d17 folder=null tagCount=0 traceId=none
01:09 +477 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/quick_capture_repository_test.dart: QuickCaptureRepository enqueueCapture stores encrypted payload and retrieves pending captures    01:09 +478 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    01:09 +478 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +479 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    01:09 +479 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=d82ad87b-20ec-4ab7-be0f-5f23a16eb5aa isUpdate=false titleLen=21 bodyLen=4 traceId=none
01:09 +480 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    01:09 +480 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
[NotesCoreRepository] note persisted noteId=d82ad87b-20ec-4ab7-be0f-5f23a16eb5aa folder=null tagCount=0 traceId=none
01:09 +481 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +481 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository restoreNote clears deletion timestamps              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository restoreNote clears deletion timestamps              
[NotesCoreRepository] createOrUpdate noteId=b4c6a87f-5bad-4c4e-a3d0-538227be9fbc isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=b4c6a87f-5bad-4c4e-a3d0-538227be9fbc folder=null tagCount=0 traceId=none
01:09 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository deleteFolder sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +484 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +484 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository getDeletedFolders returns only soft-deleted folders
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository permanentlyDeleteFolder removes folder from database
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             
[NotesCoreRepository] createOrUpdate noteId=78b79b70-40b2-4978-8916-ba3bef0d498d isUpdate=false titleLen=11 bodyLen=20 traceId=none
01:09 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository restoreFolder clears deletion timestamps           
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             01:09 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             
[NotesCoreRepository] note persisted noteId=78b79b70-40b2-4978-8916-ba3bef0d498d folder=null tagCount=0 traceId=none
01:09 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps
[NotesCoreRepository] createOrUpdate noteId=46ca52cd-7e4e-4dfb-babe-337462558019 isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=46ca52cd-7e4e-4dfb-babe-337462558019 folder=null tagCount=0 traceId=none
01:09 +488 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps    01:09 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              01:09 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=9616a38a-38df-4a1e-b869-b2aae438479d isUpdate=false titleLen=16 bodyLen=0 traceId=none
01:09 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              
[NotesCoreRepository] createOrUpdate noteId=c35427d4-8358-4582-9d8d-0f4a8adc40e3 isUpdate=false titleLen=13 bodyLen=22 traceId=none
[NotesCoreRepository] note persisted noteId=c35427d4-8358-4582-9d8d-0f4a8adc40e3 folder=null tagCount=0 traceId=none
01:09 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
[NotesCoreRepository] note persisted noteId=9616a38a-38df-4a1e-b869-b2aae438479d folder=null tagCount=0 traceId=none
01:09 +490 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      01:09 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      01:09 +492 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        01:09 +492 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +492 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        
[NotesCoreRepository] createOrUpdate noteId=539aecc9-cdd3-4609-aa98-01c9c74364cd isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=539aecc9-cdd3-4609-aa98-01c9c74364cd folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=8291714a-34ce-4079-b983-fec6934fff15 isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=8291714a-34ce-4079-b983-fec6934fff15 folder=null tagCount=0 traceId=none
01:09 +492 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
[NotesCoreRepository] createOrUpdate noteId=501d5459-354d-43f8-bd2c-98ba5b0efed6 isUpdate=false titleLen=16 bodyLen=0 traceId=none
01:09 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     01:09 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
[NotesCoreRepository] note persisted noteId=501d5459-354d-43f8-bd2c-98ba5b0efed6 folder=null tagCount=0 traceId=none
01:09 +494 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            01:09 +494 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

01:09 +494 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            
[NotesCoreRepository] createOrUpdate noteId=7cc6ea4a-47a2-4edf-acf8-ca29d78c775e isUpdate=false titleLen=11 bodyLen=20 traceId=none
01:09 +494 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
01:09 +494 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            
[NotesCoreRepository] note persisted noteId=7cc6ea4a-47a2-4edf-acf8-ca29d78c775e folder=null tagCount=0 traceId=none
01:09 +495 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               01:10 +495 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               01:10 +495 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
[NotesCoreRepository] createOrUpdate noteId=392fcb86-7dde-46c0-a0d9-943e38670a7b isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=392fcb86-7dde-46c0-a0d9-943e38670a7b folder=null tagCount=0 traceId=none
01:10 +495 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] createOrUpdate noteId=81b5e042-5fd5-43f9-8723-54d96f2bb1c1 isUpdate=false titleLen=6 bodyLen=15 traceId=none
01:10 +496 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               01:10 +496 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] note persisted noteId=81b5e042-5fd5-43f9-8723-54d96f2bb1c1 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=2f3c1412-b2d3-4db2-9784-23a5c20958f0 isUpdate=false titleLen=6 bodyLen=15 traceId=none
01:10 +497 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               01:10 +497 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] note persisted noteId=2f3c1412-b2d3-4db2-9784-23a5c20958f0 folder=null tagCount=0 traceId=none
01:10 +498 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          01:10 +499 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +499 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: watchNotes stream emits only current user notes                                           
[NotesCoreRepository] createOrUpdate noteId=2601dfbe-858e-45d1-8561-c8ae98240275 isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=2601dfbe-858e-45d1-8561-c8ae98240275 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=5c348c37-59b0-41b7-adcf-3e56b513683f isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=5c348c37-59b0-41b7-adcf-3e56b513683f folder=null tagCount=0 traceId=none
01:10 +500 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +500 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: toggleNotePin enforces user isolation                                                     
[NotesCoreRepository] createOrUpdate noteId=cea91875-312f-4610-ace0-9fba0b508e2d isUpdate=false titleLen=10 bodyLen=19 traceId=none
[NotesCoreRepository] note persisted noteId=cea91875-312f-4610-ace0-9fba0b508e2d folder=null tagCount=0 traceId=none
01:10 +501 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +501 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: setNotePin only updates owner notes                                                       
[NotesCoreRepository] createOrUpdate noteId=e2bf4c22-a422-40e7-aa16-dfb218b19539 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=e2bf4c22-a422-40e7-aa16-dfb218b19539 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=32c6c874-413b-4d79-9e4d-9649bd9623dd isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=32c6c874-413b-4d79-9e4d-9649bd9623dd folder=null tagCount=0 traceId=none
01:10 +502 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +502 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getPinnedNotes returns pins for current user only                                         
[NotesCoreRepository] createOrUpdate noteId=81422910-7b31-495e-86cb-01afa2b0e19a isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=81422910-7b31-495e-86cb-01afa2b0e19a folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=1d01c1dd-07d2-472e-9b18-466083984d71 isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=1d01c1dd-07d2-472e-9b18-466083984d71 folder=null tagCount=0 traceId=none
01:10 +503 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +503 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: folder counts and ids are scoped per user                                                 
[NotesCoreRepository] createOrUpdate noteId=e778e497-d0fa-49a1-80d5-131a19f524f1 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=e778e497-d0fa-49a1-80d5-131a19f524f1 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=ca6c5a52-170c-457c-a554-fcb1114fac30 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=ca6c5a52-170c-457c-a554-fcb1114fac30 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=d7dc91de-385c-4ac1-9ad0-8fc855e2e2fb isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=d7dc91de-385c-4ac1-9ad0-8fc855e2e2fb folder=null tagCount=0 traceId=none
01:10 +504 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +504 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: CaptureNotesAdapter enforces authentication boundary                                      
[NotesCoreRepository] createOrUpdate noteId=10961e84-ce15-4a69-adab-0d0a5faeb117 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=10961e84-ce15-4a69-adab-0d0a5faeb117 folder=null tagCount=0 traceId=none
01:10 +505 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +506 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 01:10 +506 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects invalid URLs                                      01:10 +507 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects invalid URLs                                      01:10 +507 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects localhost in production                           01:10 +508 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects localhost in production                           01:10 +508 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator checks analytics sampling rates                           01:10 +509 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator checks analytics sampling rates                           01:10 +509 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator warns about production misconfigurations                  01:10 +510 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator warns about production misconfigurations                  01:10 +510 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache manager basic operations work                                                   01:10 +511 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache manager basic operations work                                                   01:10 +511 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache TTL expiration works                                                            01:10 +512 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache TTL expiration works                                                            01:10 +512 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache statistics tracking works                                                       01:10 +513 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache statistics tracking works                                                       01:10 +513 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache eviction policies work correctly                                                01:10 +514 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache eviction policies work correctly                                                01:10 +514 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache getOrCompute works                                                              01:10 +515 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache getOrCompute works                                                              01:10 +515 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        01:11 +515 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        01:11 +516 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        01:11 +516 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository result wrapper works correctly                                        01:11 +517 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository result wrapper works correctly                                        01:11 +517 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository error includes metadata                                               01:11 +518 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository error includes metadata                                               01:11 +518 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests QuerySpec builds correct query parameters                                        01:11 +519 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests QuerySpec builds correct query parameters                                        01:11 +519 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Cache statistics calculation                                                     01:11 +520 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Cache statistics calculation                                                     01:11 +520 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Infrastructure providers are properly configured                           01:11 +521 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Infrastructure providers are properly configured                           01:11 +521 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Provider helper extensions work                                            01:11 +522 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Provider helper extensions work                                            01:11 +522 ~15 -1: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     01:11 +522 ~15 -2: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: UserConfirmations Validation rejects anonymization when dataBackupComplete is false [E]              
  Expected: throws <Instance of 'Exception'> with `message`: contains 'confirmations'
    Actual: <Closure: () => Future<GDPRAnonymizationReport>>
     Which: threw SafeguardException:<SafeguardException [pre-flight]: Anonymization blocked by safety checks:
                  Email address must be verified before account deletion. Please verify your email and try again.
                  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}>
            stack package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
                  ===== asynchronous gap ===========================
                  package:matcher                                                    expect
                  package:flutter_test/src/widget_tester.dart 473:18                 expect
                  test/services/gdpr_anonymization_service_test.dart 163:7           main.<fn>.<fn>
                  
            which has `message` with value 'SafeguardException [pre-flight]: Anonymization blocked by safety checks:\n'
                    'Email address must be verified before account deletion. Please verify your email and try again.\n'
                    'Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}' which does not contain 'confirmations'
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/services/gdpr_anonymization_service_test.dart 163:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'UserConfirmations Validation rejects anonymization when dataBackupComplete is false'
01:11 +522 ~15 -3: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: UserConfirmations Validation rejects anonymization when token does not match userId [E]              
  Expected: throws <Instance of 'Exception'> with `message`: contains 'confirmation token'
    Actual: <Closure: () => Future<GDPRAnonymizationReport>>
     Which: threw SafeguardException:<SafeguardException [pre-flight]: Anonymization blocked by safety checks:
                  Email address must be verified before account deletion. Please verify your email and try again.
                  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}>
            stack package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
                  ===== asynchronous gap ===========================
                  package:matcher                                                    expect
                  package:flutter_test/src/widget_tester.dart 473:18                 expect
                  test/services/gdpr_anonymization_service_test.dart 186:7           main.<fn>.<fn>
                  
            which has `message` with value 'SafeguardException [pre-flight]: Anonymization blocked by safety checks:\n'
                    'Email address must be verified before account deletion. Please verify your email and try again.\n'
                    'Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}' which does not contain 'confirmation token'
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/services/gdpr_anonymization_service_test.dart 186:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'UserConfirmations Validation rejects anonymization when token does not match userId'
01:11 +522 ~15 -4: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Phase 1: Pre-Anonymization Validation throws exception when user is not authenticated [E]            
  Expected: throws <Instance of 'Exception'> with `message`: contains 'Phase 1 validation failed'
    Actual: <Closure: () => Future<GDPRAnonymizationReport>>
     Which: threw SafeguardException:<SafeguardException [pre-flight]: Anonymization blocked by safety checks:
                  No authenticated user found
                  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {}, activeSessions: {}}>
            stack package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
                  ===== asynchronous gap ===========================
                  package:matcher                                                    expect
                  package:flutter_test/src/widget_tester.dart 473:18                 expect
                  test/services/gdpr_anonymization_service_test.dart 209:7           main.<fn>.<fn>
                  
            which has `message` with value 'SafeguardException [pre-flight]: Anonymization blocked by safety checks:\n'
                    'No authenticated user found\n'
                    'Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {}, activeSessions: {}}' which does not contain 'Phase 1 validation failed'
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/services/gdpr_anonymization_service_test.dart 209:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Phase 1: Pre-Anonymization Validation throws exception when user is not authenticated'
01:11 +522 ~15 -5: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Phase 3: Encryption Key Destruction (Point of No Return) successfully destroys all 6 key locations [E]
  SafeguardException [pre-flight]: Anonymization blocked by safety checks:
  Email address must be verified before account deletion. Please verify your email and try again.
  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}
  package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Phase 3: Encryption Key Destruction (Point of No Return) successfully destroys all 6 key locations'
01:11 +522 ~15 -6: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Phase 3: Encryption Key Destruction (Point of No Return) throws exception on Phase 3 key destruction failure [E]
  Expected: throws <Instance of 'Exception'> with `message`: contains 'Phase 3 key destruction failed'
    Actual: <Closure: () => Future<GDPRAnonymizationReport>>
     Which: threw SafeguardException:<SafeguardException [pre-flight]: Anonymization blocked by safety checks:
                  Email address must be verified before account deletion. Please verify your email and try again.
                  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}>
            stack package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
                  ===== asynchronous gap ===========================
                  package:matcher                                                    expect
                  package:flutter_test/src/widget_tester.dart 473:18                 expect
                  test/services/gdpr_anonymization_service_test.dart 327:7           main.<fn>.<fn>
                  
            which has `message` with value 'SafeguardException [pre-flight]: Anonymization blocked by safety checks:\n'
                    'Email address must be verified before account deletion. Please verify your email and try again.\n'
                    'Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}' which does not contain 'Phase 3 key destruction failed'
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/services/gdpr_anonymization_service_test.dart 327:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Phase 3: Encryption Key Destruction (Point of No Return) throws exception on Phase 3 key destruction failure'
01:11 +522 ~15 -7: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Progress Callbacks invokes progress callback for each phase [E]                                      
  SafeguardException [pre-flight]: Anonymization blocked by safety checks:
  Email address must be verified before account deletion. Please verify your email and try again.
  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}
  package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Progress Callbacks invokes progress callback for each phase'
01:11 +522 ~15 -8: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Progress Callbacks progress shows increasing overall progress [E]                                    
  SafeguardException [pre-flight]: Anonymization blocked by safety checks:
  Email address must be verified before account deletion. Please verify your email and try again.
  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}
  package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Progress Callbacks progress shows increasing overall progress'
01:11 +522 ~15 -9: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Complete Anonymization Flow successfully completes all 7 phases [E]                                  
  SafeguardException [pre-flight]: Anonymization blocked by safety checks:
  Email address must be verified before account deletion. Please verify your email and try again.
  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}
  package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Complete Anonymization Flow successfully completes all 7 phases'
01:11 +522 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Complete Anonymization Flow generates valid anonymization ID (UUID format) [E]                      
  SafeguardException [pre-flight]: Anonymization blocked by safety checks:
  Email address must be verified before account deletion. Please verify your email and try again.
  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}
  package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Complete Anonymization Flow generates valid anonymization ID (UUID format)'
01:11 +522 ~15 -11: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Complete Anonymization Flow generates compliance certificate with all required sections [E]         
  SafeguardException [pre-flight]: Anonymization blocked by safety checks:
  Email address must be verified before account deletion. Please verify your email and try again.
  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {email: null, emailConfirmed: false, emailConfirmedAt: null}, activeSessions: {}}
  package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Complete Anonymization Flow generates compliance certificate with all required sections'
01:11 +522 ~15 -12: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Error Handling throws exception if user is not authenticated [E]                                    
  Expected: throws <Instance of 'Exception'> with `message`: contains 'Phase 1 validation failed'
    Actual: <Closure: () => Future<GDPRAnonymizationReport>>
     Which: threw SafeguardException:<SafeguardException [pre-flight]: Anonymization blocked by safety checks:
                  No authenticated user found
                  Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {}, activeSessions: {}}>
            stack package:duru_notes/services/gdpr_anonymization_service.dart 199:9  GDPRAnonymizationService.anonymizeUserAccount
                  ===== asynchronous gap ===========================
                  package:matcher                                                    expect
                  package:flutter_test/src/widget_tester.dart 473:18                 expect
                  test/services/gdpr_anonymization_service_test.dart 637:7           main.<fn>.<fn>
                  
            which has `message` with value 'SafeguardException [pre-flight]: Anonymization blocked by safety checks:\n'
                    'No authenticated user found\n'
                    'Details: {environment: {isProduction: false, isDebugMode: true, overrideAllowed: false}, rateLimit: {}, emailVerification: {}, activeSessions: {}}' which does not contain 'Phase 1 validation failed'
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/services/gdpr_anonymization_service_test.dart 637:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Error Handling throws exception if user is not authenticated'
01:11 +523 ~15 -12: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                    01:11 +523 ~15 -13: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Phase 5: Unencrypted Metadata Clearing successfully clears all unencrypted metadata [E]             
  Invalid argument(s): `thenReturn` should not be used to return a Future. Instead, use `thenAnswer((_) => future)`.
  package:mockito/src/mock.dart 623:7                       PostExpectation._throwIfInvalid
  package:mockito/src/mock.dart 566:5                       PostExpectation.thenReturn
  test/services/gdpr_anonymization_service_test.dart 712:9  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Phase 5: Unencrypted Metadata Clearing successfully clears all unencrypted metadata'
01:11 +523 ~15 -14: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Phase 5: Unencrypted Metadata Clearing handles Phase 5 partial failure gracefully [E]               
  Bad state: Cannot call `when` within a stub response
  package:mockito/src/mock.dart 1299:5                      when
  test/services/gdpr_anonymization_service_test.dart 134:5  main.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Phase 5: Unencrypted Metadata Clearing handles Phase 5 partial failure gracefully'
01:11 +523 ~15 -15: /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: Phase 5: Unencrypted Metadata Clearing tracks Phase 5 progress callbacks correctly [E]              
  Bad state: Cannot call `when` within a stub response
  package:mockito/src/mock.dart 1299:5                      when
  test/services/gdpr_anonymization_service_test.dart 134:5  main.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'Phase 5: Unencrypted Metadata Clearing tracks Phase 5 progress callbacks correctly'
01:11 +523 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                    01:12 +523 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                    01:12 +524 ~15 -15: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist              01:12 +525 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +526 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +527 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +528 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +529 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +530 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +531 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +532 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +533 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +534 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +535 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +536 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +537 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +538 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +539 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +540 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:12 +541 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:13 +541 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:13 +542 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:13 +543 ~15 -15: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                          01:13 +543 ~15 -15: loading /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart                                                                                                   01:13 +543 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                   01:13 +544 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                   01:13 +544 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus updates record when user authenticated      01:13 +545 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus updates record when user authenticated      01:13 +545 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus skips update when user missing              01:13 +546 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus skips update when user missing              01:13 +546 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote delegates to database with user scope        01:13 +547 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote delegates to database with user scope        01:13 +547 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote returns empty when unauthenticated           01:13 +548 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote returns empty when unauthenticated           01:13 +548 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications scheduleNotification delegates to plugin                               01:13 +549 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications scheduleNotification delegates to plugin                               01:13 +549 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications cancelNotification cancels scheduled entry                             01:13 +550 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications cancelNotification cancels scheduled entry                             01:13 +550 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                            01:13 +551 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                            01:14 +551 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                            01:15 +551 ~15 -15: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                            01:15 +551 ~15 -15: loading /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart                                                                                             01:15 +551 ~15 -15: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer does nothing when platform check fails                                 01:15 +552 ~15 -15: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer does nothing when platform check fails                                 01:15 +552 ~15 -15: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes syncWidgetCache with payload                                   01:15 +553 ~15 -15: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes syncWidgetCache with payload                                   01:15 +553 ~15 -15: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                 01:15 +554 ~15 -15: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                 01:15 +554 ~15 -15: loading /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart                                                                                                  01:15 +554 ~15 -15: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                 01:16 +554 ~15 -15: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                 01:16 +555 ~15 -15: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                 01:16 +555 ~15 -15: loading /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart                                                                                                 01:16 +555 ~15 -15: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file           test/services/lazy_encryption_race_condition_test.dart:60:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:125:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:203:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:260:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:317:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:349:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:66:9: Error: The argument type 'MockProviderContainer' can't be assigned to the parameter type 'Ref<Object?>'.
 - 'MockProviderContainer' is from 'test/services/lazy_encryption_race_condition_test.mocks.dart'.
 - 'Ref' is from 'package:riverpod/src/framework.dart' ('../.pub-cache/hosted/pub.dev/riverpod-2.6.1/lib/src/framework.dart').
 - 'Object' is from 'dart:core'.
        mockContainer,
        ^
01:16 +555 ~15 -16: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file [E]       
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 51:35                         main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 51:35                         main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file'
01:16 +555 ~15 -16: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when no recording path available                  01:16 +555 ~15 -17: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when no recording path available [E]              
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 86:35                         main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 86:35                         main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload returns null when no recording path available'
01:16 +555 ~15 -17: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when reading recording bytes fails                01:16 +556 ~15 -17: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when reading recording bytes fails                01:16 +556 ~15 -17: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when upload fails                                 01:16 +556 ~15 -18: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when upload fails [E]                             
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 112:35                        main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 112:35                        main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload returns null when upload fails'
01:16 +556 ~15 -18: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload tracks analytics with recording_type voice_note                01:16 +557 ~15 -18: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload tracks analytics with recording_type voice_note                01:16 +557 ~15 -18: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge                        01:16 +557 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge [E]                    
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 135:35                        main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 135:35                        main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge'
01:16 +557 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings logs cleanup statistics                                01:16 +558 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings logs cleanup statistics                                01:16 +558 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings does not throw on individual file deletion errors      01:16 +559 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings does not throw on individual file deletion errors      01:16 +559 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking startRecording includes recording_type: voice_note            01:16 +560 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking startRecording includes recording_type: voice_note            01:16 +560 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking stopRecording includes recording_type: voice_note             01:16 +561 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking stopRecording includes recording_type: voice_note             01:16 +561 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: RecordingResult creates valid result object                                                            01:16 +562 ~15 -19: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: RecordingResult creates valid result object                                                            01:16 +562 ~15 -20: loading /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart [E]                                                                                      
  Failed to load "/Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart":
  Compilation failed for testPath=/Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart: test/services/lazy_encryption_race_condition_test.dart:60:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:125:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:203:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:260:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:317:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:349:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:66:9: Error: The argument type 'MockProviderContainer' can't be assigned to the parameter type 'Ref<Object?>'.
   - 'MockProviderContainer' is from 'test/services/lazy_encryption_race_condition_test.mocks.dart'.
   - 'Ref' is from 'package:riverpod/src/framework.dart' ('../.pub-cache/hosted/pub.dev/riverpod-2.6.1/lib/src/framework.dart').
   - 'Object' is from 'dart:core'.
          mockContainer,
          ^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart -p vm --plain-name 'loading /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart'
01:17 +562 ~15 -20: loading /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart                                                                                                       01:17 +562 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records note folder changes and exposes undo state                                           01:17 +563 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records note folder changes and exposes undo state                                           01:17 +563 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo note folder change restores previous folder                                             01:17 +564 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo note folder change restores previous folder                                             01:17 +564 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo note folder change reapplies destination folder                                         01:17 +565 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo note folder change reapplies destination folder                                         01:17 +565 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService recordNoteFolderChange handles unfiling descriptions                                         01:17 +566 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService recordNoteFolderChange handles unfiling descriptions                                         01:17 +566 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records batch folder change with correct description                                         01:17 +567 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records batch folder change with correct description                                         01:17 +567 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo batch folder change restores previous folders                                           01:17 +568 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo batch folder change restores previous folders                                           01:17 +568 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo batch folder change reapplies new folder to all notes                                   01:17 +569 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo batch folder change reapplies new folder to all notes                                   01:17 +569 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService new operation clears redo stack                                                              01:17 +570 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService new operation clears redo stack                                                              01:17 +570 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService clearHistory empties undo and redo stacks                                                    01:17 +571 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService clearHistory empties undo and redo stacks                                                    01:17 +571 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService respects max stack size by trimming earliest operations                                      01:17 +572 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService respects max stack size by trimming earliest operations                                      01:17 +572 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                01:17 +573 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                01:17 +573 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records folder moves and provides undo support                                               01:17 +574 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records folder moves and provides undo support                                               01:17 +574 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                            01:17 +575 ~15 -20: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                            01:17 +575 ~15 -20: loading /Users/onronder/duru-notes/test/services/push_notification_service_test.dart                                                                                               01:17 +575 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (setUpAll)                                                                                           01:17 +575 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: ... requests permission, obtains token, and syncs with backend                                       01:17 +575 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend
🔔 Initial permission status: AuthorizationStatus.notDetermined
🔔 Alert setting: AppleNotificationSetting.enabled
🔔 Badge setting: AppleNotificationSetting.enabled
🔔 Sound setting: AppleNotificationSetting.enabled
🔔 Permission not granted yet. Requesting permission...
🔔 Permission after request: AuthorizationStatus.authorized
🔔 Alert: AppleNotificationSetting.enabled, Badge: AppleNotificationSetting.enabled, Sound: AppleNotificationSetting.enabled
✅ Permission granted! Status: AuthorizationStatus.authorized
🔔 Attempting to get FCM token...
✅ Got FCM token: fcm-token-12345678901234567890...
📱 Getting device metadata...
📱 Platform: unknown, App version: 1.0.0+1
💾 Syncing token with backend...
🔐 _syncTokenWithBackend called
📱 Device ID: 19ab9a01-7221-9ab9-a017-2319ab9a0172
🔐 Auth Status Check:
  User ID: user-123
  User Email: test@example.com
  Session exists: true
  Access token exists: true
📤 Calling user_devices_upsert RPC with:
  device_id: 19ab9a01-7221-9ab9-a017-2319ab9a0172
  push_token: fcm-token-1234567890...
  platform: unknown
  app_version: 1.0.0+1
  user_id (from auth): user-123
🚀 Making RPC call...
✅ RPC call succeeded
🔍 Verifying token in database...
🔍 Query result: {device_id: 19ab9a01-7221-9ab9-a017-2319ab9a0172, platform: unknown, push_token: fcm-token-12345678901234567890}
✅ Verified: Token exists in database
   Device ID: 19ab9a01-7221-9ab9-a017-2319ab9a0172
   Platform: unknown
✅ Token sync completed
01:17 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: ... requests permission, obtains token, and syncs with backend                                       01:17 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                        01:18 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                        01:19 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                        01:20 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                        01:21 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                        01:22 +576 ~15 -20: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                        01:22 +576 ~15 -20: loading /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart                                                                                                    01:22 +576 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                      01:22 +577 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                      01:22 +578 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                      01:22 +579 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                      01:22 +580 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Icons should return correct icon for each permission type                      01:22 +581 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when snooze limit reached                                                    01:22 +582 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Cache Management should clear cache                                                       01:22 +583 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                          01:22 +584 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                          01:22 +585 ~15 -20: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                          01:22 +585 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should notify observers on permission change                                    01:22 +586 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should notify observers on permission change                                    01:22 +586 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should request multiple permissions                                            01:22 +587 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should request multiple permissions                                            01:22 +587 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should check if all permissions are granted                                    01:22 +588 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should check if all permissions are granted                                    01:22 +588 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should use unified permission manager when flag is enabled       01:22 +589 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should use unified permission manager when flag is enabled       01:22 +589 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should fall back to legacy when flag is disabled                 01:22 +590 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should fall back to legacy when flag is disabled                 01:22 +590 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle permission request flow                                   01:22 +591 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle permission request flow                                   01:22 +591 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle location permission escalation                            01:22 +592 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle location permission escalation                            01:22 +592 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                         01:22 +593 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                         01:23 +593 ~15 -20: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                         01:23 +593 ~15 -20: loading /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart                                                                                                   01:23 +593 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +594 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +595 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +596 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +597 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +598 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +599 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +600 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +601 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +602 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +603 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +604 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +605 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +606 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +607 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +608 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +609 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +610 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +611 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                  01:23 +611 ~15 -20: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reminder metadata is preserved across updates                                 01:23 +611 ~15 -21: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reminder metadata is preserved across updates [E]                             
  Expected: 'reminder-99'
    Actual: <null>
     Which: not an <Instance of 'String'>
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 473:18   expect
  test/services/metadata_preservation_test.dart 203:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart -p vm --plain-name 'Task metadata preservation reminder metadata is preserved across updates'
01:23 +611 ~15 -21: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                01:23 +612 ~15 -21: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                01:24 +612 ~15 -21: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                01:24 +612 ~15 -21: loading /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart                                                                                                     01:24 +612 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote successfully creates note with correct attachmentMeta structure          01:24 +613 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote successfully creates note with correct attachmentMeta structure          01:24 +613 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote returns null when repository returns null                                01:24 +614 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote returns null when repository returns null                                01:24 +614 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote uses provided folderId when specified                                    01:24 +615 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote uses provided folderId when specified                                    01:24 +615 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote tracks error analytics on exception                                      01:24 +616 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote tracks error analytics on exception                                      01:24 +616 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: ... addVoiceRecordingToNote successfully adds recording to note without existing voiceRecordings           01:24 +617 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: ... addVoiceRecordingToNote successfully adds recording to note without existing voiceRecordings           01:24 +617 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote appends to existing voiceRecordings array                        01:24 +618 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote appends to existing voiceRecordings array                        01:24 +618 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote returns null when repository returns null                        01:24 +619 ~15 -21: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote returns null when repository returns null                        01:24 +619 ~15 -21: loading /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart                                                                                        01:24 +619 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses simple text query                               01:24 +620 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses simple text query                               01:24 +620 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses folder filter                                   01:24 +621 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses folder filter                                   01:24 +621 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses single tag filter                               01:24 +622 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses single tag filter                               01:24 +622 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses multiple tag filters (AND logic)                01:25 +623 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses multiple tag filters (AND logic)                01:25 +623 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachment filter                           01:25 +624 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachment filter                           01:25 +624 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachments (plural) filter                 01:25 +625 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachments (plural) filter                 01:25 +625 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:reminder filter                             01:25 +626 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:reminder filter                             01:25 +626 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses status filter                                   01:25 +627 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses status filter                                   01:25 +627 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses type filter                                     01:25 +628 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses type filter                                     01:25 +628 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses before date filter                              01:25 +629 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses before date filter                              01:25 +629 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses after date filter                               01:25 +630 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses after date filter                               01:25 +630 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses combined filters and text                       01:25 +631 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses combined filters and text                       01:25 +631 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses complex query with multiple filter types        01:25 +632 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses complex query with multiple filter types        01:25 +632 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text as single token                       01:25 +633 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text as single token                       01:25 +633 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text with filters                          01:25 +634 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text with filters                          01:25 +634 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses multiple quoted strings                           01:25 +635 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses multiple quoted strings                           01:25 +635 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles unclosed quotes gracefully                       01:25 +636 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles unclosed quotes gracefully                       01:25 +636 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles quotes in filter values                          01:25 +637 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles quotes in filter values                          01:25 +637 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates correct query                                   01:25 +638 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates correct query                                   01:25 +638 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates empty query                                     01:25 +639 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates empty query                                     01:25 +639 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid date format                  01:25 +640 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid date format                  01:25 +640 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with unknown has filter value             01:25 +641 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with unknown has filter value             01:25 +641 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid filter key                   01:25 +642 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid filter key                   01:25 +642 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation handles multiple validation errors                        01:25 +643 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation handles multiple validation errors                        01:25 +643 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns all suggestions for empty input     01:25 +644 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns all suggestions for empty input     01:25 +644 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions by prefix               01:25 +645 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions by prefix               01:25 +645 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions case-insensitively      01:25 +646 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions case-insensitively      01:25 +646 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns empty for non-matching prefix       01:25 +647 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns empty for non-matching prefix       01:25 +647 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests has: variations                    01:25 +648 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests has: variations                    01:25 +648 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests status variations                  01:25 +649 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests status variations                  01:25 +649 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles whitespace-only query                             01:25 +650 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles whitespace-only query                             01:25 +650 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles query with extra spaces                           01:25 +651 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles query with extra spaces                           01:25 +651 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles filter without value                              01:25 +652 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles filter without value                              01:25 +652 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles colon in regular text                             01:25 +653 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles colon in regular text                             01:25 +653 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles special characters                                01:25 +654 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles special characters                                01:25 +654 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles unicode characters                                01:25 +655 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles unicode characters                                01:25 +655 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles very long queries                                 01:25 +656 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles very long queries                                 01:25 +656 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles date range filters                                01:25 +657 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles date range filters                                01:25 +657 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability returns new SearchFilters instances                     01:25 +658 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability returns new SearchFilters instances                     01:25 +658 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability does not mutate SearchFilters during parsing            01:25 +659 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability does not mutate SearchFilters during parsing            01:25 +659 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability accumulates tags correctly                              01:25 +660 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability accumulates tags correctly                              01:25 +660 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns false for valid query       01:25 +661 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns false for valid query       01:25 +661 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns true for invalid query      01:25 +662 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns true for invalid query      01:25 +662 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns false for text-only query  01:25 +663 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns false for text-only query  01:25 +663 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true when filters present  01:25 +664 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true when filters present  01:25 +664 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true for any filter type   01:25 +665 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true for any filter type   01:25 +665 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state       01:25 +666 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state       01:25 +666 ~15 -21: loading /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart                                                                                             01:25 +666 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates saved search with valid query                       01:25 +667 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates saved search with valid query                       01:25 +667 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates pinned saved search                                 01:25 +668 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates pinned saved search                                 01:25 +668 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty name                                        01:25 +669 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty name                                        01:25 +669 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty query                                       01:25 +670 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty query                                       01:25 +670 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on invalid query syntax                              01:25 +671 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on invalid query syntax                              01:25 +671 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations validates query before creating                             01:25 +672 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations validates query before creating                             01:25 +672 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes saved search and returns matching notes           01:25 +673 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes saved search and returns matching notes           01:25 +673 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with text query                            01:25 +674 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with text query                            01:25 +674 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with tag filter                            01:25 +675 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with tag filter                            01:25 +675 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with multiple tags (AND logic)             01:25 +676 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with multiple tags (AND logic)             01:25 +676 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with attachment filter                     01:25 +677 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with attachment filter                     01:25 +677 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with date range                            01:25 +678 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with date range                            01:25 +678 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes complex search with multiple filters              01:25 +679 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes complex search with multiple filters              01:25 +679 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search             01:25 +680 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                          01:25 +681 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                          01:25 +681 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                          
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:25 +681 ~15 -21: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations updates saved search                                        01:25 +682 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +683 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +684 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +685 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +686 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +687 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +688 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +689 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +690 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +691 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +692 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +693 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +694 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +695 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +696 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +697 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                 01:25 +697 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown returns error result when repository throws                                          01:25 +698 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown returns error result when repository throws                                          01:25 +698 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importObsidian imports multiple markdown files and reports progress                                 01:25 +699 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importObsidian imports multiple markdown files and reports progress                                 01:25 +699 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (tearDownAll)                                                                                       01:26 +699 ~15 -21: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (tearDownAll)                                                                                       01:26 +699 ~15 -21: loading /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart                                                                                               01:26 +699 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                           01:26 +699 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                           
[NotesCoreRepository] createOrUpdate noteId=1ddd63de-5820-4b6b-8265-63067fb14de4 isUpdate=false titleLen=5 bodyLen=26 traceId=none
[NotesCoreRepository] note persisted noteId=1ddd63de-5820-4b6b-8265-63067fb14de4 folder=null tagCount=0 traceId=none
01:26 +700 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                           01:26 +701 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                           01:26 +702 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                           01:26 +702 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                          01:26 +702 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                          
[NotesCoreRepository] createOrUpdate noteId=b5d86427-d43a-4e2e-9d42-8a344c2654e3 isUpdate=false titleLen=5 bodyLen=23 traceId=none
[NotesCoreRepository] note persisted noteId=b5d86427-d43a-4e2e-9d42-8a344c2654e3 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=17123340-e067-4ea8-98c3-a93e3680cbc2 isUpdate=false titleLen=4 bodyLen=26 traceId=none
[NotesCoreRepository] note persisted noteId=17123340-e067-4ea8-98c3-a93e3680cbc2 folder=null tagCount=0 traceId=none
01:26 +703 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                          01:27 +703 ~15 -21: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                          01:27 +703 ~15 -21: loading /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart                                                                                            01:27 +703 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (setUpAll)                                                                                        01:27 +703 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer      01:27 +704 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer      01:27 +705 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer      01:27 +705 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves local encryption when local is newer
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:27 +706 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer      01:27 +707 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer      01:27 +708 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:27 +708 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves remote encryption when remote is newer
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:27 +709 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:27 +709 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves local encryption when remote is missing encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:27 +710 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:27 +710 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation uses remote encryption when local is missing encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:27 +711 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:27 +711 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder)
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:27 +712 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:27 +712 ~15 -21: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation conflict resolution still applies other strategies with encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:27 +713 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:28 +713 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:28 +714 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                01:28 +714 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially               01:28 +715 ~15 -21: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially               01:28 +715 ~15 -21: loading /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart                                                                                           01:28 +715 ~15 -21: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (setUpAll)                                                                                       01:28 +715 ~15 -21: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                           01:28 +715 ~15 -21: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                           
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 1ms
01:28 +716 ~15 -21: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                           01:28 +716 ~15 -21: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                     01:28 +716 ~15 -21: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                     
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:28 +716 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied          
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-1 title="Plan sprint" due=2025-10-19T12:00:00.000Z priority=medium createReminder=true
01:28 +717 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied          01:28 +717 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied          
[PERF] enhancedTaskService.createTask: 1ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 17ms (task task-123)
[DomainTaskController] task created id=task-123 note=note-1
[DomainTaskController] custom reminder scheduled for task task-123
[PERF] setCustomTaskReminder: 0ms
01:28 +718 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied          01:28 +718 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                     01:28 +718 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                     
[DomainTaskController] updateTask request -> id=task-456 title=Initial Task due=2025-10-20T12:00:00.000Z hasReminder=false
[DomainTaskController] cleared reminder for task task-456
01:28 +719 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                     01:28 +719 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided               01:28 +719 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided               
[DomainTaskController] updateTask request -> id=task-789 title=Initial Task due=2025-10-22T12:00:00.000Z hasReminder=true
[DomainTaskController] set custom reminder for task task-789
01:28 +720 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided               01:29 +720 ~15 -21: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided               01:29 +720 ~15 -21: loading /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart                                                                                         01:29 +720 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                           01:29 +720 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                           
EnhancedTaskService: cannot perform "updateTask" without userId
01:29 +721 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                           01:29 +721 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation deleteTask cannot remove tasks owned by another user             01:29 +722 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation deleteTask cannot remove tasks owned by another user             01:29 +722 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask performs SOFT DELETE via repository      01:29 +723 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask performs SOFT DELETE via repository      01:29 +723 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated  01:30 +723 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated  01:30 +723 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated
EnhancedTaskService: cannot perform "deleteTask" without userId
01:30 +724 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated  01:30 +724 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) completeTask uses repository method      01:30 +725 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) completeTask uses repository method      01:30 +725 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated01:30 +725 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated
EnhancedTaskService: cannot perform "completeTask" without userId
01:30 +726 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated01:30 +726 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) toggleTaskStatus uses repository method  01:30 +727 ~15 -21: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService captureNote creates note and refreshes widget cache                                  01:30 +727 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval
[PERF] taskRepository.createTask: 2ms
[PERF] Starting async reminder creation (non-blocking)
[PERF] ⏱️ EnhancedTaskService.createTask total: 4ms
01:30 +728 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval 01:30 +729 ~15 -21: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService captureNote queues entry when repository throws SocketException                      01:30 +729 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval
EnhancedTaskService: Failed to fetch task for reminder: Bad state: Can't re-open a database after closing it. Please create a new database connection and open that instead.
[PERF] Async reminder creation completed: 3ms
01:30 +730 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) updateTask with content uses repository for encryption      01:30 +731 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) updateTask with content uses repository for encryption      01:30 +732 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) updateTask with content uses repository for encryption      01:30 +733 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) updateTask with content uses repository for encryption      01:30 +733 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask handles reminder updates correctly       01:30 +734 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask handles reminder updates correctly       01:30 +734 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder    01:30 +735 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder    01:30 +735 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval   01:30 +735 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval
[PERF] taskRepository.createTask: 2ms
[PERF] ⏱️ EnhancedTaskService.createTask total: 2ms
01:30 +736 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval   01:30 +736 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) clearTaskReminder does not crash         01:30 +737 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) clearTaskReminder does not crash         01:30 +737 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) setCustomTaskReminder completes successfully        01:30 +738 ~15 -21: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) setCustomTaskReminder completes successfully        01:30 +738 ~15 -21: loading /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart                                                                                                  01:30 +738 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:30 +739 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:30 +740 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:30 +741 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:30 +742 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:31 +742 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:31 +743 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:31 +744 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:31 +745 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:31 +746 ~15 -21: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                         01:31 +747 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +748 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +749 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +750 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +751 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +752 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +753 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +754 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +755 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +756 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +757 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +758 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +759 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +760 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +761 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +762 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +763 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +764 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +765 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +766 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +767 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +768 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +769 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:31 +770 ~15 -21: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +770 ~15 -22: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +770 ~15 -22: /Users/onronder/duru-notes/test/services/trash_service_test.dart: TrashService - Core Tests permanentlyDeleteNote removes note [E]                                                 
  NoSuchMethodError: Class '_FakeNotesRepository' has no instance method 'getNoteById' with matching arguments.
  Receiver: Instance of '_FakeNotesRepository'
  Tried calling: getNoteById("note-to-delete")
  Found: getNoteById(String) => Future<Note?>
  dart:core                                              Object.noSuchMethod
  test/services/trash_service_test.dart 33:56            _FakeNotesRepository.noSuchMethod
  test/services/trash_service_test.dart 15:7             _FakeNotesRepository.getNoteById
  package:duru_notes/services/trash_service.dart 183:37  TrashService.permanentlyDeleteNote
  test/services/trash_service_test.dart 207:21           main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/trash_service_test.dart -p vm --plain-name 'TrashService - Core Tests permanentlyDeleteNote removes note'
01:32 +770 ~15 -23: /Users/onronder/duru-notes/test/services/trash_service_test.dart: TrashService - Core Tests emptyTrash deletes all notes [E]                                                       
  Expected: <2>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/services/trash_service_test.dart 245:7         main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/trash_service_test.dart -p vm --plain-name 'TrashService - Core Tests emptyTrash deletes all notes'
01:32 +771 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +772 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +773 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +774 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +775 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +776 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +777 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +778 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +779 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +780 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:32 +781 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:33 +781 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:33 +782 ~15 -23: /Users/onronder/duru-notes/test/services/key_destruction_test.dart: ... DestroyAllKeys() Confirmation Token Validation throws SecurityException when confirmation token is invalid 01:33 +783 ~15 -23: /Users/onronder/duru-notes/test/services/key_destruction_test.dart: ... DestroyAllKeys() Confirmation Token Validation throws SecurityException when confirmation token is invalid 01:33 +784 ~15 -23: /Users/onronder/duru-notes/test/services/key_destruction_test.dart: ... DestroyAllKeys() Confirmation Token Validation throws SecurityException when confirmation token is invalid 01:33 +785 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +786 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +787 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +788 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +789 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +790 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +791 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +792 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +793 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +794 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +795 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +796 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +797 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +798 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +799 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +800 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +801 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +802 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +803 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +804 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +805 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +806 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +807 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +808 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:33 +808 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:33 +809 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:33 +809 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry returns empty list when queue is empty                            01:33 +810 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry returns empty list when queue is empty                            01:33 +810 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for first attempt immediately                01:33 +811 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for first attempt immediately                01:33 +811 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +811 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +812 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +813 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +813 ~15 -23: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: GDPR Data Export Compliance Tests - Production Grade exportAllUserData handles decryption failures gracefully
⚠️ Failed to decrypt title for note note-123: FormatException: Unable to decode encrypted payload
01:34 +814 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +815 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +816 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +817 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +818 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +819 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:34 +820 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +821 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +822 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +823 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +824 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +825 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +826 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +827 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +828 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:34 +828 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
01:34 +829 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:34 +829 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Download: decrypts encrypted reminder from remote       
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:34 +830 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:34 +830 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Backward compatibility: handles plaintext-only reminders
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:34 +831 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:34 +831 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Sync round-trip: upload encrypted, download decrypted   
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:34 +832 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:34 +833 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +833 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +834 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +835 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +836 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +837 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +838 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +839 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:35 +839 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +839 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +840 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +841 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +842 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +843 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +844 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +845 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +846 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +847 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +848 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +849 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +850 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +851 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +852 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +853 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +854 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +855 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +856 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +857 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +858 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +859 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +860 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +861 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +862 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +863 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +864 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +865 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +866 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +867 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +868 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +869 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +870 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +871 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +872 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:36 +872 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +872 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +872 ~15 -23: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: (setUpAll)                                                                                               
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:37 +872 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +873 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +874 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +875 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +876 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:37 +876 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:38 +876 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:38 +877 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:38 +878 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:38 +879 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:38 +880 ~15 -23: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:38 +881 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +882 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +883 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +884 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +885 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +886 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +887 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +888 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:38 +889 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption ensureReminderEncrypted skips already encrypted reminder                    01:38 +890 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not show overlay for @ without text                       01:38 +891 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not show overlay for @ without text                       01:38 +892 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption ensureReminderEncrypted handles user mismatch                               01:38 +893 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not trigger on @ with space after                         01:39 +893 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not trigger on @ with space after                         01:39 +894 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:39 +895 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:39 +896 ~15 -23: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:39 +897 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:39 +898 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:39 +898 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should update results as user types                            01:39 +899 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should update results as user types                            01:39 +899 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should insert link on tap                                          01:39 +900 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should insert link on tap                                          01:39 +900 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should replace @ query with full link                              01:39 +901 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should replace @ query with full link                              01:39 +901 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should maintain cursor position after insertion                    01:39 +902 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should maintain cursor position after insertion                    01:39 +902 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:39 +903 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:39 +903 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should insert link on Enter key                               01:39 +904 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should insert link on Enter key                               01:39 +904 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should hide overlay on Escape key                             01:39 +905 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should hide overlay on Escape key                             01:39 +905 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle search errors gracefully                             01:39 +906 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle search errors gracefully                             01:39 +906 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:39 +907 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:39 +907 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should ignore @ when cursor is followed by whitespace                  01:39 +908 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should ignore @ when cursor is followed by whitespace                  01:39 +908 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle multiple @ signs                                         01:39 +909 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle multiple @ signs                                         01:39 +909 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle very long search queries                                 01:39 +910 ~15 -23: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle very long search queries                                 01:40 +910 ~15 -23: Some tests failed.                                                                                                                                                                 

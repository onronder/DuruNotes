00:00 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:01 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:02 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:03 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:04 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:04 +0: /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart: Phase 3 Integration Tests Complete Dialog Flow Dialog with header and actions works together                                     00:05 +0: /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart: Phase 3 Integration Tests Complete Dialog Flow Dialog with header and actions works together                                     00:05 +1: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +2: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +3: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +4: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +5: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +6: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +7: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +8: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +9: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +10: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                        00:05 +10: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                        
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 6ms
[DomainTaskController] createTask request -> note=standalone title="Buy groceries for dinner" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 9ms (task task-123)
[DomainTaskController] task created id=task-123 note=standalone
00:06 +11: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +12: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +13: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +14: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +15: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +16: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +17: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +18: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +19: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +20: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:06 +21: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:06 +22: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:06 +22: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 2ms
[DomainTaskController] createTask request -> note=standalone title="This is a very long task title that should be handled properly by the system without any issues or truncation in the creation process" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 4ms (task task-long)
[DomainTaskController] task created id=task-long note=standalone
00:07 +23: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering selection mode updates count when multiple items selected                                00:07 +24: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should hide toolbar when configured                                                                   00:07 +25: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should trim whitespace from task title                                                      00:07 +26: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should trim whitespace from task title                                                      00:07 +27: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should trim whitespace from task title                                                      00:07 +27: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should trim whitespace from task title                                                      
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=standalone title="Buy milk" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 1ms (task task-trim)
[DomainTaskController] task created id=task-trim note=standalone
00:07 +28: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +28: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation Success Feedback should capture task creation parameters                                                    
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=standalone title="Complete project proposal" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 1ms (task task-success)
[DomainTaskController] task created id=task-success note=standalone
00:07 +29: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +30: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +31: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +31: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +32: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +33: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +34: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +35: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +35: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.supabase.co/storage/v1/object/public/attachments/test.m4a
00:08 +36: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:08 +37: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render code block                                                         00:08 +37 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Block Type Rendering should render code block                                                      00:08 +38 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Permission denied flow shows dialog                                                       00:08 +39 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Permission denied flow shows dialog                                                       00:08 +40 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Permission denied flow shows dialog                                                       00:08 +41 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Configuration should apply modern config                                                           00:08 +42 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:08 +43 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:08 +43 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: NULL (FAILED)
[VOICE_NOTE_DEBUG] ERROR: finalizeAndUpload() returned null
00:08 +44 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:08 +45 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Configuration should apply custom block spacing                                                    00:08 +46 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Configuration should apply custom block spacing                                                    00:08 +46 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Feature Flag Integration should use unified editor when flag is enabled                            00:08 +47 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Feature Flag Integration should use unified editor when flag is enabled                            00:08 +47 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Feature Flag Integration should fall back to legacy when flag is disabled                          00:08 +48 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Feature Flag Integration should fall back to legacy when flag is disabled                          00:08 +48 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Interaction Tests should update block content on edit                                              00:08 +49 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:09 +49 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:09 +50 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:09 +51 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:09 +52 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:09 +52 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer handles different duration values                                                      00:09 +53 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:09 +54 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:09 +55 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:09 +56 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:09 +57 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:10 +57 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:10 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:10 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:10 +59 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:10 +59 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows permission denied dialog when permission is denied                                 00:10 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows permission denied dialog when permission is denied                                 00:10 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:10 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:10 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:11 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:11 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.com/test.m4a
00:11 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:11 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:11 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: NULL (FAILED)
[VOICE_NOTE_DEBUG] ERROR: finalizeAndUpload() returned null
00:11 +63 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:11 +63 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet cancels recording and closes sheet                                                       00:11 +64 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration 27 applies successfully                                                    00:11 +64 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.com/test.m4a
00:11 +65 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration 27 applies successfully                                                    00:11 +66 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration 27 applies successfully                                                    00:11 +66 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes all expected indexes are created                                                     00:11 +67 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes all expected indexes are created                                                     00:11 +67 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes critical indexes are created                                                         00:11 +68 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes critical indexes are created                                                         00:11 +68 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes batch loading indexes are created                                                    00:11 +69 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes batch loading indexes are created                                                    00:11 +69 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes composite indexes are created                                                        00:11 +70 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes composite indexes are created                                                        00:11 +70 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration is idempotent                                                              00:11 +71 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes migration is idempotent                                                              00:11 +71 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes database queries work after migration                                                00:11 +72 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes database queries work after migration                                                00:11 +72 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes performance stats can be retrieved                                                   00:11 +73 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes performance stats can be retrieved                                                   00:11 +73 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes query analysis works                                                                 00:11 +74 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes query analysis works                                                                 00:11 +74 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes index details can be retrieved                                                       00:11 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes index details can be retrieved                                                       00:11 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 00:11 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 

=== DATABASE INDEX VERIFICATION REPORT ===

Schema Version: 45
Expected Indexes: 17
Found Indexes: 17
Status: ✅ COMPLETE

✅ Successfully Verified (17):
   - idx_note_tags_batch_load
   - idx_note_links_batch_load
   - idx_note_folders_batch_load
   - idx_notes_user_updated_composite
   - idx_notes_pinned_updated
   - idx_note_folders_folder_updated
   - idx_tasks_note_status_composite
   - idx_tasks_status_due_composite
   - idx_tasks_priority_due
   - idx_notes_search_metadata
   - idx_note_tags_tag_search
   - idx_folders_hierarchy_path
   - idx_folders_root
   - idx_pending_ops_entity
   - idx_notes_version_updated
   - idx_reminders_active
   - idx_reminders_note_active

ℹ️  Extra Indexes (54):
   - idx_note_folders_note
   - idx_note_folders_folder
   - idx_local_notes_updated_notdeleted
   - idx_note_tags_tag
   - idx_note_links_target_title
   - idx_note_reminders_remind_at
   - idx_local_folders_parent_id
   - idx_local_folders_path
   - idx_local_folders_deleted
   - idx_local_folders_sort_order
   - idx_note_folders_folder_id
   - idx_note_tasks_note_id
   - idx_note_tasks_due_date
   - idx_note_tasks_status
   - idx_note_tasks_reminder_id
   - idx_note_tasks_parent
   - idx_saved_searches_pinned
   - idx_saved_searches_usage
   - idx_saved_searches_type
   - idx_attachments_note_id
   - idx_attachments_mime_type
   - idx_inbox_items_user_id
   - idx_inbox_items_unprocessed
   - idx_inbox_items_source_type
   - idx_qc_queue_user_processed
   - idx_qc_queue_processed_at
   - idx_local_notes_user_deleted_updated
   - idx_local_notes_user_pinned_updated
   - idx_local_notes_user_type
   - idx_local_folders_user_parent_order
   - idx_local_folders_user_path
   - idx_local_folders_user_root
   - idx_note_reminders_user_active_time
   - idx_note_reminders_user_note
   - idx_note_reminders_user_snoozed
   - idx_note_reminders_user_recurring
   - idx_attachments_user_note
   - idx_attachments_user_created
   - idx_attachments_user_mime
   - idx_pending_ops_user_created
   - idx_pending_ops_user_kind_created
   - idx_note_tasks_user_note_deleted
   - idx_note_tasks_user_status_due
   - idx_note_tasks_user_priority_created
   - idx_note_tasks_user_parent
   - idx_note_tags_user_tag
   - idx_note_tags_user_note
   - idx_note_tags_user_tag_note
   - idx_note_links_user_source
   - idx_note_links_user_target
   - idx_note_links_user_target_title
   - idx_note_folders_user_folder_updated
   - idx_note_folders_user_note
   - idx_local_folders_user_deleted_updated

=== PERFORMANCE STATISTICS ===

Custom Indexes: 71
Database Size: 0.43 MB
Table Counts:
   - notes: 0
   - tasks: 0
   - folders: 0
   - tags: 0
   - links: 0

==========================================

00:11 +76 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 00:11 +76 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes full database upgrade from schema 26 to 27                                           00:11 +77 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes full database upgrade from schema 26 to 27                                           00:11 +77 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects missing indexes                                                                       00:11 +78 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects missing indexes                                                                       00:11 +78 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects present indexes                                                                       00:11 +79 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects present indexes                                                                       00:11 +79 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier performance stats are calculated correctly                                                             00:11 +80 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier performance stats are calculated correctly                                                             00:11 +80 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:11 +81 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:12 +81 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:12 +81 ~1: loading /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart                                                                                                          00:12 +81 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations generateConfirmationToken creates correct format                                              00:12 +82 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations generateConfirmationToken creates correct format                                              00:12 +82 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations validateToken returns true for correct token                                                  00:12 +83 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations validateToken returns true for correct token                                                  00:12 +83 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations validateToken returns false for incorrect token                                               00:12 +84 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations validateToken returns false for incorrect token                                               00:12 +84 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations validateToken is case-insensitive                                                             00:12 +85 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations validateToken is case-insensitive                                                             00:12 +85 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns true when all confirmations provided                                     00:12 +86 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns true when all confirmations provided                                     00:12 +86 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns false when dataBackupComplete is false                                   00:12 +87 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns false when dataBackupComplete is false                                   00:12 +87 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns false when understandsIrreversibility is false                           00:12 +88 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns false when understandsIrreversibility is false                           00:12 +88 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns false when token is empty                                                00:12 +89 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations allConfirmed returns false when token is empty                                                00:12 +89 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations toJson includes all confirmation data                                                         00:12 +90 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations toJson includes all confirmation data                                                         00:12 +90 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations toJson shows false when token not provided                                                    00:12 +91 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: UserConfirmations toJson shows false when token not provided                                                    00:12 +91 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgress calculated correctly for first phase                                      00:12 +92 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgress calculated correctly for first phase                                      00:12 +92 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgress calculated correctly for middle phase                                     00:12 +93 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgress calculated correctly for middle phase                                     00:12 +93 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgress calculated correctly for last phase complete                              00:12 +94 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgress calculated correctly for last phase complete                              00:12 +94 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgressPercent rounds correctly                                                   00:12 +95 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress overallProgressPercent rounds correctly                                                   00:12 +95 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress pointOfNoReturnReached reflects current state                                             00:12 +96 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress pointOfNoReturnReached reflects current state                                             00:12 +96 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress toJson includes all progress data                                                         00:12 +97 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: AnonymizationProgress toJson includes all progress data                                                         00:12 +97 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport notStarted factory creates correct initial state                                                    00:12 +98 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport notStarted factory creates correct initial state                                                    00:12 +98 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport start() sets startedAt timestamp                                                                    00:12 +99 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport start() sets startedAt timestamp                                                                    00:12 +99 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport complete() marks phase as successful                                                                00:12 +100 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport complete() marks phase as successful                                                               00:12 +100 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport complete() can add additional details                                                              00:12 +101 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport complete() can add additional details                                                              00:12 +101 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport fail() marks phase as failed with error                                                            00:12 +102 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport fail() marks phase as failed with error                                                            00:12 +102 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport fail() can accumulate multiple errors                                                              00:12 +103 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport fail() can accumulate multiple errors                                                              00:12 +103 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport duration calculated correctly                                                                      00:12 +104 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport duration calculated correctly                                                                      00:12 +104 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport duration is null when not started                                                                  00:12 +105 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport duration is null when not started                                                                  00:12 +105 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport duration is null when started but not completed                                                    00:12 +106 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport duration is null when started but not completed                                                    00:12 +106 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport toJson includes all phase data                                                                     00:12 +107 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: PhaseReport toJson includes all phase data                                                                     00:12 +107 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport duration calculated correctly                                                          00:12 +108 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport duration calculated correctly                                                          00:12 +108 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport pointOfNoReturnReached true when Phase 3 completed                                     00:12 +109 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport pointOfNoReturnReached true when Phase 3 completed                                     00:12 +109 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport pointOfNoReturnReached false when Phase 3 not completed                                00:12 +110 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport pointOfNoReturnReached false when Phase 3 not completed                                00:12 +110 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport successfulPhasesCount counts all successful phases                                     00:12 +111 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport successfulPhasesCount counts all successful phases                                     00:12 +111 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport successfulPhasesCount excludes failed phases                                           00:12 +112 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport successfulPhasesCount excludes failed phases                                           00:12 +112 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toJson includes all report data                                                        00:12 +113 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toJson includes all report data                                                        00:12 +113 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toPrettyJson creates formatted JSON string                                             00:12 +114 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toPrettyJson creates formatted JSON string                                             00:12 +114 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toString creates compact JSON string                                                   00:12 +115 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toString creates compact JSON string                                                   00:12 +115 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate includes all required sections                                 00:12 +116 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate includes all required sections                                 00:12 +116 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate shows failure status correctly                                 00:12 +117 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate shows failure status correctly                                 00:12 +117 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate handles missing key destruction report                         00:12 +118 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate handles missing key destruction report                         00:12 +118 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate handles pending proof hash                                     00:12 +119 ~1: /Users/onronder/duru-notes/test/core/gdpr/anonymization_types_test.dart: GDPRAnonymizationReport toComplianceCertificate handles pending proof hash                                     00:12 +119 ~1: loading /Users/onronder/duru-notes/test/phase1_integration_test.dart                                                                                                                    00:12 +119 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                       00:12 +120 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                       00:12 +120 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should support overrides for testing                                       00:12 +121 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should support overrides for testing                                       00:12 +121 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should check feature flags correctly                                       00:12 +122 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should check feature flags correctly                                       00:12 +122 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should be singleton                                                          00:12 +123 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should be singleton                                                          00:12 +123 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission descriptions                                       00:12 +124 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission descriptions                                       00:12 +124 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission icons                                              00:12 +125 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission icons                                              00:12 +125 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support cache management                                              00:12 +126 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support cache management                                              00:12 +126 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support observer pattern                                              00:12 +127 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support observer pattern                                              00:12 +127 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:13 +127 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:13 +128 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:13 +128 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should support different configurations                                    00:13 +129 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should support different configurations                                    00:13 +129 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should handle block operations                                             00:13 +130 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should handle block operations                                             00:13 +130 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration all refactored components should respect feature flags                    00:13 +131 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration all refactored components should respect feature flags                    00:13 +131 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration UI components should work together                                        00:13 +132 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration UI components should work together                                        00:13 +132 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation legacy code paths should still work with flags disabled               00:13 +133 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation legacy code paths should still work with flags disabled               00:13 +133 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:13 +134 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:14 +134 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:14 +134 ~1: loading /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart                                                                                                          00:14 +134 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   00:14 +134 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-123 title="Write tests" due=2025-01-01T00:00:00.000 priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 1ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 3ms (task task-001)
[DomainTaskController] task created id=task-001 note=note-123
00:14 +135 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   00:14 +135 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController stream filtering excludes completed tasks                   00:14 +136 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController stream filtering excludes completed tasks                   00:14 +136 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity TaskSyncMetrics records successful sync completion                               00:14 +137 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity TaskSyncMetrics records successful sync completion                               00:15 +137 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity TaskSyncMetrics records successful sync completion                               00:15 +137 ~1: loading /Users/onronder/duru-notes/test/security/encryption_security_test.dart                                                                                                          00:15 +137 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:15 +138 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:15 +138 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have correct length                             00:15 +139 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have correct length                             00:15 +139 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have sufficient entropy                         00:15 +140 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have sufficient entropy                         00:15 +140 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests SQL Injection Prevention sanitizes user input in queries                              00:15 +141 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests SQL Injection Prevention sanitizes user input in queries                              00:15 +141 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Memory Security passwords are not retained in memory                                  00:15 +142 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Memory Security passwords are not retained in memory                                  00:15 +142 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Audit Logging logs all encryption operations                                          00:15 +143 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Audit Logging logs all encryption operations                                          00:15 +143 ~1: loading /Users/onronder/duru-notes/test/security/folder_repository_authorization_test.dart                                                                                              00:16 +143 ~1: loading /Users/onronder/duru-notes/test/security/folder_repository_authorization_test.dart                                                                                              00:16 +143 ~1: loading /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart                                                                                      00:16 +143 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (setUpAll)                                                                                  00:16 +143 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (setUpAll)                                                                                  
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:16 +143 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:16 +144 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:16 +144 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization createTimeReminder returns null when unauthenticated  00:16 +145 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization createTimeReminder returns null when unauthenticated  00:16 +145 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization deleteReminder ignores reminders owned by other users 00:16 +146 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization deleteReminder ignores reminders owned by other users 00:16 +146 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:16 +147 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:16 +147 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (tearDownAll)                                                                               00:17 +147 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (tearDownAll)                                                                               00:17 +147 ~1: loading /Users/onronder/duru-notes/test/security/authorization_service_test.dart                                                                                                        00:17 +147 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns user ID when user is authenticated                                 00:17 +148 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns user ID when user is authenticated                                 00:17 +148 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns null when no user is authenticated                                 00:17 +149 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns null when no user is authenticated                                 00:17 +149 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns true when user is authenticated                                  00:17 +150 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns true when user is authenticated                                  00:17 +150 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns false when no user is authenticated                              00:17 +151 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns false when no user is authenticated                              00:17 +151 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser returns user ID when user is authenticated                      00:17 +152 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser returns user ID when user is authenticated                      00:17 +152 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser throws AuthorizationException when no user is authenticated     00:17 +153 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser throws AuthorizationException when no user is authenticated     00:17 +153 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser logs security warning when authentication fails                 00:17 +154 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser logs security warning when authentication fails                 00:17 +154 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser includes context in exception when provided                     00:17 +155 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser includes context in exception when provided                     00:17 +155 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership allows access when user owns the resource                                00:17 +156 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership allows access when user owns the resource                                00:17 +156 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when user does not own resource            00:17 +157 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when user does not own resource            00:17 +157 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when no user is authenticated              00:17 +158 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when no user is authenticated              00:17 +158 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership logs security audit trail for denied access                              00:17 +159 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership logs security audit trail for denied access                              00:17 +159 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership includes resource type in exception                                      00:17 +160 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership includes resource type in exception                                      00:17 +160 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws when resourceUserId is null                                       00:17 +161 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws when resourceUserId is null                                       00:17 +161 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership supports custom operation in error messages                              00:17 +162 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership supports custom operation in error messages                              00:17 +162 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns true when user owns the resource                                         00:17 +163 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +164 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +165 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +166 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +167 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +168 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +169 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +170 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +171 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +172 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +173 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +174 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +175 ~1: /Users/onronder/duru-notes/test/security/inbox_repository_authorization_test.dart: InboxRepository authorization getById returns item for current user and scopes by userId             00:17 +176 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +177 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +178 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +179 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +180 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +181 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +182 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +183 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +184 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +185 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +186 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:17 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:17 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:17 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         
⚠️ Failed to decrypt content for task task-1: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
⚠️ Failed to decrypt content for task task-1: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:17 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:17 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:17 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    
⚠️ Failed to decrypt content for task task-unauth: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
⚠️ Failed to decrypt content for task task-unauth: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:17 +189 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:17 +189 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:17 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:17 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:17 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:17 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (tearDownAll)                                                                                           00:18 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (tearDownAll)                                                                                           00:18 +191 ~1: loading /Users/onronder/duru-notes/test/security/task_repository_authorization_test.dart                                                                                                00:18 +191 ~1: loading /Users/onronder/duru-notes/test/security/notes_repository_authorization_simple_test.dart                                                                                        00:18 +191 ~1: loading /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart                                                                                            00:18 +191 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:19 +191 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:19 +192 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:19 +192 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getTemplateById hides other users templates                  00:19 +193 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts returns empty when user not authenticated               00:19 +194 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts returns empty when user not authenticated               00:19 +195 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate throws when user not authenticated            00:19 +196 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +197 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +198 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +199 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +200 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +200 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       
[NotesCoreRepository] createOrUpdate noteId=e02a8e1d-8954-408f-b3ce-488237e42b9d isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=e02a8e1d-8954-408f-b3ce-488237e42b9d folder=null tagCount=0 traceId=none
00:19 +201 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +201 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:19 +201 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                
[NotesCoreRepository] createOrUpdate noteId=2fb157eb-f4d7-4900-aff6-5aa486b7152d isUpdate=false titleLen=5 bodyLen=10 traceId=none
[NotesCoreRepository] note persisted noteId=2fb157eb-f4d7-4900-aff6-5aa486b7152d folder=null tagCount=0 traceId=none
00:19 +202 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:19 +202 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               00:19 +202 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               
[NotesCoreRepository] createOrUpdate noteId=0149116e-4eab-4ced-899e-97a914d39750 isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=0149116e-4eab-4ced-899e-97a914d39750 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=bee13217-55af-4c9d-8def-b2de20da4fa2 isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=bee13217-55af-4c9d-8def-b2de20da4fa2 folder=null tagCount=0 traceId=none
00:19 +203 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               00:19 +203 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   00:19 +203 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   
[NotesCoreRepository] createOrUpdate noteId=a601ea75-668f-4dec-ace8-592eb7ff8d00 isUpdate=false titleLen=11 bodyLen=16 traceId=none
[NotesCoreRepository] note persisted noteId=a601ea75-668f-4dec-ace8-592eb7ff8d00 folder=null tagCount=0 traceId=none
00:19 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (setUpAll)                                                                                          00:19 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (setUpAll)                                                                                          
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:19 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation createOrUpdateSavedSearch updates owned record and enqueues sync         00:19 +205 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation createOrUpdateSavedSearch updates owned record and enqueues sync         00:19 +205 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation createOrUpdateSavedSearch throws when unauthenticated       00:19 +206 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation createOrUpdateSavedSearch throws when unauthenticated       00:19 +206 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation deleteSavedSearch only removes records for owning user      00:19 +207 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation deleteSavedSearch only removes records for owning user      00:19 +207 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns only current user entries          00:20 +207 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns only current user entries          00:20 +208 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns only current user entries          00:20 +208 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns empty list when unauthenticated    00:20 +209 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation getSavedSearches returns empty list when unauthenticated    00:20 +209 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation toggleSavedSearchPin affects only owning user records       00:20 +210 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation toggleSavedSearchPin affects only owning user records       00:20 +210 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation trackSavedSearchUsage updates only current user entries     00:20 +211 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation trackSavedSearchUsage updates only current user entries     00:20 +211 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation watchSavedSearches emits empty list for unauthenticated users            00:20 +212 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation watchSavedSearches emits empty list for unauthenticated users            00:20 +212 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation watchSavedSearches streams user-scoped updates              00:20 +213 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation watchSavedSearches streams user-scoped updates              00:20 +213 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (tearDownAll)                                                                                       00:20 +213 ~1: loading /Users/onronder/duru-notes/test/security/critical_security_test.dart                                                                                                            00:20 +213 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (setUpAll)                                                                                                        00:20 +213 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (setUpAll)                                                                                                        
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:20 +213 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:20 +213 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: (setUpAll)                                                                                       
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:20 +213 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:21 +213 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:21 +213 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   
✅ ProperEncryptionService initialized successfully
00:21 +214 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +215 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +216 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +216 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should handle key rotation                                               
✅ Key rotation completed successfully
00:21 +217 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +218 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +219 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +220 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +221 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +222 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +223 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +223 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        
Auth retry attempt 1 after 1s delay
00:21 +224 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:21 +225 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +225 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        
[NotesCoreRepository] createOrUpdate noteId=5745a2f7-dea7-4af1-9764-3542010a2f28 isUpdate=false titleLen=11 bodyLen=15 traceId=none
00:21 +226 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +227 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +227 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        
[NotesCoreRepository] note persisted noteId=5745a2f7-dea7-4af1-9764-3542010a2f28 folder=null tagCount=0 traceId=none
00:21 +228 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +229 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +229 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization getNoteById returns null when note belongs to another user         
[NotesCoreRepository] createOrUpdate noteId=85b7cd34-b711-41de-9e6a-a81f5b624744 isUpdate=false titleLen=5 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=85b7cd34-b711-41de-9e6a-a81f5b624744 folder=null tagCount=0 traceId=none
00:21 +230 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +230 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization localNotes returns only notes for current user                     
[NotesCoreRepository] createOrUpdate noteId=911af3cd-63df-44dc-a713-edffded78af6 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=911af3cd-63df-44dc-a713-edffded78af6 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=9d1afe38-5925-4048-9744-9624910e59f1 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=9d1afe38-5925-4048-9744-9624910e59f1 folder=null tagCount=0 traceId=none
00:21 +231 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +231 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization updateLocalNote ignores updates from non-owners                    
[NotesCoreRepository] createOrUpdate noteId=7ed7b92b-97ba-4c64-961a-b64e2e2985b1 isUpdate=false titleLen=13 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=7ed7b92b-97ba-4c64-961a-b64e2e2985b1 folder=null tagCount=0 traceId=none
00:21 +232 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +232 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization deleteNote only marks note deleted for owner                       
[NotesCoreRepository] createOrUpdate noteId=c99dfec4-e643-4e1b-b662-8ba58a244c88 isUpdate=false titleLen=9 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=c99dfec4-e643-4e1b-b662-8ba58a244c88 folder=null tagCount=0 traceId=none
00:21 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +234 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +235 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +236 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +237 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        
Auth retry attempt 2 after 2s delay
00:23 +238 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _WorkflowHarness.buildRepository (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:82:12)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:113:30)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-workflow isUpdate=false titleLen=13 bodyLen=22 traceId=none
00:23 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +239 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +239 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
[NotesCoreRepository] note persisted noteId=note-workflow folder=folder-default tagCount=2 traceId=none
[NotesCoreRepository] createOrUpdate noteId=note-workflow isUpdate=true titleLen=13 bodyLen=12 traceId=none
[NotesCoreRepository] note persisted noteId=note-workflow folder=null tagCount=2 traceId=none
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _WorkflowHarness.buildRepository (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:82:12)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:216:35)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:23 +240 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +241 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +242 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +243 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +244 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +245 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +246 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +247 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +248 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +250 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +250 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +251 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +252 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +252 ~1: /Users/onronder/duru-notes/test/integration/soft_delete_integration_test.dart: (setUpAll)                                                                                               
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:25 +252 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +252 ~2: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +252 ~3: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +252 ~4: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +252 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +253 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +254 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +255 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +256 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +257 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +258 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +259 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +260 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +261 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +262 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +263 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +263 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should validate user permissions for data access              00:25 +264 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should validate user permissions for data access              00:25 +264 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should enforce Row Level Security                             00:25 +265 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should enforce Row Level Security                             00:25 +265 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           00:25 +265 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           
  Skip: SecurityMonitor requires complex initialization
00:25 +265 ~6: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           00:25 +265 ~6: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              00:25 +265 ~6: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              
  Skip: SecurityMonitor requires complex initialization
00:25 +265 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              00:25 +265 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should not return results for unauthorized users                    00:25 +266 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should not return results for unauthorized users                    00:25 +266 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should sanitize search queries                                      00:25 +267 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should sanitize search queries                                      00:25 +267 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should encrypt legacy unencrypted data                      00:25 +268 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should encrypt legacy unencrypted data                      00:25 +268 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should verify all data is encrypted after migration         00:25 +269 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should verify all data is encrypted after migration         00:25 +269 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (tearDownAll)                                                                                                     00:26 +269 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (tearDownAll)                                                                                                     00:27 +269 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (tearDownAll)                                                                                                     00:28 +269 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (tearDownAll)                                                                                                     00:28 +269 ~7: loading /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart                                                                                            00:28 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        00:28 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:28 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance 00:28 +269 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:271:27)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:270:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +270 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance 00:28 +270 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation       00:28 +270 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:282:21)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:279:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +271 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation       00:28 +271 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Search Provider searchServiceProvider instantiates successfully         00:28 +271 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Search Provider searchServiceProvider instantiates successfully
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     searchServiceProvider.<anonymous closure> (package:duru_notes/features/search/providers/search_providers.dart:50:20)
#15     Provider._create (package:riverpod/src/provider/base.dart:59:57)
#16     ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#17     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#18     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#19     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#20     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#21     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#22     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#23     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#24     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#25     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:289:35)
#26     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#27     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#28     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +272 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Search Provider searchServiceProvider instantiates successfully         00:28 +272 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers noteFolderIntegrationServiceProvider creates service       00:28 +273 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers noteFolderIntegrationServiceProvider creates service       00:28 +273 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result       00:28 +273 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     unfiledNotesCountProvider.<anonymous closure> (package:duru_notes/features/folders/providers/folders_integration_providers.dart:73:20)
#15     AutoDisposeFutureProvider._create (package:riverpod/src/future_provider/auto_dispose.dart:46:16)
#16     FutureProviderElement.create.<anonymous closure> (package:riverpod/src/future_provider/base.dart:117:22)
#17     FutureHandlerProviderElementMixin.handleFuture.<anonymous closure> (package:riverpod/src/async_notifier/base.dart:341:30)
#18     FutureHandlerProviderElementMixin._handleAsync (package:riverpod/src/async_notifier/base.dart:388:47)
#19     FutureHandlerProviderElementMixin.handleFuture (package:riverpod/src/async_notifier/base.dart:335:5)
#20     FutureProviderElement.create (package:riverpod/src/future_provider/base.dart:116:5)
#21     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#22     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#23     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#24     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#25     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#26     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#27     ProviderElementProxy.read (package:riverpod/src/framework/proxy_provider_listenable.dart:134:26)
#28     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#29     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:301:39)
#30     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#31     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#32     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +274 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result       00:28 +274 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Folder Integration Providers allFoldersCountProvider resolves with zero count00:28 +275 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Regression Tests Folder Integration Providers allFoldersCountProvider resolves with zero count00:28 +275 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers filteredNotesProvider returns empty list by default          00:28 +275 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Notes Pagination Providers filteredNotesProvider returns empty list by default
[filteredNotesProvider] Security not initialized, returning empty
00:28 +276 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers filteredNotesProvider returns empty list by default          00:28 +276 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers currentNotesProvider returns empty list with no data         00:28 +276 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Notes Pagination Providers currentNotesProvider returns empty list with no data
[notesPageProvider] Security not initialized, returning empty notifier
00:28 +277 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Tests Notes Pagination Providers currentNotesProvider returns empty list with no data         00:28 +277 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors     00:28 +277 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:256:30)
#15     AutoDisposeStateNotifierProvider._create (package:riverpod/src/state_notifier_provider/auto_dispose.dart:48:21)
#16     StateNotifierProviderElement.create.<anonymous closure> (package:riverpod/src/state_notifier_provider/base.dart:172:64)
#17     Result.guard (package:riverpod/src/result.dart:21:28)
#18     StateNotifierProviderElement.create (package:riverpod/src/state_notifier_provider/base.dart:172:43)
#19     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#20     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#21     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#22     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#23     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#24     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#25     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#26     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#27     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:329:32)
#28     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#29     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#30     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +278 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors     00:28 +278 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder State Providers folderProvider exposes default state00:28 +279 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder State Providers folderProvider exposes default state00:28 +279 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers folderHierarchyProvider exposes empty hierarchy  00:28 +280 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers folderHierarchyProvider exposes empty hierarchy  00:28 +280 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers noteFolderProvider exposes empty relationships   00:28 +281 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Folder State Providers noteFolderProvider exposes empty relationships   00:28 +281 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully00:28 +281 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +282 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully00:28 +282 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing     00:28 +282 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:371:21)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:369:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +283 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing     00:28 +283 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Database Provider appDbProvider returns overridden in-memory instance   00:28 +284 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Database Provider appDbProvider returns overridden in-memory instance   00:28 +284 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles    00:28 +284 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     searchServiceProvider.<anonymous closure> (package:duru_notes/features/search/providers/search_providers.dart:50:20)
#15     Provider._create (package:riverpod/src/provider/base.dart:59:57)
#16     ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#17     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#18     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#19     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#20     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#21     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#22     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#23     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#24     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#25     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:389:23)
#26     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#27     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#28     _expect (package:matcher/src/expect/expect.dart:138:30)
#29     expect (package:matcher/src/expect/expect.dart:56:3)
#30     expect (package:flutter_test/src/widget_tester.dart:473:18)
#31     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:387:11)
#32     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#33     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#34     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: ... Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles    00:28 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         00:28 +285 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:436:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:486:36)
#15     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#16     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#17     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +286 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         00:28 +286 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                00:28 +286 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:436:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     unfiledNotesCountProvider.<anonymous closure> (package:duru_notes/features/folders/providers/folders_integration_providers.dart:73:20)
#15     AutoDisposeFutureProvider._create (package:riverpod/src/future_provider/auto_dispose.dart:46:16)
#16     FutureProviderElement.create.<anonymous closure> (package:riverpod/src/future_provider/base.dart:117:22)
#17     FutureHandlerProviderElementMixin.handleFuture.<anonymous closure> (package:riverpod/src/async_notifier/base.dart:341:30)
#18     FutureHandlerProviderElementMixin._handleAsync (package:riverpod/src/async_notifier/base.dart:388:47)
#19     FutureHandlerProviderElementMixin.handleFuture (package:riverpod/src/async_notifier/base.dart:335:5)
#20     FutureProviderElement.create (package:riverpod/src/future_provider/base.dart:116:5)
#21     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#22     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#23     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#24     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#25     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#26     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#27     ProviderElementProxy.read (package:riverpod/src/framework/proxy_provider_listenable.dart:134:26)
#28     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#29     main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:495:45)
#30     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#31     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#32     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +287 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                00:28 +287 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration from nullable to non-nullable provider complete                  00:28 +288 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration from nullable to non-nullable provider complete                  00:28 +288 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration statistics are correct                                           00:28 +289 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Migration Verification migration statistics are correct                                           00:28 +289 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (tearDownAll)                                                                                     00:29 +289 ~7: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (tearDownAll)                                                                                     00:29 +289 ~7: loading /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart                                                                                                   00:29 +289 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider returns reminder coordinator                                          00:29 +290 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider returns reminder coordinator                                          00:29 +290 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider respects feature flag changes                                         00:29 +291 ~7: /Users/onronder/duru-notes/test/providers/unified_reminder_provider_test.dart: unifiedReminderCoordinatorProvider respects feature flag changes                                         00:29 +291 ~7: loading /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart                                                                                                              00:29 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      00:29 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:104:28)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:29 +292 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        00:29 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:144:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:151:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:30 +293 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        00:30 +293 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:30 +294 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              00:30 +294 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:192:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:199:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:30 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   00:30 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:30 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   00:30 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       00:30 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:30 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       00:30 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:30 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     
Created 1000 notes in 157ms
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
Cleared 1000 notes in 5ms
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:30 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:30 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  00:30 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:30 +299 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  00:31 +299 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  00:31 +299 ~7: loading /Users/onronder/duru-notes/test/critical/user_isolation_test.dart                                                                                                               00:31 +299 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getAllTasks returns tasks only for the requesting user                  00:31 +300 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getAllTasks returns tasks only for the requesting user                  00:31 +300 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getTaskById enforces user ownership                                     00:31 +301 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getTaskById enforces user ownership                                     00:31 +301 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) updateTask refuses cross-user modifications                             00:31 +302 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) updateTask refuses cross-user modifications                             00:31 +302 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) deleteTasksForNote only removes tasks for matching user                 00:31 +303 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) deleteTasksForNote only removes tasks for matching user                 00:31 +303 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) reminders remain isolated per user                                      00:31 +304 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) reminders remain isolated per user                                      00:31 +304 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) clearAll purges every user-scoped table                                 00:31 +304 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) clearAll purges every user-scoped table                                 
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:31 +305 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) clearAll purges every user-scoped table                                 00:32 +305 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) clearAll purges every user-scoped table                                 00:32 +305 ~7: loading /Users/onronder/duru-notes/test/critical/database_clearing_test.dart                                                                                                            00:32 +305 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             00:32 +305 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:32 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             00:32 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:32 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:32 +307 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:33 +307 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:33 +307 ~7: loading /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart                                                                                                           00:33 +307 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:33 +307 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:119:28)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=48383952-9792-44b9-b8c3-6ccf8f56506c isUpdate=false titleLen=5 bodyLen=5 traceId=none
[NotesCoreRepository] note persisted noteId=48383952-9792-44b9-b8c3-6ccf8f56506c folder=null tagCount=1 traceId=none
00:34 +308 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:34 +308 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate without authenticated user is rejected                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:135:28)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:34 +309 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:34 +309 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:148:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:149:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=28599e76-50d5-4ae5-a382-5e2d90438e5e isUpdate=false titleLen=8 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=28599e76-50d5-4ae5-a382-5e2d90438e5e folder=null tagCount=0 traceId=none
00:34 +310 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:34 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:172:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:173:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:34 +310 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: CRITICAL: Database isolation integration NotesCoreRepository returns data scoped to authenticated user
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:86:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:93:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:34 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        
[NotesCoreRepository] createOrUpdate noteId=53b2715b-ab71-4fb1-850e-1b1abed2b854 isUpdate=false titleLen=9 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=53b2715b-ab71-4fb1-850e-1b1abed2b854 folder=null tagCount=0 traceId=none
00:34 +311 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        00:34 +312 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns empty results when unauthenticated    00:34 +312 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: CRITICAL: Database isolation integration NotesCoreRepository returns empty results when unauthenticated
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:138:22)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:34 +313 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns empty results when unauthenticated    00:34 +313 ~7: loading /Users/onronder/duru-notes/test/phase3_migration_validation_test.dart                                                                                                           00:35 +313 ~7: loading /Users/onronder/duru-notes/test/phase3_migration_validation_test.dart                                                                                                           00:35 +313 ~7: loading /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart                                                                                                         00:35 +313 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:36 +313 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:36 +314 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:36 +314 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity unlockAmkWithPassphrase succeeds when AMK cached locally                        00:36 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity unlockAmkWithPassphrase succeeds when AMK cached locally                        00:36 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:36 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:37 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:38 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:38 +316 ~7: loading /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart                                                                                                         00:38 +316 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects not-setup state                                                                00:38 +317 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects not-setup state                                                                00:38 +317 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects locked state                                                                   00:38 +318 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects locked state                                                                   00:38 +318 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier unlocks with correct password                                                          00:38 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier unlocks with correct password                                                          00:38 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 00:38 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 
[EncryptionState] Unlock failed: Exception: Invalid password - decryption failed
00:38 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 00:38 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:38 +320 ~7: /Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart: Notes pagination regression refresh only loads a single page                                            
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _CountingNotesRepository (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart)
#4      new _PaginationHarness (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:158:18)
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:232:17)
#6      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#7      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#8      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#9      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#10     StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#11     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#12     _rootRunUnary (dart:async/zone.dart:1538:47)
#13     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#14     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#15     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#16     Future.doWhile (dart:async/future.dart:727:18)
#17     Future.forEach (dart:async/future.dart:651:12)
#18     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#20     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#21     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +321 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:38 +322 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:38 +323 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:38 +324 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:38 +324 ~7: /Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart: Notes pagination regression loadMore avoids duplicate fetches when called concurrently                  
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _CountingNotesRepository (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart)
#4      new _PaginationHarness (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:158:18)
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:232:17)
#6      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#7      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#8      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#9      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#10     StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#11     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#12     _rootRunUnary (dart:async/zone.dart:1538:47)
#13     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#14     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#15     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#16     Future.doWhile (dart:async/future.dart:727:18)
#17     Future.forEach (dart:async/future.dart:651:12)
#18     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#20     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#21     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:39 +325 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:39 +326 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:39 +327 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:40 +327 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:40 +328 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: NewUserEncryptionSetupGate completes provisioning after valid submission                                       00:40 +329 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip hidden when inbox empty and filter inactive                                                    00:40 +330 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip hidden when inbox empty and filter inactive                                                    00:40 +330 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:40 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:40 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:40 +332 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:40 +332 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:40 +333 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:40 +334 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:40 +335 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:40 +336 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:40 +337 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:40 +338 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:41 +338 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:41 +338 ~7: loading /Users/onronder/duru-notes/test/notification_system_test.dart                                                                                                                   00:41 +338 ~7: loading /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart                                                                                                00:41 +338 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:42 +338 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:42 +339 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:42 +339 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:42 +340 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:42 +340 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles batch of notes via drag-and-drop                                                              00:42 +341 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles batch of notes via drag-and-drop                                                              00:42 +341 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +342 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +343 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +344 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +345 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +346 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +347 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +348 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +349 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +350 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:42 +350 ~7: loading /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart                                                                                                              00:42 +350 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when timestamps are identical                               00:42 +351 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when timestamps are identical                               00:42 +351 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is exactly 1 second                         00:42 +352 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is exactly 1 second                         00:42 +352 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is less than 1 second                       00:42 +353 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is less than 1 second                       00:42 +353 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios handles updatedAt before createdAt (clock skew)                               00:42 +354 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios handles updatedAt before createdAt (clock skew)                               00:42 +354 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited 2 seconds later                              00:42 +355 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited 2 seconds later                              00:42 +355 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited minutes later                                00:42 +356 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited minutes later                                00:42 +356 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited hours later                                  00:42 +357 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited hours later                                  00:42 +357 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited days later                                   00:42 +358 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited days later                                   00:42 +358 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited months later                                 00:42 +359 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited months later                                 00:42 +359 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited years later                                  00:42 +360 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited years later                                  00:42 +360 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles UTC timestamps correctly                                                          00:42 +361 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles UTC timestamps correctly                                                          00:42 +361 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles local timestamps correctly                                                        00:42 +362 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles local timestamps correctly                                                        00:42 +362 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles mixed UTC and local timestamps                                                    00:42 +363 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles mixed UTC and local timestamps                                                    00:42 +363 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles very old dates                                                                    00:42 +364 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles very old dates                                                                    00:42 +364 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles far future dates                                                                  00:42 +365 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles far future dates                                                                  00:42 +365 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with milliseconds precision                                                 00:42 +366 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with milliseconds precision                                                 00:42 +366 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with microseconds precision                                                 00:42 +367 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with microseconds precision                                                 00:42 +367 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created and never edited shows creation date                               00:42 +368 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created and never edited shows creation date                               00:42 +368 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created then edited immediately shows update date                          00:42 +369 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created then edited immediately shows update date                          00:42 +369 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created today, edited yesterday shows edit date                            00:42 +370 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created today, edited yesterday shows edit date                            00:42 +370 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles sync operation with minimal time drift                                  00:42 +371 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles sync operation with minimal time drift                                  00:42 +371 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles bulk import with same timestamp                                         00:42 +372 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles bulk import with same timestamp                                         00:42 +372 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios timestamps persist correctly across devices                                   00:42 +373 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios timestamps persist correctly across devices                                   00:42 +373 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios edit on one device shows correctly on other device                            00:42 +374 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios edit on one device shows correctly on other device                            00:42 +374 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios dates persist after app reinstall                                            00:42 +375 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios dates persist after app reinstall                                            00:42 +375 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios edited note shows correct date after reinstall                               00:42 +376 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios edited note shows correct date after reinstall                               00:42 +376 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses standard logic when both timestamps present                                                 00:42 +377 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses standard logic when both timestamps present                                                 00:42 +377 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses updatedAt when createdAt is null                                                            00:42 +378 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses updatedAt when createdAt is null                                                            00:42 +378 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses createdAt when updatedAt is null                                                            00:42 +379 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses createdAt when updatedAt is null                                                            00:42 +379 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses current time when both are null                                                             00:42 +380 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses current time when both are null                                                             00:42 +380 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate prefers standard logic over fallback when both present                                           00:42 +381 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate prefers standard logic over fallback when both present                                           00:42 +381 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate handles both null gracefully without throwing                                                    00:42 +382 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate handles both null gracefully without throwing                                                    00:42 +382 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with mock Note object                                                               00:42 +383 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with mock Note object                                                               00:42 +383 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with edited mock Note object                                                        00:42 +384 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with edited mock Note object                                                        00:42 +384 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension handles objects without proper fields gracefully                                          00:42 +385 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension handles objects without proper fields gracefully                                          00:43 +385 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension handles objects without proper fields gracefully                                          00:43 +385 ~7: loading /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart                                                                                                   00:43 +385 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at         00:43 +385 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-from-remote isUpdate=false titleLen=11 bodyLen=32 traceId=none
[NotesCoreRepository] note persisted noteId=note-from-remote folder=null tagCount=0 traceId=none
00:43 +386 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at         00:43 +386 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at           00:43 +386 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-view-test isUpdate=false titleLen=14 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=note-view-test folder=null tagCount=0 traceId=none
DEBUG: First create updated_at = 2025-10-27 13:00:00.000
DEBUG: Expected updated_at = 2025-10-27 10:00:00.000Z
[NotesCoreRepository] createOrUpdate noteId=note-view-test isUpdate=true titleLen=14 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=note-view-test folder=null tagCount=0 traceId=none
DEBUG: Second update updated_at = 2025-11-25 08:25:12.000
DEBUG: Expected (same) = 2025-10-27 10:00:00.000Z
DEBUG: Retrieved note updated_at = 2025-11-25 08:25:12.000
00:43 +386 ~7 -1: loading /Users/onronder/duru-notes/test/database_isolation_integration_test.dart                                                                                                     00:43 +386 ~7 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        00:43 +386 ~7 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        
  Skip: Legacy database isolation integration – requires updated data builders (see TEST_STATUS.md)
00:43 +386 ~8 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        00:43 +386 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at [E]
  Expected: <1761559200000>
    Actual: <1764048312000>
  Viewing/opening note should NOT change updated_at timestamp
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/repositories/timestamp_preservation_test.dart 268:9  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart -p vm --plain-name 'Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at'
00:43 +386 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:43 +386 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=old-note isUpdate=false titleLen=8 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=old-note folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=recent-note isUpdate=false titleLen=11 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=recent-note folder=null tagCount=0 traceId=none
00:43 +387 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:43 +387 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) User-created notes use current time (existing behavior)     00:43 +387 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) User-created notes use current time (existing behavior)
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=843c9514-06e5-45b7-9989-9f564f7b9c1f isUpdate=false titleLen=17 bodyLen=22 traceId=none
[NotesCoreRepository] note persisted noteId=843c9514-06e5-45b7-9989-9f564f7b9c1f folder=null tagCount=0 traceId=none
00:43 +388 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) User-created notes use current time (existing behavior)     00:43 +388 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at   00:43 +388 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:43 +389 ~8 -1: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should be singleton                                                  00:43 +389 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) Explicit timestamp override works for user edits
  Skip: Test needs clarification on expected behavior for user edits
00:43 +389 ~9 -1: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should be singleton                                                  00:43 +390 ~9 -1: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should be singleton                                                  00:43 +390 ~9 -1: loading /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart                                                                                                 00:43 +390 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:43 +391 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:43 +392 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:43 +393 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:43 +394 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +395 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +396 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +397 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +398 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +399 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +400 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +401 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +402 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +403 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +403 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:44 +404 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                        00:44 +404 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                        00:44 +404 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:44 +405 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                        00:44 +405 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                     00:44 +405 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:44 +406 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                     00:44 +406 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               00:44 +406 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:44 +407 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               00:44 +407 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    00:44 +407 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=63489c11-0173-4f26-a21e-13bc901faed9 isUpdate=false titleLen=9 bodyLen=8 traceId=none
[NotesCoreRepository] note persisted noteId=63489c11-0173-4f26-a21e-13bc901faed9 folder=null tagCount=0 traceId=none
00:44 +408 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    00:44 +408 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              00:44 +408 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=existing isUpdate=true titleLen=13 bodyLen=12 traceId=none
[NotesCoreRepository] note persisted noteId=existing folder=null tagCount=0 traceId=none
00:44 +409 ~9 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              00:44 +409 ~9 -1: loading /Users/onronder/duru-notes/test/widget_test.dart                                                                                                                             00:44 +409 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:44 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:45 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:45 +410 ~9 -1: loading /Users/onronder/duru-notes/test/search/unified_search_service_test.dart                                                                                                      00:45 +410 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search returns only current user notes and supports tag filters                                             00:45 +411 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search returns only current user notes and supports tag filters                                             00:45 +411 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search aggregates folder and template results without leaking other tenants                                 00:45 +412 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search aggregates folder and template results without leaking other tenants                                 00:45 +412 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: task search scopes to notes owned by the current user                                                       00:45 +413 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: task search scopes to notes owned by the current user                                                       00:45 +413 ~9 -1: loading /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart                                                                                                    00:45 +413 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:45 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:45 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:46 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:46 +415 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:46 +415 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Database layer hard-delete methods should be private                       00:46 +416 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Database layer hard-delete methods should be private                       00:46 +416 ~9 -1: loading /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart                                                                                                       00:46 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (setUpAll)                                                                         00:46 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:46 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   

🔍 Starting Basic Pre-Deployment Validation...
============================================================
📊 Testing local database connectivity...
   Local Database           ✅ PASSED

⚙️ Testing provider initialization...
   Provider Initialization  ✅ PASSED

🎯 VALIDATION SUMMARY
============================================================
Overall Status: HEALTHY
Database Status: true
Providers Status: true

📋 NEXT STEPS:
1. Basic connectivity validated - system appears ready for Phase 3
2. Proceed with comprehensive validation using actual sync systems
3. Deploy sync verification system to production (Step 2)
4. Continue with careful step-by-step deployment plan

📄 Baseline report saved to: docs/simple_deployment_baseline_report.json
00:46 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:46 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             00:46 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             

🚀 Running System Readiness Check...
🔧 Checking Flutter environment...
📦 Checking provider container...
✅ Basic system readiness confirmed
00:46 +418 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             00:46 +418 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (tearDownAll)                                                                      00:46 +418 ~9 -1: loading /Users/onronder/duru-notes/test/debug_import_test.dart                                                                                                                       00:46 +418 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors returns error for unsupported file type                                                 00:46 +419 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors returns error for unsupported file type                                                 00:46 +419 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors imports simple markdown note                                                            00:46 +420 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors imports simple markdown note                                                            00:47 +420 ~9 -1: /Users/onronder/duru-notes/test/debug_import_test.dart: UnifiedImportService debug behaviors imports simple markdown note                                                            00:47 +420 ~9 -1: loading /Users/onronder/duru-notes/test/folders/folder_data_integrity_test.dart                                                                                                      00:48 +420 ~9 -1: loading /Users/onronder/duru-notes/test/folders/folder_data_integrity_test.dart                                                                                                      00:48 +420 ~9 -1: loading /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart                                                                                                      00:48 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              00:48 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:48 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:48 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors

🔧 Testing core provider instantiation...
  📊 Testing AppDb provider...
  📝 Testing Logger provider...
  📈 Testing Analytics provider...
  ✅ Core providers instantiated successfully
00:48 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:48 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly         00:48 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly

📋 Testing task service provider instantiation...
  📝 Testing TaskCoreRepository provider...
    ✅ TaskCoreRepository unavailable without authentication
  🚀 Testing EnhancedTaskService provider...
    ✅ EnhancedTaskService requires authenticated user (expected)
  🎯 Testing DomainTaskController provider...
    ✅ DomainTaskController blocked until security services initialize (expected)
  🔔 Testing TaskReminderBridge provider...
  ✅ Task service providers instantiated successfully
00:48 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly         00:48 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly      00:48 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly

🔔 Testing reminder system provider instantiation...
  🎯 Testing Unified ReminderCoordinator provider...
  ✅ Reminder system providers instantiated successfully
00:48 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly      00:48 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly           00:48 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly

🗄️ Testing repository provider instantiation...
  📝 Testing NotesRepository provider...
    ✅ NotesRepository blocked until security services initialize (expected)
  📁 Testing FolderRepository provider...
  📋 Testing TaskRepository provider...
  ✅ Repository providers behave correctly
00:48 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly           00:48 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy 00:48 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy

🔗 Testing provider dependency chain...
  🔍 Testing domainTaskController dependencies: taskCoreRepository, notesCoreRepository, enhancedTaskService, logger
    ❌ Failed to resolve dependency notesCoreRepository: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
    ❌ Failed to resolve dependency enhancedTaskService: Bad state: EnhancedTaskService requires authenticated user
  🔍 Testing enhancedTaskService dependencies: appDb, taskReminderBridge
    ✅ All dependencies resolved for enhancedTaskService
  🔍 Testing taskReminderBridge dependencies: unifiedReminderCoordinator, advancedReminderService, taskCoreRepository
    ✅ All dependencies resolved for taskReminderBridge
  ✅ Provider dependency chain validation completed
00:48 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy 00:48 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  00:48 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  

🔄 Testing for circular dependencies...
  🔄 Testing provider order 1: appDb → logger → taskCoreRepository → notesCoreRepository → enhancedTaskService → domainTaskController
    ❌ Potential circular dependency detected in order 1: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  🔄 Testing provider order 2: domainTaskController → enhancedTaskService → notesCoreRepository → taskCoreRepository → logger → appDb
    ❌ Potential circular dependency detected in order 2: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  🔄 Testing provider order 3: logger → domainTaskController → appDb → taskCoreRepository → notesCoreRepository → enhancedTaskService
    ❌ Potential circular dependency detected in order 3: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  ✅ Circular dependency testing completed
00:48 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  00:48 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies

🎯 Testing DomainTaskController integration...
  ✅ DomainTaskController integration validated
00:48 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  00:48 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly

🏗️ Testing core infrastructure provider dependencies...
  📊 Testing AppDb provider...
00:48 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge

🚀 Testing EnhancedTaskService integration...
00:48 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-123 title="Performance Task" due=null priority=medium createReminder=true
00:48 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge
  ✅ EnhancedTaskService requires authenticated user (expected)
00:48 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  
[PERF] enhancedTaskService.createTask: 3ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 7ms (task perf-1764048317381659)
[DomainTaskController] task created id=perf-1764048317381659 note=note-123
00:48 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  00:48 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      

🔔 Testing ReminderCoordinator integration...
  ✅ ReminderCoordinator integration validated
00:48 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly
  📝 Testing Logger provider...
00:48 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  00:48 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               

🧹 Testing provider disposal...
  ✅ Provider disposal completed successfully
00:48 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  00:48 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly
  📈 Testing Analytics provider...
  ✅ Core infrastructure providers validation completed
00:48 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly 00:48 +432 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly 00:48 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task list streaming handles rapid updates                                   00:48 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites

📋 Testing domain task provider prerequisites...
  📝 Reading taskCoreRepositoryProvider...
00:48 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites  00:48 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites  00:48 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites
    ✅ taskCoreRepository requires Supabase initialization (expected)
  🚀 Reading enhancedTaskServiceProvider...
    ✅ enhancedTaskService requires Supabase initialization (expected)
  🎯 Reading domainTaskControllerProvider...
    ✅ domainTaskController requires Supabase initialization (expected)
  🔔 Reading taskReminderBridgeProvider...
    ✅ taskReminderBridge requires Supabase initialization (expected)
00:48 +436 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 00:48 +436 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Reminder system providers can be instantiated correctly

🔔 Testing reminder system provider instantiation...
  🎯 Reading unifiedReminderCoordinatorProvider...
  🚀 Reading advancedReminderServiceProvider...
  ✅ Reminder system providers instantiated successfully
00:48 +437 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 00:48 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers

🔗 Testing domain task dependency chain...
  🔍 Testing domainTaskController dependencies...
    ⚠️ taskCoreRepository requires Supabase initialization (expected)
    ⚠️ notesCoreRepository requires Supabase initialization (expected)
    ⚠️ enhancedTaskService requires Supabase initialization (expected)
    ✅ Dependencies processed for domainTaskController
  🔍 Testing enhancedTaskService dependencies...
    ⚠️ taskReminderBridge requires Supabase initialization (expected)
    ✅ Dependencies processed for enhancedTaskService
  🔍 Testing taskReminderBridge dependencies...
    ✅ Dependencies processed for taskReminderBridge
00:49 +437 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:49 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers        00:49 +437 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                           
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:49 +437 ~10 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +437 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:49 +437 ~11 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +437 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:49 +437 ~12 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +437 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:49 +437 ~13 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +438 ~13 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +438 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:49 +438 ~14 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +438 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:49 +438 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +439 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers       00:49 +439 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers00:49 +439 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers

🔄 Testing for circular dependencies (domain)...
  🔁 Scenario 1: appDb → taskCoreRepository → notesCoreRepository → enhancedTaskService → domainTaskController
    ✅ No circular dependency detected in scenario 1
  🔁 Scenario 2: domainTaskController → enhancedTaskService → taskReminderBridge → unifiedReminderCoordinator → advancedReminderService
    ✅ No circular dependency detected in scenario 2
00:49 +440 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers00:49 +440 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly              00:49 +440 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly              

🧹 Testing provider disposal and cleanup...
  🔍 Testing base provider disposal...
  🔍 Testing enhanced task provider disposal...
  ✅ Provider disposal checks completed
00:49 +441 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly              00:49 +441 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface      00:49 +441 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface

🎯 Inspecting DomainTaskController API surface...
00:49 +442 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface      00:50 +442 ~15 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface      00:50 +442 ~15 -1: loading /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart                                                                                                00:50 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: (setUpAll)                                                                                            00:50 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    00:50 +443 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    00:50 +443 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 500 folders with userId filter completes in < 50ms    00:51 +443 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 500 folders with userId filter completes in < 50ms    00:51 +444 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 500 folders with userId filter completes in < 50ms    00:51 +444 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Database Query Performance Query 100 saved searches with userId filter completes in < 30ms        00:51 +445 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Database Query Performance Query 100 saved searches with userId filter completes in < 30ms        00:51 +445 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 100 saved searches completes in < 500ms          00:51 +446 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 100 saved searches completes in < 500ms          00:51 +446 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 1000 saved searches completes in < 2000ms        00:51 +447 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 1000 saved searches completes in < 2000ms        00:51 +447 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migration stats query completes in < 20ms                00:51 +448 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migration stats query completes in < 20ms                00:51 +448 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Data Isolation Performance Query isolation for 10 users with 100 notes each completes efficiently 00:51 +449 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation createTask throws when no authenticated user             00:51 +450 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation createTask throws when no authenticated user             00:51 +451 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation createTask throws when no authenticated user             00:51 +452 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: (setUpAll)                                                                            00:51 +453 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: (setUpAll)                                                                            00:51 +453 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: (setUpAll)                                                                            
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:51 +453 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation getAllTasks returns tasks only for current user          00:51 +454 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/task_core_repository_isolation_test.dart: TaskCoreRepository user isolation getAllTasks returns tasks only for current user          00:51 +455 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:51 +456 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:51 +457 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:52 +457 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:52 +458 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:52 +459 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:52 +460 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:52 +461 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:52 +462 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:52 +462 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Large dataset query uses reasonable memory                   00:52 +463 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:52 +464 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:52 +465 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:52 +466 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:52 +466 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           
Rate limit request: user-123 (RateLimitType.user) - /api/notes/upsert
API call to /api/notes/upsert completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/note-folders/delete
API call to /api/note-folders/delete completed in 0ms
00:52 +467 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:52 +467 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads reminder operations to Supabase                            00:52 +467 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads reminder operations to Supabase                            
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 1ms
00:52 +468 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads reminder operations to Supabase                            00:52 +468 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    00:52 +468 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/delete
API call to /api/reminders/delete completed in 0ms
00:52 +469 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    00:52 +469 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    00:52 +469 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    
Rate limit request: user-123 (RateLimitType.user) - /api/notes/fetch
API call to /api/notes/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/folders/fetch
API call to /api/folders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/tasks/fetch
API call to /api/tasks/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/templates/fetch
API call to /api/templates/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/note-folders/fetch
API call to /api/note-folders/fetch completed in 0ms
00:52 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    00:53 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    00:53 +470 ~15 -1: loading /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart                                                                              00:53 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              00:53 +471 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              00:53 +471 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getTemplateById enforces ownership while allowing system templates                  00:53 +472 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getTemplateById enforces ownership while allowing system templates                  00:53 +472 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate assigns user ownership and enqueues sync operation                   00:53 +473 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate assigns user ownership and enqueues sync operation                   00:53 +473 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate throws when no authenticated user is available                       00:53 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate throws when no authenticated user is available                       00:53 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              00:53 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              00:54 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              00:54 +475 ~15 -1: loading /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart                                                                                00:54 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: (setUpAll)                                                                            00:54 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: (setUpAll)                                                                            
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:54 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... - NotesCoreRepository deleteNote sets deletedAt and scheduledPurgeAt timestamps   00:54 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository deleteNote sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=0a5d52d6-199a-4e2a-be39-8e2111dfc130 isUpdate=false titleLen=9 bodyLen=9 traceId=none
[NotesCoreRepository] note persisted noteId=0a5d52d6-199a-4e2a-be39-8e2111dfc130 folder=null tagCount=0 traceId=none
00:54 +476 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/quick_capture_repository_test.dart: QuickCaptureRepository enqueueCapture stores encrypted payload and retrieves pending captures    00:54 +476 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +477 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     00:55 +477 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     
[NotesCoreRepository] createOrUpdate noteId=6e7274c4-a04c-4997-b1e1-daa96713e701 isUpdate=false titleLen=13 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=6e7274c4-a04c-4997-b1e1-daa96713e701 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=47438ec1-bf00-4f27-8815-d5a2e7199c1b isUpdate=false titleLen=11 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=47438ec1-bf00-4f27-8815-d5a2e7199c1b folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=8606c5a7-84bf-4057-8908-9f6bde6291f7 isUpdate=false titleLen=11 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=8606c5a7-84bf-4057-8908-9f6bde6291f7 folder=null tagCount=0 traceId=none
00:55 +478 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     00:55 +479 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/quick_capture_repository_test.dart: QuickCaptureRepository clearProcessedCaptures removes processed rows older than cutoff           00:55 +480 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    00:55 +480 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +481 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    00:55 +481 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
[NotesCoreRepository] createOrUpdate noteId=578c9655-97e8-4e40-b20e-f05dc4d5eb11 isUpdate=false titleLen=21 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=578c9655-97e8-4e40-b20e-f05dc4d5eb11 folder=null tagCount=0 traceId=none
00:55 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository restoreNote clears deletion timestamps              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=e483ef2a-9f4d-4e15-b750-fb59368ec049 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=e483ef2a-9f4d-4e15-b750-fb59368ec049 folder=null tagCount=0 traceId=none
00:55 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository deleteFolder sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +484 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +484 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository getDeletedFolders returns only soft-deleted folders
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository permanentlyDeleteFolder removes folder from database
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
test/services/gdpr_anonymization_service_test.dart:730:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase5Filter);
                    ^
test/services/gdpr_anonymization_service_test.dart:738:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockCreateRecordFilter);
                    ^
test/services/gdpr_anonymization_service_test.dart:745:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockEventFilter);
                    ^
test/services/gdpr_anonymization_service_test.dart:797:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase4Filter2);
                    ^
test/services/gdpr_anonymization_service_test.dart:806:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase5FailFilter);
                    ^
test/services/gdpr_anonymization_service_test.dart:814:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockCreateRecordFilter2);
                    ^
test/services/gdpr_anonymization_service_test.dart:821:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockEventFilter2);
                    ^
test/services/gdpr_anonymization_service_test.dart:873:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase4Filter3);
                    ^
test/services/gdpr_anonymization_service_test.dart:883:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase5Filter3);
                    ^
test/services/gdpr_anonymization_service_test.dart:891:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockCreateRecordFilter3);
                    ^
test/services/gdpr_anonymization_service_test.dart:898:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockEventFilter3);
                    ^
00:55 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository restoreFolder clears deletion timestamps           
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             
[NotesCoreRepository] createOrUpdate noteId=73feb63e-90ab-425e-8f24-2541045a0b42 isUpdate=false titleLen=11 bodyLen=20 traceId=none
00:55 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=785e2bdd-7b4e-4a62-811c-e994215219fc isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=785e2bdd-7b4e-4a62-811c-e994215219fc folder=null tagCount=0 traceId=none
00:55 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             
[NotesCoreRepository] note persisted noteId=73feb63e-90ab-425e-8f24-2541045a0b42 folder=null tagCount=0 traceId=none
00:55 +488 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:55 +488 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      00:55 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
[NotesCoreRepository] createOrUpdate noteId=67b802d1-8a87-46df-8d31-d57c088c03e0 isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=67b802d1-8a87-46df-8d31-d57c088c03e0 folder=null tagCount=0 traceId=none
00:55 +489 ~15 -2: loading /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart [E]                                                                                           
  Failed to load "/Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart":
  Compilation failed for testPath=/Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: test/services/gdpr_anonymization_service_test.dart:730:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase5Filter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:738:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockCreateRecordFilter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:745:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockEventFilter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:797:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase4Filter2);
                      ^
  test/services/gdpr_anonymization_service_test.dart:806:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase5FailFilter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:814:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockCreateRecordFilter2);
                      ^
  test/services/gdpr_anonymization_service_test.dart:821:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockEventFilter2);
                      ^
  test/services/gdpr_anonymization_service_test.dart:873:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase4Filter3);
                      ^
  test/services/gdpr_anonymization_service_test.dart:883:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase5Filter3);
                      ^
  test/services/gdpr_anonymization_service_test.dart:891:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockCreateRecordFilter3);
                      ^
  test/services/gdpr_anonymization_service_test.dart:898:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockEventFilter3);
                      ^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'loading /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart'
00:55 +490 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              00:55 +490 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +490 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              
[NotesCoreRepository] createOrUpdate noteId=04c8ab0c-f5bb-4c65-951a-cb5ec06f228d isUpdate=false titleLen=13 bodyLen=22 traceId=none
[NotesCoreRepository] note persisted noteId=04c8ab0c-f5bb-4c65-951a-cb5ec06f228d folder=null tagCount=0 traceId=none
00:55 +491 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     00:55 +491 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
[NotesCoreRepository] createOrUpdate noteId=e7fd9707-6a8c-44f2-9081-a2a757beb6da isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=e7fd9707-6a8c-44f2-9081-a2a757beb6da folder=null tagCount=0 traceId=none
00:55 +492 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     00:55 +493 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        00:55 +493 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:55 +493 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        
[NotesCoreRepository] createOrUpdate noteId=d09e6b46-8dcf-462b-9d52-5a6f1a9a7dbe isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=d09e6b46-8dcf-462b-9d52-5a6f1a9a7dbe folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=6b45b74a-3e96-42ea-a5aa-c63cd18c5b4e isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=6b45b74a-3e96-42ea-a5aa-c63cd18c5b4e folder=null tagCount=0 traceId=none
00:55 +493 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
[NotesCoreRepository] createOrUpdate noteId=a4b774ad-17a0-4a05-8e22-9f8530c336b5 isUpdate=false titleLen=16 bodyLen=0 traceId=none
00:55 +493 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        00:55 +493 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
[NotesCoreRepository] note persisted noteId=a4b774ad-17a0-4a05-8e22-9f8530c336b5 folder=null tagCount=0 traceId=none
00:55 +494 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               00:55 +495 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               00:55 +496 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               00:55 +497 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            00:55 +497 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            
[NotesCoreRepository] createOrUpdate noteId=99ebeb3b-4bed-47c9-b73e-ecd94fd62b4c isUpdate=false titleLen=11 bodyLen=20 traceId=none
[NotesCoreRepository] note persisted noteId=99ebeb3b-4bed-47c9-b73e-ecd94fd62b4c folder=null tagCount=0 traceId=none
00:55 +498 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:55 +498 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] createOrUpdate noteId=b7eceb45-b50f-4fc3-8e01-853f3bcab913 isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=b7eceb45-b50f-4fc3-8e01-853f3bcab913 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=178ddd08-6f13-4dfa-84d0-fc42caa3a056 isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=178ddd08-6f13-4dfa-84d0-fc42caa3a056 folder=null tagCount=0 traceId=none
00:56 +499 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +499 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: watchNotes stream emits only current user notes                                           
[NotesCoreRepository] createOrUpdate noteId=6a96172a-c035-4977-9fe9-67615914ebf3 isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=6a96172a-c035-4977-9fe9-67615914ebf3 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=d7a8632f-00c6-4a94-ac50-a715bdf3331c isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=d7a8632f-00c6-4a94-ac50-a715bdf3331c folder=null tagCount=0 traceId=none
00:56 +500 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +500 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: toggleNotePin enforces user isolation                                                     
[NotesCoreRepository] createOrUpdate noteId=ed4b01da-36d3-4688-869c-7284cd35e6f3 isUpdate=false titleLen=10 bodyLen=19 traceId=none
[NotesCoreRepository] note persisted noteId=ed4b01da-36d3-4688-869c-7284cd35e6f3 folder=null tagCount=0 traceId=none
00:56 +501 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +501 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: setNotePin only updates owner notes                                                       
[NotesCoreRepository] createOrUpdate noteId=9b492046-a8c5-4026-9d0d-c16f4eeea2e2 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=9b492046-a8c5-4026-9d0d-c16f4eeea2e2 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=9dad885d-9d90-4259-a587-3fbf21700520 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=9dad885d-9d90-4259-a587-3fbf21700520 folder=null tagCount=0 traceId=none
00:56 +502 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +502 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getPinnedNotes returns pins for current user only                                         
[NotesCoreRepository] createOrUpdate noteId=b072e31a-3202-4ecb-888e-fdc7e9f2ca68 isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=b072e31a-3202-4ecb-888e-fdc7e9f2ca68 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=78c40fc7-ddd6-43df-a162-83893c50c47a isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=78c40fc7-ddd6-43df-a162-83893c50c47a folder=null tagCount=0 traceId=none
00:56 +503 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +503 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: folder counts and ids are scoped per user                                                 
[NotesCoreRepository] createOrUpdate noteId=5dfe688b-dc67-403b-b3f1-43dd8d048bf5 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=5dfe688b-dc67-403b-b3f1-43dd8d048bf5 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=c7bc88e1-0b11-41c3-937a-88d9d8b61a1a isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=c7bc88e1-0b11-41c3-937a-88d9d8b61a1a folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=29a4af29-6f6d-4b27-a6e2-50a6a58b60d8 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=29a4af29-6f6d-4b27-a6e2-50a6a58b60d8 folder=null tagCount=0 traceId=none
00:56 +504 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +504 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: CaptureNotesAdapter enforces authentication boundary                                      
[NotesCoreRepository] createOrUpdate noteId=8d667ebc-f1ba-442f-a5e9-9f4adce28b4b isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=8d667ebc-f1ba-442f-a5e9-9f4adce28b4b folder=null tagCount=0 traceId=none
00:56 +505 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +506 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:56 +506 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects invalid URLs                                      00:56 +507 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects invalid URLs                                      00:56 +507 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects localhost in production                           00:56 +508 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects localhost in production                           00:56 +508 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator checks analytics sampling rates                           00:56 +509 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator checks analytics sampling rates                           00:56 +509 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator warns about production misconfigurations                  00:56 +510 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator warns about production misconfigurations                  00:56 +510 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache manager basic operations work                                                   00:56 +511 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache manager basic operations work                                                   00:56 +511 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache TTL expiration works                                                            00:56 +512 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache TTL expiration works                                                            00:56 +512 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache statistics tracking works                                                       00:56 +513 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache statistics tracking works                                                       00:56 +513 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache eviction policies work correctly                                                00:56 +514 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache eviction policies work correctly                                                00:56 +514 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache getOrCompute works                                                              00:56 +515 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache getOrCompute works                                                              00:56 +515 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        00:56 +516 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        00:56 +516 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository result wrapper works correctly                                        00:56 +517 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository result wrapper works correctly                                        00:56 +517 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository error includes metadata                                               00:56 +518 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository error includes metadata                                               00:56 +518 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests QuerySpec builds correct query parameters                                        00:56 +519 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests QuerySpec builds correct query parameters                                        00:56 +519 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Cache statistics calculation                                                     00:56 +520 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Cache statistics calculation                                                     00:56 +520 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Infrastructure providers are properly configured                           00:56 +521 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Infrastructure providers are properly configured                           00:56 +521 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Provider helper extensions work                                            00:56 +522 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Provider helper extensions work                                            00:56 +522 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     00:57 +522 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     00:57 +523 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     00:57 +523 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:58 +523 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:58 +524 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:59 +524 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           01:00 +524 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           01:00 +524 ~15 -2: loading /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart                                                                            01:00 +524 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               01:00 +525 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               01:00 +525 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns complete when all searches have userId               01:00 +526 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns complete when all searches have userId               01:00 +526 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns deferred when searches exist but user not logged in  01:00 +527 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns deferred when searches exist but user not logged in  01:00 +527 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration successfully migrates searches when user is logged in        01:00 +528 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration successfully migrates searches when user is logged in        01:00 +528 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService runAutoMigration only migrates searches without userId01:00 +529 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService runAutoMigration only migrates searches without userId01:00 +529 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns false when no searches need migration               01:00 +530 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns false when no searches need migration               01:00 +530 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns true when searches need migration                   01:00 +531 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns true when searches need migration                   01:00 +531 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns correct count of searches without userId  01:00 +532 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns correct count of searches without userId  01:00 +532 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns 0 when all searches have userId           01:01 +532 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns 0 when all searches have userId           01:01 +533 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns 0 when all searches have userId           01:01 +533 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser migrates searches for specified user   01:01 +534 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser migrates searches for specified user   01:01 +534 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser fails when userId is empty             01:01 +535 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser fails when userId is empty             01:01 +535 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... migrateForUser returns notNeeded when no searches to migrate                  01:01 +536 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... migrateForUser returns notNeeded when no searches to migrate                  01:01 +536 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService deleteOrphanedSearches deletes searches without userId01:01 +537 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService deleteOrphanedSearches deletes searches without userId01:01 +537 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... deleteOrphanedSearches does not delete searches with userId                   01:01 +538 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... deleteOrphanedSearches does not delete searches with userId                   01:01 +538 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService getStatusReport generates correct status report       01:01 +539 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService getStatusReport generates correct status report       01:02 +539 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService getStatusReport generates correct status report       01:02 +539 ~15 -2: loading /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart                                                                                                   01:02 +539 ~15 -2: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                  01:02 +540 ~15 -2: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                  01:02 +540 ~15 -2: loading /Users/onronder/duru-notes/test/services/analytics_goals_test.dart                                                                                                          01:02 +540 ~15 -2: /Users/onronder/duru-notes/test/services/analytics_goals_test.dart: ProductivityGoalsService createGoal persists new active goal                                                    01:02 +541 ~15 -2: /Users/onronder/duru-notes/test/services/analytics_goals_test.dart: ProductivityGoalsService createGoal persists new active goal                                                    01:02 +541 ~15 -2: /Users/onronder/duru-notes/test/services/analytics_goals_test.dart: ProductivityGoalsService updateAllGoalProgress uses analytics stats                                             01:02 +542 ~15 -2: /Users/onronder/duru-notes/test/services/analytics_goals_test.dart: ProductivityGoalsService updateAllGoalProgress uses analytics stats                                             01:02 +542 ~15 -2: /Users/onronder/duru-notes/test/services/analytics_goals_test.dart: ProductivityGoalsService updateGoalProgress records achievement on completion                                   01:02 +543 ~15 -2: /Users/onronder/duru-notes/test/services/analytics_goals_test.dart: ProductivityGoalsService updateGoalProgress records achievement on completion                                   01:02 +543 ~15 -2: loading /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart                                                                                                    01:02 +543 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    01:02 +544 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    01:02 +544 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus updates record when user authenticated       01:02 +545 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus updates record when user authenticated       01:02 +545 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus skips update when user missing               01:02 +546 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus skips update when user missing               01:02 +546 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote delegates to database with user scope         01:02 +547 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote delegates to database with user scope         01:02 +547 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote returns empty when unauthenticated            01:02 +548 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote returns empty when unauthenticated            01:02 +548 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications scheduleNotification delegates to plugin                                01:02 +549 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications scheduleNotification delegates to plugin                                01:02 +549 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications cancelNotification cancels scheduled entry                              01:02 +550 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications cancelNotification cancels scheduled entry                              01:02 +550 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                             01:02 +551 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                             01:03 +551 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                             01:03 +551 ~15 -2: loading /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart                                                                                              01:03 +551 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer does nothing when platform check fails                                  01:03 +552 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer does nothing when platform check fails                                  01:03 +552 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes syncWidgetCache with payload                                    01:03 +553 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes syncWidgetCache with payload                                    01:03 +553 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                  01:03 +554 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                  test/services/lazy_encryption_race_condition_test.dart:39:17: Error: Too many positional arguments: 0 allowed, but 1 found.
Try removing the extra positional arguments.
      db = AppDb(NativeDatabase.memory());
                ^
lib/data/local/app_db.dart:616:3: Context: Found this candidate, but the arguments don't match.
  AppDb() : super(_openConnection());
  ^^^^^
test/services/lazy_encryption_race_condition_test.dart:59:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:90:42: Error: Member not found: 'local'.
              reminderType: ReminderType.local,
                                         ^^^^^
test/services/lazy_encryption_race_condition_test.dart:87:15: Error: No named parameter with the name 'scheduledTime'.
              scheduledTime: DateTime.now().add(const Duration(hours: 1)),
              ^^^^^^^^^^^^^
lib/data/local/app_db.g.dart:3416:3: Context: Found this candidate, but the arguments don't match.
  NoteRemindersCompanion.insert({
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:123:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:157:9: Error: Method not found: 'lessThanOrEqual'.
        lessThanOrEqual(3),
        ^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:201:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:216:18: Error: Method not found: 'Value'.
          title: Value('UPDATED TITLE'),
                 ^^^^^
test/services/lazy_encryption_race_condition_test.dart:258:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:315:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:328:46: Error: Method not found: 'greaterThanOrEqual'.
      expect(stats['totalLockAcquisitions'], greaterThanOrEqual(1));
                                             ^^^^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:329:40: Error: Method not found: 'greaterThanOrEqual'.
      expect(stats['lockContentions'], greaterThanOrEqual(0));
                                       ^^^^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:347:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:65:9: Error: The argument type 'MockProviderContainer' can't be assigned to the parameter type 'Ref<Object?>'.
 - 'MockProviderContainer' is from 'test/services/lazy_encryption_race_condition_test.mocks.dart'.
 - 'Ref' is from 'package:riverpod/src/framework.dart' ('../.pub-cache/hosted/pub.dev/riverpod-2.6.1/lib/src/framework.dart').
 - 'Object' is from 'dart:core'.
        mockContainer,
        ^
01:04 +554 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                  01:04 +554 ~15 -3: loading /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart [E]                                                                                       
  Failed to load "/Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart":
  Compilation failed for testPath=/Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart: test/services/lazy_encryption_race_condition_test.dart:39:17: Error: Too many positional arguments: 0 allowed, but 1 found.
  Try removing the extra positional arguments.
        db = AppDb(NativeDatabase.memory());
                  ^
  lib/data/local/app_db.dart:616:3: Context: Found this candidate, but the arguments don't match.
    AppDb() : super(_openConnection());
    ^^^^^
  test/services/lazy_encryption_race_condition_test.dart:59:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:90:42: Error: Member not found: 'local'.
                reminderType: ReminderType.local,
                                           ^^^^^
  test/services/lazy_encryption_race_condition_test.dart:87:15: Error: No named parameter with the name 'scheduledTime'.
                scheduledTime: DateTime.now().add(const Duration(hours: 1)),
                ^^^^^^^^^^^^^
  lib/data/local/app_db.g.dart:3416:3: Context: Found this candidate, but the arguments don't match.
    NoteRemindersCompanion.insert({
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:123:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:157:9: Error: Method not found: 'lessThanOrEqual'.
          lessThanOrEqual(3),
          ^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:201:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:216:18: Error: Method not found: 'Value'.
            title: Value('UPDATED TITLE'),
                   ^^^^^
  test/services/lazy_encryption_race_condition_test.dart:258:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:315:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:328:46: Error: Method not found: 'greaterThanOrEqual'.
        expect(stats['totalLockAcquisitions'], greaterThanOrEqual(1));
                                               ^^^^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:329:40: Error: Method not found: 'greaterThanOrEqual'.
        expect(stats['lockContentions'], greaterThanOrEqual(0));
                                         ^^^^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:347:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:65:9: Error: The argument type 'MockProviderContainer' can't be assigned to the parameter type 'Ref<Object?>'.
   - 'MockProviderContainer' is from 'test/services/lazy_encryption_race_condition_test.mocks.dart'.
   - 'Ref' is from 'package:riverpod/src/framework.dart' ('../.pub-cache/hosted/pub.dev/riverpod-2.6.1/lib/src/framework.dart').
   - 'Object' is from 'dart:core'.
          mockContainer,
          ^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart -p vm --plain-name 'loading /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart'
01:04 +554 ~15 -3: loading /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart                                                                                                  01:04 +554 ~15 -3: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file            01:04 +554 ~15 -4: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file [E]        
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 51:35                         main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 51:35                         main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file'
01:04 +554 ~15 -4: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when no recording path available                   01:04 +554 ~15 -5: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when no recording path available [E]               
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 86:35                         main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 86:35                         main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload returns null when no recording path available'
01:04 +554 ~15 -5: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when reading recording bytes fails                 01:04 +555 ~15 -5: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when reading recording bytes fails                 01:04 +555 ~15 -5: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when upload fails                                  01:04 +555 ~15 -6: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when upload fails [E]                              
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 112:35                        main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 112:35                        main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload returns null when upload fails'
01:04 +555 ~15 -6: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload tracks analytics with recording_type voice_note                 01:04 +556 ~15 -6: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload tracks analytics with recording_type voice_note                 01:04 +556 ~15 -6: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge                         01:04 +556 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge [E]                     
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 135:35                        main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 135:35                        main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge'
01:04 +556 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings logs cleanup statistics                                 01:04 +557 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings logs cleanup statistics                                 01:04 +557 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings does not throw on individual file deletion errors       01:04 +558 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings does not throw on individual file deletion errors       01:04 +558 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking startRecording includes recording_type: voice_note             01:04 +559 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking startRecording includes recording_type: voice_note             01:04 +559 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking stopRecording includes recording_type: voice_note              01:04 +560 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService analytics tracking stopRecording includes recording_type: voice_note              01:04 +560 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: RecordingResult creates valid result object                                                             01:04 +561 ~15 -7: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: RecordingResult creates valid result object                                                             01:04 +561 ~15 -7: loading /Users/onronder/duru-notes/test/services/push_notification_service_test.dart                                                                                                01:04 +561 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (setUpAll)                                                                                            01:04 +561 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend01:05 +561 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend01:05 +561 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend
🔔 Initial permission status: AuthorizationStatus.notDetermined
🔔 Alert setting: AppleNotificationSetting.enabled
🔔 Badge setting: AppleNotificationSetting.enabled
🔔 Sound setting: AppleNotificationSetting.enabled
🔔 Permission not granted yet. Requesting permission...
🔔 Permission after request: AuthorizationStatus.authorized
🔔 Alert: AppleNotificationSetting.enabled, Badge: AppleNotificationSetting.enabled, Sound: AppleNotificationSetting.enabled
✅ Permission granted! Status: AuthorizationStatus.authorized
🔔 Attempting to get FCM token...
✅ Got FCM token: fcm-token-12345678901234567890...
📱 Getting device metadata...
📱 Platform: unknown, App version: 1.0.0+1
💾 Syncing token with backend...
🔐 _syncTokenWithBackend called
📱 Device ID: 19ab9796-b431-9ab9-796b-4419ab9796b4
🔐 Auth Status Check:
  User ID: user-123
  User Email: test@example.com
  Session exists: true
  Access token exists: true
📤 Calling user_devices_upsert RPC with:
  device_id: 19ab9796-b431-9ab9-796b-4419ab9796b4
  push_token: fcm-token-1234567890...
  platform: unknown
  app_version: 1.0.0+1
  user_id (from auth): user-123
🚀 Making RPC call...
✅ RPC call succeeded
🔍 Verifying token in database...
🔍 Query result: {device_id: 19ab9796-b431-9ab9-796b-4419ab9796b4, platform: unknown, push_token: fcm-token-12345678901234567890}
✅ Verified: Token exists in database
   Device ID: 19ab9796-b431-9ab9-796b-4419ab9796b4
   Platform: unknown
✅ Token sync completed
01:05 +562 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend01:05 +562 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                         01:05 +562 ~15 -7: loading /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart                                                                                                        01:05 +562 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records note folder changes and exposes undo state                                            01:05 +563 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records note folder changes and exposes undo state                                            01:05 +563 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo note folder change restores previous folder                                              01:05 +564 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo note folder change restores previous folder                                              01:05 +564 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo note folder change reapplies destination folder                                          01:05 +565 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo note folder change reapplies destination folder                                          01:05 +565 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService recordNoteFolderChange handles unfiling descriptions                                          01:05 +566 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService recordNoteFolderChange handles unfiling descriptions                                          01:05 +566 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records batch folder change with correct description                                          01:05 +567 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records batch folder change with correct description                                          01:05 +567 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo batch folder change restores previous folders                                            01:05 +568 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo batch folder change restores previous folders                                            01:05 +568 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo batch folder change reapplies new folder to all notes                                    01:05 +569 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo batch folder change reapplies new folder to all notes                                    01:05 +569 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService new operation clears redo stack                                                               01:05 +570 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService new operation clears redo stack                                                               01:05 +570 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService clearHistory empties undo and redo stacks                                                     01:05 +571 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService clearHistory empties undo and redo stacks                                                     01:05 +571 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService respects max stack size by trimming earliest operations                                       01:05 +572 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService respects max stack size by trimming earliest operations                                       01:05 +572 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 01:05 +573 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 01:05 +573 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records folder moves and provides undo support                                                01:05 +574 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records folder moves and provides undo support                                                01:05 +574 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             01:05 +575 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             01:06 +575 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             01:07 +575 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             01:08 +575 ~15 -7: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             01:08 +575 ~15 -7: loading /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart                                                                                                     01:08 +575 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                       01:08 +576 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                       01:08 +576 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when snooze limit reached                                                     01:08 +577 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when snooze limit reached                                                     01:08 +577 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                           01:08 +578 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                           01:09 +578 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                           01:09 +578 ~15 -7: loading /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart                                                                                                01:09 +578 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration default configuration has reasonable geofence values            01:09 +579 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration default configuration has reasonable geofence values            01:09 +579 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration can create custom geofence configuration                        01:09 +580 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration can create custom geofence configuration                        01:09 +580 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration development configuration has appropriate values                01:09 +581 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration development configuration has appropriate values                01:09 +581 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration production configuration has appropriate values                 01:09 +582 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration production configuration has appropriate values                 01:09 +582 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern validates correct UUID v4 format                                              01:09 +583 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern validates correct UUID v4 format                                              01:09 +583 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern rejects invalid UUID formats                                                  01:09 +584 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern rejects invalid UUID formats                                                  01:09 +584 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern handles case insensitivity correctly                                          01:09 +585 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern handles case insensitivity correctly                                          01:09 +585 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Geofence ID Format validates geofence ID format with reminder prefix                                  01:09 +586 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Geofence ID Format validates geofence ID format with reminder prefix                                  01:09 +586 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Geofence ID Format ignores non-reminder geofence IDs                                                  01:09 +587 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Geofence ID Format ignores non-reminder geofence IDs                                                  01:09 +587 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Coordinate Validation validates latitude range                                                        01:09 +588 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Coordinate Validation validates latitude range                                                        01:09 +588 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Coordinate Validation validates longitude range                                                       01:09 +589 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Coordinate Validation validates longitude range                                                       01:09 +589 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Coordinate Validation identifies invalid coordinates                                                  01:09 +590 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Coordinate Validation identifies invalid coordinates                                                  01:09 +590 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Radius Validation validates positive radius values                                                    01:09 +591 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Radius Validation validates positive radius values                                                    01:09 +591 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Radius Validation identifies invalid radius values                                                    01:09 +592 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Radius Validation identifies invalid radius values                                                    01:09 +592 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Radius Validation default radius is reasonable                                                        01:09 +593 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Radius Validation default radius is reasonable                                                        01:09 +593 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents location name handling                                             01:09 +594 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents location name handling                                             01:09 +594 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents extreme coordinate values                                          01:09 +595 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents extreme coordinate values                                          01:10 +595 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents extreme coordinate values                                          01:11 +595 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents extreme coordinate values                                          01:12 +595 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: Edge Cases Documentation documents extreme coordinate values                                          01:12 +595 ~15 -7: loading /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart                                                                                                    01:12 +595 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   01:12 +596 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   01:12 +596 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reminder metadata is preserved across updates                                  01:12 +596 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reminder metadata is preserved across updates [E]                              
  Expected: 'reminder-99'
    Actual: <null>
     Which: not an <Instance of 'String'>
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 473:18   expect
  test/services/metadata_preservation_test.dart 203:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart -p vm --plain-name 'Task metadata preservation reminder metadata is preserved across updates'
01:12 +596 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                 01:12 +597 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                 01:13 +597 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                 01:13 +597 ~15 -8: loading /Users/onronder/duru-notes/test/services/permission_manager_test.dart                                                                                                       01:13 +597 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Singleton should return same instance                                                      01:13 +598 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Singleton should return same instance                                                      01:13 +598 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Status Conversion should convert permission status correctly                    01:13 +599 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Status Conversion should convert permission status correctly                    01:13 +599 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Descriptions should return correct description for each permission type         01:13 +600 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Descriptions should return correct description for each permission type         01:13 +600 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Icons should return correct icon for each permission type                       01:13 +601 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Icons should return correct icon for each permission type                       01:13 +601 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Cache Management should clear cache                                                        01:13 +602 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Cache Management should clear cache                                                        01:13 +602 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should add and remove observers                                                  01:13 +603 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should add and remove observers                                                  01:13 +603 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should notify observers on permission change                                     01:13 +604 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should notify observers on permission change                                     01:13 +604 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should request multiple permissions                                             01:13 +605 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should request multiple permissions                                             01:13 +605 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should check if all permissions are granted                                     01:13 +606 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should check if all permissions are granted                                     01:13 +606 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should use unified permission manager when flag is enabled        01:13 +607 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should use unified permission manager when flag is enabled        01:13 +607 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should fall back to legacy when flag is disabled                  01:13 +608 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should fall back to legacy when flag is disabled                  01:13 +608 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle permission request flow                                    01:13 +609 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle permission request flow                                    01:13 +609 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle location permission escalation                             01:13 +610 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle location permission escalation                             01:13 +610 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                          01:13 +611 ~15 -8: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                          01:13 +611 ~15 -8: loading /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart                                                                                         01:13 +611 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses simple text query                                01:13 +612 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses simple text query                                01:13 +612 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses folder filter                                    01:13 +613 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses folder filter                                    01:13 +613 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses single tag filter                                01:13 +614 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses single tag filter                                01:13 +614 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses multiple tag filters (AND logic)                 01:13 +615 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses multiple tag filters (AND logic)                 01:13 +615 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachment filter                            01:13 +616 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachment filter                            01:13 +616 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachments (plural) filter                  01:13 +617 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachments (plural) filter                  01:13 +617 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:reminder filter                              01:13 +618 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:reminder filter                              01:13 +618 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses status filter                                    01:13 +619 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses status filter                                    01:13 +619 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses type filter                                      01:13 +620 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses type filter                                      01:13 +620 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses before date filter                               01:13 +621 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses before date filter                               01:13 +621 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses after date filter                                01:13 +622 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses after date filter                                01:13 +622 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses combined filters and text                        01:13 +623 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses combined filters and text                        01:13 +623 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses complex query with multiple filter types         01:13 +624 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses complex query with multiple filter types         01:13 +624 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text as single token                        01:13 +625 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text as single token                        01:13 +625 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text with filters                           01:13 +626 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text with filters                           01:13 +626 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses multiple quoted strings                            01:13 +627 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses multiple quoted strings                            01:13 +627 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles unclosed quotes gracefully                        01:13 +628 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles unclosed quotes gracefully                        01:13 +628 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles quotes in filter values                           01:13 +629 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles quotes in filter values                           01:13 +629 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates correct query                                    01:13 +630 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates correct query                                    01:13 +630 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates empty query                                      01:13 +631 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates empty query                                      01:13 +631 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid date format                   01:13 +632 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid date format                   01:13 +632 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with unknown has filter value              01:13 +633 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with unknown has filter value              01:13 +633 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid filter key                    01:13 +634 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid filter key                    01:13 +634 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation handles multiple validation errors                         01:13 +635 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation handles multiple validation errors                         01:13 +635 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns all suggestions for empty input      01:13 +636 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns all suggestions for empty input      01:13 +636 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions by prefix                01:13 +637 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions by prefix                01:13 +637 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions case-insensitively       01:13 +638 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions case-insensitively       01:13 +638 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns empty for non-matching prefix        01:13 +639 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns empty for non-matching prefix        01:13 +639 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests has: variations                     01:13 +640 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests has: variations                     01:13 +640 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests status variations                   01:13 +641 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests status variations                   01:13 +641 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles whitespace-only query                              01:13 +642 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles whitespace-only query                              01:13 +642 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles query with extra spaces                            01:13 +643 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles query with extra spaces                            01:13 +643 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles filter without value                               01:13 +644 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles filter without value                               01:13 +644 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles colon in regular text                              01:13 +645 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles colon in regular text                              01:13 +645 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles special characters                                 01:13 +646 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles special characters                                 01:13 +646 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles unicode characters                                 01:13 +647 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles unicode characters                                 01:13 +647 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles very long queries                                  01:13 +648 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles very long queries                                  01:13 +648 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles date range filters                                 01:13 +649 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles date range filters                                 01:13 +649 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability returns new SearchFilters instances                      01:13 +650 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability returns new SearchFilters instances                      01:13 +650 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability does not mutate SearchFilters during parsing             01:13 +651 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability does not mutate SearchFilters during parsing             01:13 +651 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability accumulates tags correctly                               01:13 +652 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability accumulates tags correctly                               01:13 +652 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns false for valid query        01:13 +653 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns false for valid query        01:13 +653 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns true for invalid query       01:13 +654 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns true for invalid query       01:13 +654 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns false for text-only query   01:13 +655 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns false for text-only query   01:13 +655 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true when filters present   01:13 +656 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true when filters present   01:13 +656 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true for any filter type    01:13 +657 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true for any filter type    01:13 +657 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        01:13 +658 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        01:14 +658 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        01:15 +658 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        01:15 +658 ~15 -8: loading /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart                                                                                                      01:15 +658 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote successfully creates note with correct attachmentMeta structure           01:15 +659 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote successfully creates note with correct attachmentMeta structure           01:15 +659 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote returns null when repository returns null                                 01:15 +660 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote returns null when repository returns null                                 01:15 +660 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote uses provided folderId when specified                                     01:15 +661 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote uses provided folderId when specified                                     01:15 +661 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote tracks error analytics on exception                                       01:15 +662 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote tracks error analytics on exception                                       01:15 +662 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: ... addVoiceRecordingToNote successfully adds recording to note without existing voiceRecordings            01:15 +663 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: ... addVoiceRecordingToNote successfully adds recording to note without existing voiceRecordings            01:15 +663 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote appends to existing voiceRecordings array                         01:15 +664 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote appends to existing voiceRecordings array                         01:15 +664 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote returns null when repository returns null                         01:15 +665 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote returns null when repository returns null                         01:15 +665 ~15 -8: loading /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart                                                                                              01:15 +665 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates saved search with valid query                        01:15 +666 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates saved search with valid query                        01:15 +666 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates pinned saved search                                  01:15 +667 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations creates pinned saved search                                  01:15 +667 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty name                                         01:15 +668 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty name                                         01:15 +668 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty query                                        01:15 +669 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on empty query                                        01:15 +669 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on invalid query syntax                               01:15 +670 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations throws on invalid query syntax                               01:15 +670 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations validates query before creating                              01:15 +671 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Create Operations validates query before creating                              01:15 +671 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes saved search and returns matching notes            01:15 +672 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes saved search and returns matching notes            01:15 +672 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with text query                             01:15 +673 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with text query                             01:15 +673 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with tag filter                             01:15 +674 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with tag filter                             01:15 +674 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with multiple tags (AND logic)              01:15 +675 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with multiple tags (AND logic)              01:15 +675 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with attachment filter                      01:15 +676 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with attachment filter                      01:15 +676 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with date range                             01:15 +677 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes search with date range                             01:15 +677 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes complex search with multiple filters               01:15 +678 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations executes complex search with multiple filters               01:15 +678 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search              01:16 +678 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search              01:16 +679 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search              01:16 +679 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations throws when search not found                                01:16 +680 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations throws when search not found                                01:16 +680 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations updates saved search                                         01:16 +681 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations updates saved search                                         01:16 +681 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations validates query when updating                                01:16 +682 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations validates query when updating                                01:16 +682 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations toggles pin status                                           01:16 +683 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations toggles pin status                                           01:16 +683 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations reorders saved searches                                      01:16 +684 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations reorders saved searches                                      01:16 +684 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations deletes saved search                                         01:16 +685 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations deletes saved search                                         01:16 +685 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations handles delete of non-existent search                        01:16 +686 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations handles delete of non-existent search                        01:16 +686 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets all saved searches                                       01:16 +687 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets all saved searches                                       01:16 +687 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations searches by name                                              01:16 +688 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations searches by name                                              01:16 +688 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations watches saved searches stream                                 01:16 +689 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations watches saved searches stream                                 01:16 +689 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates query syntax                                        01:16 +690 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates query syntax                                        01:16 +690 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates correct query                                       01:16 +691 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates correct query                                       01:16 +691 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets query suggestions                                        01:16 +692 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets query suggestions                                        01:16 +692 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on create                             01:16 +693 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on create                             01:16 +693 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on update                             01:16 +694 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on update                             01:16 +694 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on delete                             01:16 +695 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on delete                             01:16 +695 ~15 -8: loading /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart                                                                                               01:16 +695 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                           01:16 +695 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                           
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:16 +695 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                  01:16 +696 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown persists note, indexes content, and tracks analytics                                  01:16 +696 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown returns error result when repository throws                                           01:16 +697 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importMarkdown returns error result when repository throws                                           01:16 +697 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importObsidian imports multiple markdown files and reports progress                                  01:17 +697 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: importObsidian imports multiple markdown files and reports progress                                  01:17 +698 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            01:17 +698 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            
[NotesCoreRepository] createOrUpdate noteId=c73a84e5-13be-40a3-b86f-8b2bd8ed3d2d isUpdate=false titleLen=5 bodyLen=26 traceId=none
[NotesCoreRepository] note persisted noteId=c73a84e5-13be-40a3-b86f-8b2bd8ed3d2d folder=null tagCount=0 traceId=none
01:17 +699 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            01:17 +699 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                           01:17 +699 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                           
[NotesCoreRepository] createOrUpdate noteId=8c99fc89-ac70-4cf1-b61a-fd8f11670f42 isUpdate=false titleLen=5 bodyLen=23 traceId=none
[NotesCoreRepository] note persisted noteId=8c99fc89-ac70-4cf1-b61a-fd8f11670f42 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=2a94f036-2cf2-42fb-805d-b5f632d8f717 isUpdate=false titleLen=4 bodyLen=26 traceId=none
[NotesCoreRepository] note persisted noteId=2a94f036-2cf2-42fb-805d-b5f632d8f717 folder=null tagCount=0 traceId=none
01:17 +700 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                           01:17 +700 ~15 -8: loading /Users/onronder/duru-notes/test/services/share_extension_service_test.dart                                                                                                  01:17 +700 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared text items with metadata and tags                                 01:17 +701 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared text items with metadata and tags                                 01:17 +701 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared url items with link payload                                       01:17 +702 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared url items with link payload                                       01:18 +702 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared url items with link payload                                       01:18 +702 ~15 -8: loading /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart                                                                                                       01:18 +702 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: stableTaskHash normalizes content before hashing                                                             01:18 +703 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (setUpAll)                                                                                         01:18 +704 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (setUpAll)                                                                                         01:18 +705 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (setUpAll)                                                                                         01:18 +706 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (setUpAll)                                                                                         01:18 +706 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                 01:18 +706 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves local encryption when local is newer
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:18 +707 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer       01:18 +708 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially                01:18 +708 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves remote encryption when remote is newer
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:18 +709 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially                01:19 +709 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially                01:19 +710 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation preserves local encryption when remote is missing encryption    01:19 +710 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves local encryption when remote is missing encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:19 +711 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation preserves local encryption when remote is missing encryption    01:19 +711 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation uses remote encryption when local is missing encryption         01:19 +711 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation uses remote encryption when local is missing encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:19 +712 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation uses remote encryption when local is missing encryption         01:19 +712 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder) 01:19 +712 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder)
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:19 +713 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder) 01:19 +713 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Encrypted Field Preservation conflict resolution still applies other strategies with encryption01:19 +713 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation conflict resolution still applies other strategies with encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:19 +714 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Encrypted Field Preservation conflict resolution still applies other strategies with encryption01:19 +714 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (tearDownAll)                                                                                      01:19 +714 ~15 -8: loading /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart                                                                                            01:19 +714 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (setUpAll)                                                                                        01:19 +714 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                            01:19 +714 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                            
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 1ms
01:19 +715 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                            01:19 +715 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                      01:19 +715 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                      
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:19 +716 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                      01:19 +716 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (tearDownAll)                                                                                     01:20 +716 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (tearDownAll)                                                                                     01:20 +716 ~15 -8: loading /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart                                                                                                   01:20 +716 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied           01:20 +716 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied           
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-1 title="Plan sprint" due=2025-10-19T12:00:00.000Z priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 11ms (task task-123)
[DomainTaskController] task created id=task-123 note=note-1
[DomainTaskController] custom reminder scheduled for task task-123
[PERF] setCustomTaskReminder: 0ms
01:20 +717 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied           01:20 +717 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                      01:20 +717 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                      
[DomainTaskController] updateTask request -> id=task-456 title=Initial Task due=2025-10-20T12:00:00.000Z hasReminder=false
[DomainTaskController] cleared reminder for task task-456
01:20 +718 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                      01:20 +718 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                01:20 +718 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                
[DomainTaskController] updateTask request -> id=task-789 title=Initial Task due=2025-10-22T12:00:00.000Z hasReminder=true
[DomainTaskController] set custom reminder for task task-789
01:20 +719 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                01:20 +719 ~15 -8: loading /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart                                                                                          01:20 +719 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:20 +720 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:20 +721 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:20 +722 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:20 +723 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:21 +723 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            
EnhancedTaskService: cannot perform "updateTask" without userId
01:21 +724 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:21 +724 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation deleteTask cannot remove tasks owned by another user              01:21 +725 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation deleteTask cannot remove tasks owned by another user              01:21 +725 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask performs SOFT DELETE via repository       01:21 +726 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask performs SOFT DELETE via repository       01:21 +726 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated   01:21 +726 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated
EnhancedTaskService: cannot perform "deleteTask" without userId
01:21 +727 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +728 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +728 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated
EnhancedTaskService: cannot perform "completeTask" without userId
01:21 +729 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +730 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +730 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval
[PERF] taskRepository.createTask: 2ms
[PERF] Starting async reminder creation (non-blocking)
[PERF] ⏱️ EnhancedTaskService.createTask total: 3ms
01:21 +731 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +731 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval
EnhancedTaskService: Failed to fetch task for reminder: Bad state: Can't re-open a database after closing it. Please create a new database connection and open that instead.
[PERF] Async reminder creation completed: 2ms
01:21 +732 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +733 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases encrypts unencrypted reminder successfully                          01:21 +734 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder     01:21 +735 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases uses existing encryption if valid                                   01:21 +735 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval
[PERF] taskRepository.createTask: 2ms
[PERF] ⏱️ EnhancedTaskService.createTask total: 3ms
01:21 +736 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases uses existing encryption if valid                                   01:21 +737 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... isolation Repository Pattern Usage (Post-Refactoring Tests) clearTaskReminder does not crash01:21 +738 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Success Cases re-encrypts if existing encryption is inconsistent                  01:21 +739 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) setCustomTaskReminder completes successfully         01:21 +740 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Failure Cases fails when CryptoBox is null                                        01:21 +741 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Failure Cases fails when CryptoBox is null                                        01:21 +741 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Failure Cases fails with retryable error for timeout                              01:21 +742 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Failure Cases fails with retryable error for timeout                              01:21 +742 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Failure Cases fails with non-retryable error for invalid key                      01:21 +743 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Failure Cases fails with non-retryable error for invalid key                      01:21 +743 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Retry Queue Integration removes from retry queue on successful encryption         01:21 +744 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Retry Queue Integration removes from retry queue on successful encryption         01:21 +744 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Retry Queue Integration adds to retry queue on retryable failure                  01:21 +745 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: SyncEncryptionHelper - Retry Queue Integration adds to retry queue on retryable failure                  01:21 +745 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations enqueues new entry                                               01:21 +746 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations enqueues new entry                                               01:21 +746 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations increments retry count on re-enqueue                             01:22 +746 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations increments retry count on re-enqueue                             01:22 +747 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations increments retry count on re-enqueue                             01:22 +747 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations dequeues entry on success                                        01:22 +748 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations dequeues entry on success                                        01:22 +748 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations respects max retries limit                                       01:22 +749 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations respects max retries limit                                       01:22 +749 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations exponential backoff calculation                                  01:22 +750 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: EncryptionRetryQueue - Queue Operations exponential backoff calculation                                  01:22 +750 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods success factory creates valid result                          01:22 +751 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods success factory creates valid result                          01:22 +751 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods failure factory creates valid result                          01:22 +752 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods failure factory creates valid result                          01:22 +752 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods cryptoBoxUnavailable factory creates retryable result         01:22 +753 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods cryptoBoxUnavailable factory creates retryable result         01:22 +753 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods keyNotUnlocked factory creates retryable result               01:22 +754 ~15 -8: /Users/onronder/duru-notes/test/services/sync_encryption_helper_test.dart: ReminderEncryptionResult - Factory Methods keyNotUnlocked factory creates retryable result               01:22 +754 ~15 -8: loading /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart                                                                                                   01:22 +754 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue enqueues reminder successfully                                01:22 +755 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue enqueues reminder successfully                                01:22 +755 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue dequeues reminder successfully                                01:22 +756 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue dequeues reminder successfully                                01:22 +756 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue dequeue non-existent reminder does not throw                  01:22 +757 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue dequeue non-existent reminder does not throw                  01:22 +757 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue can enqueue multiple different reminders                      01:22 +758 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue can enqueue multiple different reminders                      01:22 +758 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic increments retry count when enqueuing existing reminder                 01:22 +759 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic increments retry count when enqueuing existing reminder                 01:22 +759 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic respects max retries limit                                              01:22 +760 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic respects max retries limit                                              01:22 +760 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic exponential backoff increases delay between retries                     01:22 +761 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic exponential backoff increases delay between retries                     01:22 +761 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns true immediately after enqueueing                01:22 +762 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns true immediately after enqueueing                01:22 +762 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +762 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +763 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +764 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +765 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +766 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +767 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +768 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +769 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:23 +769 ~15 -9: /Users/onronder/duru-notes/test/services/trash_service_test.dart: TrashService - Core Tests permanentlyDeleteNote removes note [E]                                                  
  NoSuchMethodError: Class '_FakeNotesRepository' has no instance method 'getNoteById' with matching arguments.
  Receiver: Instance of '_FakeNotesRepository'
  Tried calling: getNoteById("note-to-delete")
  Found: getNoteById(String) => Future<Note?>
  dart:core                                              Object.noSuchMethod
  test/services/trash_service_test.dart 33:56            _FakeNotesRepository.noSuchMethod
  test/services/trash_service_test.dart 15:7             _FakeNotesRepository.getNoteById
  package:duru_notes/services/trash_service.dart 183:37  TrashService.permanentlyDeleteNote
  test/services/trash_service_test.dart 207:21           main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/trash_service_test.dart -p vm --plain-name 'TrashService - Core Tests permanentlyDeleteNote removes note'
01:23 +769 ~15 -10: /Users/onronder/duru-notes/test/services/trash_service_test.dart: TrashService - Core Tests emptyTrash deletes all notes [E]                                                       
  Expected: <2>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/services/trash_service_test.dart 245:7         main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/trash_service_test.dart -p vm --plain-name 'TrashService - Core Tests emptyTrash deletes all notes'
01:23 +770 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +771 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +772 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +773 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +774 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +775 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +776 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +777 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +778 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +779 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:23 +780 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +780 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +781 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +782 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +783 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +784 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +785 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +786 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +787 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +788 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +789 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +790 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +791 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +792 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +793 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +794 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +795 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +796 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +797 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +798 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +799 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +800 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +801 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +802 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +803 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +804 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff           01:24 +804 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits respects max queue size                                          01:24 +805 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits respects max queue size                                          01:24 +805 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits re-enqueuing at capacity still fails size check                  01:24 +806 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits re-enqueuing at capacity still fails size check                  01:24 +806 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:24 +807 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                         01:24 +807 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:25 +807 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:25 +808 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: ... Compliance Tests - Production Grade exportAllUserData returns plaintext note titles and bodies      01:25 +809 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: ... Compliance Tests - Production Grade exportAllUserData returns plaintext note titles and bodies      01:25 +810 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: ... Compliance Tests - Production Grade exportAllUserData returns plaintext note titles and bodies      01:25 +811 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +812 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +812 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: GDPR Data Export Compliance Tests - Production Grade exportAllUserData handles decryption failures gracefully
⚠️ Failed to decrypt title for note note-123: FormatException: Unable to decode encrypted payload
01:25 +813 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +814 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +815 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +816 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +817 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +818 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +819 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +820 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +821 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +822 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:25 +823 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:26 +823 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:26 +824 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:26 +824 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats returns correct queue size                                     01:26 +825 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats returns correct queue size                                     01:26 +825 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats tracks total retries                                           01:26 +826 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats tracks total retries                                           01:26 +826 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats includes config values                                         01:26 +827 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats includes config values                                         01:26 +827 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:26 +827 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
01:26 +828 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:26 +828 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Download: decrypts encrypted reminder from remote       
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:26 +829 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:26 +829 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Backward compatibility: handles plaintext-only reminders
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:26 +830 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:26 +830 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Sync round-trip: upload encrypted, download decrypted   
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:26 +831 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:26 +832 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:27 +832 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:27 +833 ~15 -10: /Users/onronder/duru-notes/test/services/deep_linking_test.dart: handleDeepLink shows warning when task lookup fails                                                               01:27 +834 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:27 +835 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:27 +836 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:27 +837 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:27 +838 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:28 +838 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:28 +839 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:28 +839 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +840 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +841 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +842 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +843 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +844 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +845 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +846 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +847 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +848 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +849 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +850 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +851 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +852 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +853 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +854 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +855 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +856 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +857 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +858 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +859 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +860 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +861 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +862 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +863 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +864 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +865 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +866 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +867 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +868 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +869 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +870 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:28 +871 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:29 +871 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:29 +872 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:29 +872 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:30 +872 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:30 +873 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:30 +873 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue clear removes all entries from queue                                               01:30 +874 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue clear removes all entries from queue                                               01:30 +874 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Edge Cases handles empty reminder ID                                               01:30 +875 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Edge Cases handles empty reminder ID                                               01:30 +875 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Edge Cases handles very long reminder ID                                           01:30 +876 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Edge Cases handles very long reminder ID                                           01:30 +876 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Edge Cases handles rapid enqueue/dequeue cycles                                    01:30 +877 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Edge Cases handles rapid enqueue/dequeue cycles                                    01:30 +877 ~15 -10: loading /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart                                                                                                   01:30 +877 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: (setUpAll)                                                                                               01:30 +877 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: (setUpAll)                                                                                               
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:30 +877 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: createTaskReminder links reminder id to task and returns id                                              01:30 +878 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: createTaskReminder links reminder id to task and returns id                                              01:30 +878 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: cancelTaskReminder clears reminder id and deletes remote reminder                                        01:30 +879 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: cancelTaskReminder clears reminder id and deletes remote reminder                                        01:30 +879 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: snoozeTaskReminder delegates to snooze service and syncs updated reminder                                01:30 +880 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: snoozeTaskReminder delegates to snooze service and syncs updated reminder                                01:30 +880 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: (tearDownAll)                                                                                            01:31 +880 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: (tearDownAll)                                                                                            01:31 +880 ~15 -10: loading /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart                                                                                                   01:31 +880 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +880 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +881 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +882 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +883 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +884 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +885 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +886 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +887 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +888 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +889 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +890 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:32 +891 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:32 +892 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:32 +893 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not trigger on @ with space after                         01:32 +894 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not trigger on @ with space after                         01:32 +894 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should hide overlay when @ is deleted                            01:32 +895 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should hide overlay when @ is deleted                            01:32 +895 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should display search results                                  01:32 +896 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should display search results                                  01:32 +896 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:33 +896 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:33 +897 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:33 +897 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should update results as user types                            01:33 +898 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should update results as user types                            01:33 +898 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should insert link on tap                                          01:33 +899 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should insert link on tap                                          01:33 +899 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should replace @ query with full link                              01:33 +900 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should replace @ query with full link                              01:33 +900 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should maintain cursor position after insertion                    01:33 +901 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should maintain cursor position after insertion                    01:33 +901 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:33 +902 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:33 +902 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should insert link on Enter key                               01:33 +903 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should insert link on Enter key                               01:33 +903 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should hide overlay on Escape key                             01:33 +904 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should hide overlay on Escape key                             01:33 +904 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle search errors gracefully                             01:33 +905 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle search errors gracefully                             01:33 +905 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:34 +905 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:34 +906 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:34 +906 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should ignore @ when cursor is followed by whitespace                  01:34 +907 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should ignore @ when cursor is followed by whitespace                  01:34 +907 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle multiple @ signs                                         01:34 +908 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle multiple @ signs                                         01:34 +908 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle very long search queries                                 01:34 +909 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle very long search queries                                 01:34 +909 ~15 -10: Some tests failed.                                                                                                                                                                 

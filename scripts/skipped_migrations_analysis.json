{
  "criticalUpdates": [
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Add unique constraints"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Unique index: CREATE"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Unique index: idx_clipper_inbox_user_message_id"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Unique index: CREATE"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Unique index: uniq_note_tasks_note_contenthash_position"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Index: for"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Index: idx_clipper_inbox_user_created"
    },
    {
      "file": "20250114_create_unique_indexes.sql",
      "change": "Index: idx_inbound_aliases_alias"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add CASCADE delete rules"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: inbound_aliases"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: inbound_aliases"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: clipper_inbox"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: clipper_inbox"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: user_devices"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: user_devices"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: note_tasks"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: note_tasks"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: folders"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: folders"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: folders"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: note_folders"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: note_folders"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: note_folders"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: notes"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Alter table: notes"
    },
    {
      "file": "20250114_enforce_foreign_key_cascades.sql",
      "change": "Add constraint on: notes"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Create note_tasks table"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Create table: note_tasks"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Index: idx_note_tasks_user_id"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Index: idx_note_tasks_note_id"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Index: idx_note_tasks_status"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Index: idx_note_tasks_due_date"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Index: idx_note_tasks_parent"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Index: idx_note_tasks_reminder"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Unique index: uniq_note_tasks_note_contenthash_position"
    },
    {
      "file": "20250119_note_tasks.sql",
      "change": "Alter table: note_tasks"
    }
  ],
  "importantUpdates": [
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Extended RLS policies"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: notes"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: folders"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: note_folders"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: clipper_inbox"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: inbound_aliases"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: user_devices"
    },
    {
      "file": "20250114_audit_extend_rls_policies.sql",
      "change": "Alter table: note_tasks"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Convert metadata columns to JSONB"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Index: idx_clipper_inbox_metadata_gin"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Index: idx_clipper_inbox_payload_gin"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Index: idx_note_tasks_labels_gin"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Index: for"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Index: idx_clipper_inbox_metadata_url"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Index: idx_clipper_inbox_has_attachments"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Change column type in: clipper_inbox"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Alter table: clipper_inbox"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Alter table: clipper_inbox"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Change column type in: clipper_inbox"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Alter table: clipper_inbox"
    },
    {
      "file": "20250114_convert_to_jsonb.sql",
      "change": "Change column type in: note_tasks"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Clipper inbox structure fixes"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Create table: clipper_inbox"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Index: idx_clipper_inbox_user_id"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Index: idx_clipper_inbox_created_at"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Index: idx_clipper_inbox_source_type"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Index: idx_clipper_inbox_converted"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Unique index: for"
    },
    {
      "file": "20250117_fix_clipper_inbox_structure.sql",
      "change": "Alter table: clipper_inbox"
    }
  ],
  "minorUpdates": [
    {
      "file": "20250114_fix_database_settings.sql",
      "change": "Database configuration updates"
    }
  ],
  "repairRequirements": [
    "Verify note_tasks table structure",
    "Add missing unique constraints",
    "Add CASCADE rules to foreign keys",
    "Review and extend RLS policies"
  ]
}
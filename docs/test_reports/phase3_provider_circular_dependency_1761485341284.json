{
  "test_name": "circular_dependency",
  "timestamp": "2025-10-26T16:29:01.284925",
  "results": {
    "scenario_1": {
      "success": false,
      "error": "Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().",
      "stack": "#1      ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)\n#2      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart:398:31)\n#3      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)\n#4      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)\n#5      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)\n#6      notesCoreRepositoryProvider.<anonymous closure> (package:duru_notes/infrastructure/providers/repository_providers.dart:46:5)\n#7      ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)\n#8      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart:398:31)\n#9      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)\n#10     _CustomZone.registerUnaryCallback (dart:async/zone.dart:1450:19)\n#11     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)\n#12     _rootRun (dart:async/zone.dart:1525:13)\n#13     _CustomZone.run (dart:async/zone.dart:1422:19)\n#14     _runZoned (dart:async/zone.dart:2034:6)\n#15     runZoned (dart:async/zone.dart:1960:10)\n#16     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:13)\n#17     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:17)\n#18     _rootRun (dart:async/zone.dart:1525:13)\n#19     _CustomZone.run (dart:async/zone.dart:1422:19)\n#20     _runZoned (dart:async/zone.dart:2034:6)\n#21     runZoned (dart:async/zone.dart:1960:10)\n#22     Invoker._waitForOutstandingCallbacks (package:test_api/src/backend/invoker.dart:278:5)\n#23     Invoker._onRun.<anonymous closure>.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/invoker.dart:418:17)\n#24     _CustomZone.registerUnaryCallback (dart:async/zone.dart:1450:19)\n#25     Invoker._onRun.<anonymous closure>.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/invoker.dart:416:11)\n#26     _rootRun (dart:async/zone.dart:1525:13)\n#27     _CustomZone.run (dart:async/zone.dart:1422:19)\n#28     _runZoned (dart:async/zone.dart:2034:6)\n#29     runZoned (dart:async/zone.dart:1960:10)\n#30     Invoker._onRun.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/invoker.dart:407:9)\n#31     Invoker._guardIfGuarded (package:test_api/src/backend/invoker.dart:450:15)\n#32     Invoker._onRun.<anonymous closure> (package:test_api/src/backend/invoker.dart:406:7)\n#33     Chain.capture.<anonymous closure> (package:stack_trace/src/chain.dart:97:24)\n#34     _rootRun (dart:async/zone.dart:1525:13)\n#35     _CustomZone.run (dart:async/zone.dart:1422:19)\n#36     _runZoned (dart:async/zone.dart:2034:6)\n#37     runZoned (dart:async/zone.dart:1960:10)\n#38     Chain.capture (package:stack_trace/src/chain.dart:95:12)\n#39     Invoker._onRun (package:test_api/src/backend/invoker.dart:405:11)\n#40     LiveTestController.run (package:test_api/src/backend/live_test_controller.dart:153:11)\n#41     RemoteListener._runLiveTest.<anonymous closure> (package:test_api/src/backend/remote_listener.dart:275:16)\n#42     _rootRun (dart:async/zone.dart:1525:13)\n#43     _CustomZone.run (dart:async/zone.dart:1422:19)\n#44     _runZoned (dart:async/zone.dart:2034:6)\n#45     runZoned (dart:async/zone.dart:1960:10)\n#46     RemoteListener._runLiveTest (package:test_api/src/backend/remote_listener.dart:274:5)\n#47     RemoteListener._serializeTest.<anonymous closure> (package:test_api/src/backend/remote_listener.dart:221:7)\n#48     _rootRunUnary (dart:async/zone.dart:1538:47)\n#49     _CustomZone.runUnary (dart:async/zone.dart:1429:19)\n#50     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)\n#51     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#52     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#53     _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#54     _StreamController._add (dart:async/stream_controller.dart:663:7)\n#55     _StreamController.add (dart:async/stream_controller.dart:618:5)\n#56     _rootRunUnary (dart:async/zone.dart:1546:13)\n#57     _CustomZone.runUnary (dart:async/zone.dart:1429:19)\n#58     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)\n#59     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#60     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#61     _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#62     _StreamController._add (dart:async/stream_controller.dart:663:7)\n#63     _StreamController.add (dart:async/stream_controller.dart:618:5)\n#64     _StreamSinkWrapper.add (dart:async/stream_controller.dart:898:13)\n#65     _GuaranteeSink.add (package:stream_channel/src/guarantee_channel.dart:125:12)\n#66     new _MultiChannel.<anonymous closure> (package:stream_channel/src/multi_channel.dart:159:31)\n#67     _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#68     CastStreamSubscription._onData (dart:_internal/async_cast.dart:95:11)\n#69     _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#70     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#71     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#72     _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#73     _StreamController._add (dart:async/stream_controller.dart:663:7)\n#74     _StreamController.add (dart:async/stream_controller.dart:618:5)\n#75     _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#76     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#77     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#78     _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#79     _StreamController._add (dart:async/stream_controller.dart:663:7)\n#80     _StreamController.add (dart:async/stream_controller.dart:618:5)\n#81     _StreamSinkWrapper.add (dart:async/stream_controller.dart:898:13)\n#82     _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#83     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#84     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#85     _ForwardingStreamSubscription._add (dart:async/stream_pipe.dart:154:11)\n#86     _MapStream._handleData (dart:async/stream_pipe.dart:252:10)\n#87     _ForwardingStreamSubscription._handleData (dart:async/stream_pipe.dart:184:13)\n#88     _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#89     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#90     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#91     _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#92     _StreamController._add (dart:async/stream_controller.dart:663:7)\n#93     _StreamController.add (dart:async/stream_controller.dart:618:5)\n#94     new _WebSocketImpl._fromSocket.<anonymous closure> (dart:_http/websocket_impl.dart:1252:27)\n#95     _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#96     _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#97     _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#98     _SinkTransformerStreamSubscription._add (dart:async/stream_transformers.dart:67:11)\n#99     _EventSinkWrapper.add (dart:async/stream_transformers.dart:13:11)\n#100    _WebSocketProtocolTransformer._messageFrameEnd (dart:_http/websocket_impl.dart:348:23)\n#101    _WebSocketProtocolTransformer.add (dart:_http/websocket_impl.dart:238:46)\n#102    _SinkTransformerStreamSubscription._handleData (dart:async/stream_transformers.dart:115:24)\n#103    _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#104    _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#105    _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#106    _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#107    _StreamController._add (dart:async/stream_controller.dart:663:7)\n#108    _StreamController.add (dart:async/stream_controller.dart:618:5)\n#109    _Socket._onData (dart:io-patch/socket_patch.dart:2912:41)\n#110    _RootZone.runUnaryGuarded (dart:async/zone.dart:1778:10)\n#111    _BufferingStreamSubscription._sendData (dart:async/stream_impl.dart:381:11)\n#112    _BufferingStreamSubscription._add (dart:async/stream_impl.dart:312:7)\n#113    _SyncStreamControllerDispatch._sendData (dart:async/stream_controller.dart:798:19)\n#114    _StreamController._add (dart:async/stream_controller.dart:663:7)\n#115    _StreamController.add (dart:async/stream_controller.dart:618:5)\n#116    new _RawSocket.<anonymous closure> (dart:io-patch/socket_patch.dart:2331:31)\n#117    _NativeSocket.issueReadEvent.issue (dart:io-patch/socket_patch.dart:1655:14)\n#118    _microtaskLoop (dart:async/schedule_microtask.dart:40:35)\n#119    _startMicrotaskLoop (dart:async/schedule_microtask.dart:49:5)\n",
      "resolvedProviders": [
        "appDb",
        "taskCoreRepository (Supabase init required)"
      ]
    },
    "scenario_2": {
      "success": true,
      "resolvedProviders": [
        "domainTaskController (Supabase init required)",
        "enhancedTaskService (Supabase init required)",
        "taskReminderBridge (Supabase init required)",
        "unifiedReminderCoordinator",
        "advancedReminderService"
      ]
    }
  }
}
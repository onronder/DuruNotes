# Supabase Baseline Validation — 2025-11-05

Project: `mizzxiijxtbwrqgflpnp`  
Migration snapshot: `supabase db push` through `20251105000000_add_metadata_to_reminders.sql`

## Verification Steps
1. Linked the Supabase project locally (`supabase link`).
2. Captured current schema for audit (`supabase db dump --schema public --linked --file tmp_schema.sql`).
3. Confirmed the reminders metadata column exists in the dump (`metadata jsonb NOT NULL DEFAULT '{}'::jsonb`).
4. Added and executed `supabase/validation/check_baseline.sql` via:
   ```bash
   psql "$SUPABASE_DB_URL" -f supabase/validation/check_baseline.sql
   ```
   The script verifies table presence, column constraints, RLS status/policies, and critical indexes.

## Expected Outcomes
- All core tables (`notes`, `note_tasks`, `note_folders`, `note_tags`, `folders`, `reminders`) reported “✅ present”.
- `public.reminders.metadata` flagged as `jsonb`, `NOT NULL`, default `'{}'::jsonb`.
- RLS status for the six core tables returned “✅ enabled” with the corresponding `*_owner` policies.
- Index checks confirmed the performance indexes: `notes_user_updated_idx`, `note_tasks_user_updated_idx`, `note_folders_folder_updated`, `note_tags_batch_load_idx`, `reminders_active_idx`, etc.

## Follow-Up
- Keep the temporary schema dump (`tmp_schema.sql`) out of version control (remove after review).
- Re-run the validation script after any schema migration or Supabase deployment.
- Log future runs in this folder using the naming convention `baseline_<yyyy-mm-dd>.md`.

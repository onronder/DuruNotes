# Staging Environment Configuration
# Duru Notes Staging Infrastructure Settings

# Environment
export ENVIRONMENT="staging"
export AWS_REGION="us-east-1"

# Supabase Configuration
export SUPABASE_PROJECT_REF="your-staging-project-ref"
export SUPABASE_URL="https://your-staging-project-ref.supabase.co"
export SUPABASE_ANON_KEY="your-staging-anon-key"
export SUPABASE_SERVICE_ROLE_KEY="your-staging-service-role-key"
export SUPABASE_JWT_SECRET="your-staging-jwt-secret"

# API Configuration
export API_BASE_URL="https://api-staging.duru-notes.com"
export DOMAIN_NAME="staging.duru-notes.com"

# Kong Configuration
export KONG_ADMIN_URL="https://kong-admin-staging.duru-notes.com"
export KONG_ADMIN_TOKEN="your-staging-kong-admin-token"

# Database Configuration
export KONG_DB_INSTANCE_CLASS="db.t3.medium"
export KONG_DB_ALLOCATED_STORAGE="50"
export KONG_DB_MAX_ALLOCATED_STORAGE="200"

# Redis Configuration
export REDIS_NODE_TYPE="cache.t3.medium"

# Kong Service Configuration
export KONG_CPU="1024"
export KONG_MEMORY="2048"
export KONG_DESIRED_COUNT="2"
export KONG_MIN_CAPACITY="1"
export KONG_MAX_CAPACITY="5"

# Auto-scaling Configuration
export ENABLE_AUTO_SCALING="true"
export AUTO_SCALING_TARGET_CPU="75"
export AUTO_SCALING_TARGET_MEMORY="80"

# Monitoring Configuration
export ENABLE_MONITORING="true"
export PROMETHEUS_URL="https://prometheus-staging.duru-notes.com"
export GRAFANA_URL="https://monitoring-staging.duru-notes.com"
export PROMETHEUS_RETENTION_DAYS="30"

# Security Configuration
export ENABLE_WAF="true"
export ENABLE_CLOUDTRAIL="true"
export ENABLE_CONFIG="false"
export ENABLE_GUARDDUTY="false"

# Backup Configuration
export BACKUP_RETENTION_DAYS="30"
export ENABLE_CROSS_REGION_BACKUP="false"
export BACKUP_REGION="us-west-2"

# FCM Configuration
export FCM_PROJECT_ID="your-firebase-staging-project-id"
# export FCM_SERVICE_ACCOUNT_KEY - Set via AWS Secrets Manager

# Webhook Configuration
# export WEBHOOK_SECRET - Set via AWS Secrets Manager

# Notification Configuration
export SLACK_WEBHOOK_URL="https://hooks.slack.com/services/your/staging/webhook"
export PAGERDUTY_INTEGRATION_KEY=""

# Feature Flags
export ENABLE_RATE_LIMITING="true"
export ENABLE_CORS="true"
export ENABLE_JWT_AUTH="true"
export ENABLE_HMAC_AUTH="true"
export ENABLE_PROMETHEUS_METRICS="true"

# Logging Configuration
export LOG_LEVEL="debug"
export ENABLE_DEBUG_MODE="true"

# Resource Tagging
export COST_CENTER="engineering"
export OWNER="platform-team"
export DATA_CLASSIFICATION="internal"

# Domain and SSL
export ROUTE53_ZONE_NAME="duru-notes.com"

# VPC Configuration
export VPC_CIDR="10.1.0.0/16"

# Compliance
export ENABLE_COMPLIANCE_MONITORING="false"
export COMPLIANCE_FRAMEWORKS=""

# Cost Optimization
export ENABLE_SPOT_INSTANCES="true"
export ENABLE_SCHEDULED_SCALING="false"
00:00 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:01 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:02 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:03 +0: loading /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart                                                                                                                           00:03 +0: /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart: Phase 3 Integration Tests Complete Dialog Flow Dialog with header and actions works together                                     00:04 +0: /Users/onronder/duru-notes/test/ui/phase3_widget_test.dart: Phase 3 Integration Tests Complete Dialog Flow Dialog with header and actions works together                                     00:04 +1: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:04 +2: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:04 +3: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:04 +4: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:04 +5: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:04 +6: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:04 +7: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +7: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +8: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         00:05 +8: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should use user input for task title                                                         
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 3ms
[DomainTaskController] createTask request -> note=standalone title="Buy groceries for dinner" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 6ms (task task-123)
[DomainTaskController] task created id=task-123 note=standalone
00:05 +9: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                              00:05 +10: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:05 +11: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should display all blocks                                                                             00:05 +12: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should auto-focus on task title field for new tasks                                         00:05 +13: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering displays correct tab counts                                                              00:05 +14: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering displays correct tab counts                                                              00:05 +15: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should show different labels for new vs edit                                                00:05 +16: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should show different labels for new vs edit                                                00:05 +17: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering filters items when tapping tabs                                                          00:05 +18: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering filters items when tapping tabs                                                          00:05 +19: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering filters items when tapping tabs                                                          00:05 +20: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              00:05 +20: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should handle long task titles                                                              
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 1ms
[DomainTaskController] createTask request -> note=standalone title="This is a very long task title that should be handled properly by the system without any issues or truncation in the creation process" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 3ms (task task-long)
[DomainTaskController] task created id=task-long note=standalone
00:05 +21: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:05 +22: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:06 +22: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:06 +23: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:06 +23: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation with User Input should trim whitespace from task title                                                      
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 1ms
[DomainTaskController] createTask request -> note=standalone title="Buy milk" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 2ms (task task-trim)
[DomainTaskController] task created id=task-trim note=standalone
00:06 +24: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:06 +24: /Users/onronder/duru-notes/test/ui/task_creation_input_test.dart: Task Creation Success Feedback should capture task creation parameters                                                    
[DomainTaskController] created standalone note standalone
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=standalone title="Complete project proposal" due=null priority=medium createReminder=false
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 0ms (task task-success)
[DomainTaskController] task created id=task-success note=standalone
00:06 +25: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:06 +26: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should delete block via actions menu                                                                  00:06 +27: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering shows more options menu when trash has items                                             00:06 +28: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show block selector overlay                                                                    00:06 +29: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor should show block selector overlay                                                                    00:06 +30: /Users/onronder/duru-notes/test/ui/trash_screen_test.dart: TrashScreen Widget Tests - UI Rendering selection mode updates count when multiple items selected                                00:06 +31: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:06 +32: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:06 +33: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:06 +34: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:06 +35: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:06 +36: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:06 +37: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +37: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +38: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +39: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +40: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +41: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +42: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +43: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +44: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +45: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               00:07 +45: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Voice recording flow: Record → Save → Note created with player                               
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.supabase.co/storage/v1/object/public/attachments/test.m4a
00:07 +46: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Interaction Tests should update block content on edit                                                 00:07 +46 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Interaction Tests should update block content on edit                                              00:07 +47 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Permission denied flow shows dialog                                                       00:07 +48 ~1: /Users/onronder/duru-notes/test/ui/unified_block_editor_test.dart: UnifiedBlockEditor Interaction Tests should handle focus changes                                                      00:07 +49 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:07 +49 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: NULL (FAILED)
[VOICE_NOTE_DEBUG] ERROR: finalizeAndUpload() returned null
00:07 +50 ~1: /Users/onronder/duru-notes/test/ui/voice_note_flow_test.dart: Voice Note Flow Integration Test Upload failure shows error message                                                        00:07 +51 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:08 +51 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_player_test.dart: VoiceRecordingPlayer widget renders without crashing                                                        00:08 +52 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +53 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +54 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +55 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +56 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +57 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows initial idle state                                                                 00:08 +58 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:08 +59 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows recording state when recording starts                                              00:08 +59 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows permission denied dialog when permission is denied                                 00:08 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows permission denied dialog when permission is denied                                 00:08 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:09 +60 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:09 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows title input after recording stops                                                  00:09 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:09 +61 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.com/test.m4a
00:09 +62 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet creates voice note when save is tapped with valid title                                  00:09 +63 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes all expected indexes are created                                                     00:09 +64 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:09 +64 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
[VOICE_NOTE_DEBUG] Upload result: NULL (FAILED)
[VOICE_NOTE_DEBUG] ERROR: finalizeAndUpload() returned null
00:09 +65 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:09 +66 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:09 +67 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet shows error when upload fails                                                            00:09 +67 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes composite indexes are created                                                        00:09 +68 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet cancels recording and closes sheet                                                       00:09 +69 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet cancels recording and closes sheet                                                       00:09 +70 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes database queries work after migration                                                00:09 +71 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   00:09 +72 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   00:09 +73 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   00:09 +74 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   00:09 +74 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   
[VOICE_NOTE_DEBUG] ========== STARTING VOICE NOTE SAVE ==========
[VOICE_NOTE_DEBUG] Calling audioService.finalizeAndUpload()...
00:09 +74 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 

=== DATABASE INDEX VERIFICATION REPORT ===

00:09 +74 ~1: /Users/onronder/duru-notes/test/ui/widgets/voice_recording_sheet_test.dart: VoiceRecordingSheet passes folderId to voice note creation                                                   
[VOICE_NOTE_DEBUG] Upload result: SUCCESS
[VOICE_NOTE_DEBUG] Upload successful! URL: https://example.com/test.m4a
00:09 +74 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 
Schema Version: 45
Expected Indexes: 17
Found Indexes: 17
Status: ✅ COMPLETE

✅ Successfully Verified (17):
   - idx_note_tags_batch_load
   - idx_note_links_batch_load
   - idx_note_folders_batch_load
   - idx_notes_user_updated_composite
   - idx_notes_pinned_updated
   - idx_note_folders_folder_updated
   - idx_tasks_note_status_composite
   - idx_tasks_status_due_composite
   - idx_tasks_priority_due
   - idx_notes_search_metadata
   - idx_note_tags_tag_search
   - idx_folders_hierarchy_path
   - idx_folders_root
   - idx_pending_ops_entity
   - idx_notes_version_updated
   - idx_reminders_active
   - idx_reminders_note_active

ℹ️  Extra Indexes (54):
   - idx_note_folders_note
   - idx_note_folders_folder
   - idx_local_notes_updated_notdeleted
   - idx_note_tags_tag
   - idx_note_links_target_title
   - idx_note_reminders_remind_at
   - idx_local_folders_parent_id
   - idx_local_folders_path
   - idx_local_folders_deleted
   - idx_local_folders_sort_order
   - idx_note_folders_folder_id
   - idx_note_tasks_note_id
   - idx_note_tasks_due_date
   - idx_note_tasks_status
   - idx_note_tasks_reminder_id
   - idx_note_tasks_parent
   - idx_saved_searches_pinned
   - idx_saved_searches_usage
   - idx_saved_searches_type
   - idx_attachments_note_id
   - idx_attachments_mime_type
   - idx_inbox_items_user_id
   - idx_inbox_items_unprocessed
   - idx_inbox_items_source_type
   - idx_qc_queue_user_processed
   - idx_qc_queue_processed_at
   - idx_local_notes_user_deleted_updated
   - idx_local_notes_user_pinned_updated
   - idx_local_notes_user_type
   - idx_local_folders_user_parent_order
   - idx_local_folders_user_path
   - idx_local_folders_user_root
   - idx_note_reminders_user_active_time
   - idx_note_reminders_user_note
   - idx_note_reminders_user_snoozed
   - idx_note_reminders_user_recurring
   - idx_attachments_user_note
   - idx_attachments_user_created
   - idx_attachments_user_mime
   - idx_pending_ops_user_created
   - idx_pending_ops_user_kind_created
   - idx_note_tasks_user_note_deleted
   - idx_note_tasks_user_status_due
   - idx_note_tasks_user_priority_created
   - idx_note_tasks_user_parent
   - idx_note_tags_user_tag
   - idx_note_tags_user_note
   - idx_note_tags_user_tag_note
   - idx_note_links_user_source
00:09 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 00:09 +75 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 
   - idx_note_links_user_target
   - idx_note_links_user_target_title
   - idx_note_folders_user_folder_updated
   - idx_note_folders_user_note
   - idx_local_folders_user_deleted_updated

=== PERFORMANCE STATISTICS ===

Custom Indexes: 71
Database Size: 0.43 MB
Table Counts:
   - notes: 0
   - tasks: 0
   - folders: 0
   - tags: 0
   - links: 0

==========================================

00:09 +76 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes verification report can be generated                                                 00:09 +76 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes full database upgrade from schema 26 to 27                                           00:09 +77 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Migration 27 Performance Indexes full database upgrade from schema 26 to 27                                           00:09 +77 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects missing indexes                                                                       00:09 +78 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects missing indexes                                                                       00:09 +78 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects present indexes                                                                       00:09 +79 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier verifier detects present indexes                                                                       00:09 +79 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier performance stats are calculated correctly                                                             00:09 +80 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier performance stats are calculated correctly                                                             00:09 +80 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:09 +81 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:10 +81 ~1: /Users/onronder/duru-notes/test/migrations/migration_27_test.dart: Index Verifier query analysis detects index usage                                                                     00:10 +81 ~1: loading /Users/onronder/duru-notes/test/unit/domain_models_test.dart                                                                                                                     00:10 +81 ~1: loading /Users/onronder/duru-notes/test/domain_migration_test.dart                                                                                                                       00:10 +81 ~1: loading /Users/onronder/duru-notes/test/deployment_validation_test.dart                                                                                                                  00:11 +81 ~1: loading /Users/onronder/duru-notes/test/deployment_validation_test.dart                                                                                                                  00:11 +81 ~1: loading /Users/onronder/duru-notes/test/phase1_integration_test.dart                                                                                                                     00:11 +81 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                        00:11 +82 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should have all Phase 1 flags enabled in development                        00:11 +82 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should support overrides for testing                                        00:11 +83 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should support overrides for testing                                        00:11 +83 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should check feature flags correctly                                        00:11 +84 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Feature Flags System should check feature flags correctly                                        00:11 +84 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should be singleton                                                           00:11 +85 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should be singleton                                                           00:11 +85 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission descriptions                                        00:11 +86 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission descriptions                                        00:11 +86 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission icons                                               00:11 +87 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should provide permission icons                                               00:11 +87 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support cache management                                               00:11 +88 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support cache management                                               00:11 +88 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support observer pattern                                               00:11 +89 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Permission Manager should support observer pattern                                               00:11 +89 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +90 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +91 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +92 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +93 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +94 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +95 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +96 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +97 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +98 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +99 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                     00:11 +100 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +101 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +102 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +103 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +104 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +105 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +106 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +107 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +108 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +109 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +110 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +111 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +112 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +113 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +114 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +115 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +116 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +117 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +118 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +119 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +120 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +121 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +122 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +123 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +124 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +125 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +126 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +127 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +128 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should render with feature flag enabled                                    00:11 +128 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should support different configurations                                    00:11 +129 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should support different configurations                                    00:11 +129 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should handle block operations                                             00:11 +130 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Unified Block Editor should handle block operations                                             00:11 +130 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration all refactored components should respect feature flags                    00:11 +131 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration all refactored components should respect feature flags                    00:11 +131 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration UI components should work together                                        00:11 +132 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Component Integration UI components should work together                                        00:11 +132 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation legacy code paths should still work with flags disabled               00:11 +133 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation legacy code paths should still work with flags disabled               00:11 +133 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:11 +134 ~1: /Users/onronder/duru-notes/test/phase1_integration_test.dart: Phase 1 Integration Tests Migration Path Validation gradual rollout should be possible                                    00:11 +134 ~1: loading /Users/onronder/duru-notes/test/security/encryption_security_test.dart                                                                                                          00:11 +134 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:12 +134 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:12 +135 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation generates highly unique random byte sequences                00:12 +135 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have correct length                             00:12 +136 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have correct length                             00:12 +136 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have sufficient entropy                         00:12 +137 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Random Number Generation random bytes have sufficient entropy                         00:12 +137 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests SQL Injection Prevention sanitizes user input in queries                              00:12 +138 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests SQL Injection Prevention sanitizes user input in queries                              00:12 +138 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Memory Security passwords are not retained in memory                                  00:12 +139 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Memory Security passwords are not retained in memory                                  00:12 +139 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Audit Logging logs all encryption operations                                          00:12 +140 ~1: /Users/onronder/duru-notes/test/security/encryption_security_test.dart: Encryption Security Tests Audit Logging logs all encryption operations                                          00:12 +140 ~1: loading /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart                                                                                      00:12 +140 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (setUpAll)                                                                                  00:12 +140 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (setUpAll)                                                                                  
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:12 +140 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +140 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +141 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +142 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +143 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +144 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +145 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +146 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +147 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +148 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +149 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +150 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +151 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +152 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +153 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: ... authorization createTimeReminder stores user and schedules notification                 00:13 +153 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization createTimeReminder returns null when unauthenticated  00:13 +154 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization createTimeReminder returns null when unauthenticated  00:13 +154 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization deleteReminder ignores reminders owned by other users 00:13 +155 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization deleteReminder ignores reminders owned by other users 00:13 +155 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:13 +155 ~1: /Users/onronder/duru-notes/test/phase3_sync_system_integrity_test.dart: Phase 3: Sync System Integrity DomainTaskController delegates creation to EnhancedTaskService                   
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-123 title="Write tests" due=2025-01-01T00:00:00.000 priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 1ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 5ms (task task-001)
[DomainTaskController] task created id=task-001 note=note-123
00:13 +156 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:13 +157 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:13 +158 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:13 +159 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: AdvancedReminderService authorization snoozeReminder prevents cross-user snooze mutations   00:13 +159 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (tearDownAll)                                                                               00:14 +159 ~1: /Users/onronder/duru-notes/test/security/advanced_reminder_service_authorization_test.dart: (tearDownAll)                                                                               00:14 +159 ~1: loading /Users/onronder/duru-notes/test/security/authorization_service_test.dart                                                                                                        00:14 +159 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns user ID when user is authenticated                                 00:14 +160 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns user ID when user is authenticated                                 00:14 +160 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns null when no user is authenticated                                 00:14 +161 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService currentUserId returns null when no user is authenticated                                 00:14 +161 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns true when user is authenticated                                  00:14 +162 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns true when user is authenticated                                  00:14 +162 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns false when no user is authenticated                              00:14 +163 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isAuthenticated returns false when no user is authenticated                              00:14 +163 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser returns user ID when user is authenticated                      00:14 +164 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser returns user ID when user is authenticated                      00:14 +164 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser throws AuthorizationException when no user is authenticated     00:14 +165 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser throws AuthorizationException when no user is authenticated     00:14 +165 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser logs security warning when authentication fails                 00:14 +166 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser logs security warning when authentication fails                 00:14 +166 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser includes context in exception when provided                     00:14 +167 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService requireAuthenticatedUser includes context in exception when provided                     00:14 +167 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership allows access when user owns the resource                                00:14 +168 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership allows access when user owns the resource                                00:14 +168 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when user does not own resource            00:14 +169 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when user does not own resource            00:14 +169 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when no user is authenticated              00:14 +170 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws AuthorizationException when no user is authenticated              00:14 +170 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership logs security audit trail for denied access                              00:14 +171 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership logs security audit trail for denied access                              00:14 +171 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership includes resource type in exception                                      00:14 +172 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership includes resource type in exception                                      00:14 +172 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws when resourceUserId is null                                       00:14 +173 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership throws when resourceUserId is null                                       00:14 +173 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership supports custom operation in error messages                              00:14 +174 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyOwnership supports custom operation in error messages                              00:14 +174 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns true when user owns the resource                                         00:14 +175 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns true when user owns the resource                                         00:14 +175 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns false when user does not own resource                                    00:14 +176 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns false when user does not own resource                                    00:14 +176 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns false when no user is authenticated                                      00:14 +177 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns false when no user is authenticated                                      00:14 +177 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns false when resourceUserId is null                                        00:14 +178 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService isOwner returns false when resourceUserId is null                                        00:14 +178 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership allows access when user owns all resources                          00:14 +179 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership allows access when user owns all resources                          00:14 +179 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership throws on first unauthorized resource                               00:14 +180 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership throws on first unauthorized resource                               00:14 +180 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership throws when any resource has null userId                            00:14 +181 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership throws when any resource has null userId                            00:14 +181 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership handles empty resource list                                         00:14 +182 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership handles empty resource list                                         00:14 +182 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership supports custom operation in error messages                         00:14 +183 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership supports custom operation in error messages                         00:14 +183 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership logs security warning for batch failures                            00:14 +184 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService verifyBatchOwnership logs security warning for batch failures                            00:14 +184 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases prevents timing attacks by consistent execution time                 00:14 +185 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases prevents timing attacks by consistent execution time                 00:14 +185 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases handles concurrent authorization checks safely                       00:14 +186 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases handles concurrent authorization checks safely                       00:14 +186 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases maintains security under rapid-fire authentication state changes     00:14 +187 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases maintains security under rapid-fire authentication state changes     00:15 +187 ~1: /Users/onronder/duru-notes/test/security/authorization_service_test.dart: AuthorizationService Security Edge Cases maintains security under rapid-fire authentication state changes     00:15 +187 ~1: loading /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart                                                                                                  00:15 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              00:15 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (setUpAll)                                                                                              
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:15 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:15 +187 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         
⚠️ Failed to decrypt content for task task-1: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
⚠️ Failed to decrypt content for task task-1: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:15 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder links task for current user                         00:15 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:15 +188 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    
⚠️ Failed to decrypt content for task task-unauth: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
⚠️ Failed to decrypt content for task task-unauth: type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'
00:15 +189 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization createTaskReminder logs denial when unauthenticated                    00:15 +189 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:16 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization cancelTaskReminder skips link removal when user cannot be resolved     00:16 +190 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:16 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: TaskReminderBridge authorization snoozeTaskReminder prevents cross-user reminder access                 00:16 +191 ~1: /Users/onronder/duru-notes/test/security/task_reminder_authorization_test.dart: (tearDownAll)                                                                                           00:16 +191 ~1: loading /Users/onronder/duru-notes/test/security/notes_repository_authorization_simple_test.dart                                                                                        00:17 +191 ~1: loading /Users/onronder/duru-notes/test/security/notes_repository_authorization_simple_test.dart                                                                                        00:17 +191 ~1: loading /Users/onronder/duru-notes/test/security/task_repository_authorization_test.dart                                                                                                00:18 +191 ~1: loading /Users/onronder/duru-notes/test/security/task_repository_authorization_test.dart                                                                                                00:18 +191 ~1: loading /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart                                                                                            00:18 +191 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:18 +192 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getAllTemplates returns system + user templates only         00:18 +192 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getTemplateById hides other users templates                  00:18 +193 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization getTemplateById hides other users templates                  00:18 +193 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate associates template with current user         00:18 +194 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate associates template with current user         00:18 +194 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate throws when user not authenticated            00:18 +195 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization createTemplate throws when user not authenticated            00:18 +195 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization updateTemplate rejects updates from non-owner                00:18 +196 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization updateTemplate rejects updates from non-owner                00:18 +196 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization deleteTemplate removes template for owner only               00:18 +197 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization deleteTemplate removes template for owner only               00:18 +197 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate creates note for owning user                   00:18 +198 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate creates note for owning user                   00:18 +198 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate rejects access for non-owner                   00:18 +199 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate rejects access for non-owner                   00:19 +199 ~1: /Users/onronder/duru-notes/test/security/template_repository_authorization_test.dart: TemplateCoreRepository authorization applyTemplate rejects access for non-owner                   00:19 +199 ~1: loading /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart                                                                                                 00:19 +199 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts returns empty when user not authenticated               00:19 +200 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts returns empty when user not authenticated               00:19 +200 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +200 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       
[NotesCoreRepository] createOrUpdate noteId=0aaaee1f-2520-4569-8777-0a5c8b5fefff isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=0aaaee1f-2520-4569-8777-0a5c8b5fefff folder=null tagCount=0 traceId=none
00:19 +201 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization addTag only persists for owning user                                       00:19 +201 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:19 +201 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                
[NotesCoreRepository] createOrUpdate noteId=5d30bc1f-14a9-46e3-9311-3873b9a9e8d3 isUpdate=false titleLen=5 bodyLen=10 traceId=none
[NotesCoreRepository] note persisted noteId=5d30bc1f-14a9-46e3-9311-3873b9a9e8d3 folder=null tagCount=0 traceId=none
00:19 +202 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization removeTag ignores requests from other users                                00:19 +202 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               00:19 +202 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               
[NotesCoreRepository] createOrUpdate noteId=2291ff98-cc4b-4797-844f-5868c7daaa32 isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=2291ff98-cc4b-4797-844f-5868c7daaa32 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=2d107fec-6be5-422e-8faf-7be799f5131b isUpdate=false titleLen=6 bodyLen=11 traceId=none
[NotesCoreRepository] note persisted noteId=2d107fec-6be5-422e-8faf-7be799f5131b folder=null tagCount=0 traceId=none
00:19 +203 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization listTagsWithCounts isolates results per user                               00:19 +203 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   00:19 +203 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   
[NotesCoreRepository] createOrUpdate noteId=5ee86ef7-5623-48a9-84e4-7c053eb5e24d isUpdate=false titleLen=11 bodyLen=16 traceId=none
[NotesCoreRepository] note persisted noteId=5ee86ef7-5623-48a9-84e4-7c053eb5e24d folder=null tagCount=0 traceId=none
00:19 +204 ~1: /Users/onronder/duru-notes/test/security/tag_repository_authorization_test.dart: TagRepository authorization getTagsForNote only returns tags for authenticated owner                   00:19 +204 ~1: loading /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart                                                                                               00:19 +204 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate returns null when user not authenticated            00:19 +204 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: (setUpAll)                                                                                          
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:19 +204 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate returns null when user not authenticated            00:19 +204 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: (setUpAll)                                                                                       
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:19 +204 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate returns null when user not authenticated            00:19 +205 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: ... saved search isolation createOrUpdateSavedSearch updates owned record and enqueues sync         00:20 +205 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        
[NotesCoreRepository] createOrUpdate noteId=6590eee7-ac60-40e4-af06-71da3416e551 isUpdate=false titleLen=11 bodyLen=15 traceId=none
00:20 +206 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +206 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization createOrUpdate stores note for current user                        
[NotesCoreRepository] note persisted noteId=6590eee7-ac60-40e4-af06-71da3416e551 folder=null tagCount=0 traceId=none
00:20 +207 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +207 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization getNoteById returns null when note belongs to another user         
[NotesCoreRepository] createOrUpdate noteId=9978fab5-9114-4738-a8cf-540d92b9c83e isUpdate=false titleLen=5 bodyLen=4 traceId=none
00:20 +208 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +208 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization getNoteById returns null when note belongs to another user         
[NotesCoreRepository] note persisted noteId=9978fab5-9114-4738-a8cf-540d92b9c83e folder=null tagCount=0 traceId=none
00:20 +209 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +210 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +210 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization localNotes returns only notes for current user                     
[NotesCoreRepository] createOrUpdate noteId=836511f8-f8c0-44bb-a012-bd74df1199e6 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=836511f8-f8c0-44bb-a012-bd74df1199e6 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=72441328-a3f5-4112-8363-f2e38091f211 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=72441328-a3f5-4112-8363-f2e38091f211 folder=null tagCount=0 traceId=none
00:20 +211 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +212 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +213 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +213 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization updateLocalNote ignores updates from non-owners                    
[NotesCoreRepository] createOrUpdate noteId=adf99ee4-c70e-417d-b97f-c6441800fb92 isUpdate=false titleLen=13 bodyLen=4 traceId=none
00:20 +214 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +214 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization updateLocalNote ignores updates from non-owners                    
[NotesCoreRepository] note persisted noteId=adf99ee4-c70e-417d-b97f-c6441800fb92 folder=null tagCount=0 traceId=none
00:20 +215 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +216 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +217 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs success for authenticated user         00:20 +217 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization deleteNote only marks note deleted for owner                       
[NotesCoreRepository] createOrUpdate noteId=af4e562e-85de-44a7-985e-dbb9fdd8f7bb isUpdate=false titleLen=9 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=af4e562e-85de-44a7-985e-dbb9fdd8f7bb folder=null tagCount=0 traceId=none
00:20 +218 ~1: /Users/onronder/duru-notes/test/security/notes_repository_authorization_test.dart: NotesCoreRepository authorization deleteNote only marks note deleted for owner                       00:20 +219 ~1: /Users/onronder/duru-notes/test/security/search_repository_authorization_test.dart: SearchRepository saved search isolation watchSavedSearches streams user-scoped updates              00:20 +220 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs denial when unauthenticated            00:20 +221 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging createTimeReminder logs denial when unauthenticated            00:20 +221 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:20 +222 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ... audit logging cancelReminder logs not_found when reminder belongs to another user            00:20 +222 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging processDueReminders logs denial when unauthenticated           00:20 +223 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: ReminderCoordinator audit logging processDueReminders logs denial when unauthenticated           00:20 +223 ~1: /Users/onronder/duru-notes/test/security/reminder_coordinator_authorization_test.dart: (tearDownAll)                                                                                    00:20 +223 ~1: loading /Users/onronder/duru-notes/test/security/critical_security_test.dart                                                                                                            00:20 +223 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (setUpAll)                                                                                                        00:20 +223 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (setUpAll)                                                                                                        
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:20 +223 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:21 +223 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:21 +223 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   
✅ ProperEncryptionService initialized successfully
00:21 +224 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should properly encrypt sensitive data                                   00:21 +224 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should decrypt encrypted data correctly                                  00:21 +225 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should decrypt encrypted data correctly                                  00:21 +225 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should detect unencrypted data                                           00:21 +226 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should detect unencrypted data                                           00:21 +226 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should handle key rotation                                               00:21 +226 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should handle key rotation                                               
✅ Key rotation completed successfully
00:21 +227 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Encryption Tests should handle key rotation                                               00:21 +227 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should detect SQL injection attempts                               00:21 +228 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should detect SQL injection attempts                               00:21 +228 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should detect XSS attempts                                         00:21 +229 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should detect XSS attempts                                         00:21 +229 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should detect path traversal attempts                              00:21 +230 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should detect path traversal attempts                              00:21 +230 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should validate email addresses correctly                          00:21 +231 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should validate email addresses correctly                          00:21 +231 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should sanitize HTML content                                       00:21 +232 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Input Validation Tests should sanitize HTML content                                       00:21 +232 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should enforce rate limiting on failed login attempts       00:21 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should enforce rate limiting on failed login attempts       00:21 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +233 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        
Auth retry attempt 1 after 1s delay
00:21 +234 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +235 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +236 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +237 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:21 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +238 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +239 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +239 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _WorkflowHarness.buildRepository (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:82:12)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:113:30)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:22 +240 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +241 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +242 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +243 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +244 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +244 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
[NotesCoreRepository] createOrUpdate noteId=note-workflow isUpdate=false titleLen=13 bodyLen=22 traceId=none
00:22 +245 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +246 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +247 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +248 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +248 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
[NotesCoreRepository] note persisted noteId=note-workflow folder=folder-default tagCount=2 traceId=none
[NotesCoreRepository] createOrUpdate noteId=note-workflow isUpdate=true titleLen=13 bodyLen=12 traceId=none
[NotesCoreRepository] note persisted noteId=note-workflow folder=null tagCount=2 traceId=none
00:22 +248 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +248 ~1: /Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart: Integration: Notes full workflow User can create, update, pin, move, and delete notes end-to-end             
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _WorkflowHarness.buildRepository (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:82:12)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/integration/notes_full_workflow_test.dart:216:35)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:22 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:22 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        
Auth retry attempt 2 after 2s delay
00:23 +249 ~1: /Users/onronder/duru-notes/test/integration/soft_delete_integration_test.dart: (setUpAll)                                                                                               
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:23 +249 ~1: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +249 ~2: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +249 ~3: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +249 ~4: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +249 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +250 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +251 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +252 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +253 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +254 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +255 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:23 +256 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +256 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +257 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +258 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +259 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +260 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +261 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +262 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +262 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: (setUpAll)                                                                                        
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:24 +262 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +262 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Core Domain Provider notesCoreRepositoryProvider returns repository instance
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:271:27)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:270:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +263 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +263 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Core Domain Provider notesCoreRepositoryProvider survives auth state invalidation
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:282:21)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:279:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +264 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +264 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Search Provider searchServiceProvider instantiates successfully
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     searchServiceProvider.<anonymous closure> (package:duru_notes/features/search/providers/search_providers.dart:50:20)
#15     Provider._create (package:riverpod/src/provider/base.dart:59:57)
#16     ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#17     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#18     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#19     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#20     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#21     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#22     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#23     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#24     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#25     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:289:35)
#26     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#27     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#28     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +265 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +266 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +266 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Folder Integration Providers unfiledNotesCountProvider resolves with empty result
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     unfiledNotesCountProvider.<anonymous closure> (package:duru_notes/features/folders/providers/folders_integration_providers.dart:73:20)
#15     AutoDisposeFutureProvider._create (package:riverpod/src/future_provider/auto_dispose.dart:46:16)
#16     FutureProviderElement.create.<anonymous closure> (package:riverpod/src/future_provider/base.dart:117:22)
#17     FutureHandlerProviderElementMixin.handleFuture.<anonymous closure> (package:riverpod/src/async_notifier/base.dart:341:30)
#18     FutureHandlerProviderElementMixin._handleAsync (package:riverpod/src/async_notifier/base.dart:388:47)
#19     FutureHandlerProviderElementMixin.handleFuture (package:riverpod/src/async_notifier/base.dart:335:5)
#20     FutureProviderElement.create (package:riverpod/src/future_provider/base.dart:116:5)
#21     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#22     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#23     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#24     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#25     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#26     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#27     ProviderElementProxy.read (package:riverpod/src/framework/proxy_provider_listenable.dart:134:26)
#28     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#29     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:301:39)
#30     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#31     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#32     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +267 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +268 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +268 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Notes Pagination Providers filteredNotesProvider returns empty list by default
[filteredNotesProvider] Security not initialized, returning empty
00:24 +269 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +269 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Notes Pagination Providers currentNotesProvider returns empty list with no data
[notesPageProvider] Security not initialized, returning empty notifier
00:24 +270 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +270 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Sync Providers syncModeProvider exposes current mode without errors
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:256:30)
#15     AutoDisposeStateNotifierProvider._create (package:riverpod/src/state_notifier_provider/auto_dispose.dart:48:21)
#16     StateNotifierProviderElement.create.<anonymous closure> (package:riverpod/src/state_notifier_provider/base.dart:172:64)
#17     Result.guard (package:riverpod/src/result.dart:21:28)
#18     StateNotifierProviderElement.create (package:riverpod/src/state_notifier_provider/base.dart:172:43)
#19     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#20     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#21     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#22     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#23     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#24     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#25     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#26     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#27     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:329:32)
#28     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#29     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#30     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +271 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +272 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +273 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +274 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +274 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Auth State Transitions providers handle repeated invalidation gracefully
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase._performBuild (package:riverpod/src/framework/element.dart:363:5)
#8      ProviderElementBase.flush (package:riverpod/src/framework/element.dart:324:7)
#9      ProviderBase.read (package:riverpod/src/framework/provider_base.dart:107:13)
#10     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#11     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:363:23)
#12     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#13     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#14     _expect (package:matcher/src/expect/expect.dart:138:30)
#15     expect (package:matcher/src/expect/expect.dart:56:3)
#16     expect (package:flutter_test/src/widget_tester.dart:473:18)
#17     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:360:11)
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +275 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +275 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Auth State Transitions dependent providers rebuild without throwing
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:371:21)
#15     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#16     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#17     _expect (package:matcher/src/expect/expect.dart:138:30)
#18     expect (package:matcher/src/expect/expect.dart:56:3)
#19     expect (package:flutter_test/src/widget_tester.dart:473:18)
#20     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:369:9)
#21     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#22     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#23     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +276 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +277 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +277 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Notes Repository Auth Regression Tests Performance & Memory providers tolerate repeated invalidation cycles
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:238:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     searchServiceProvider.<anonymous closure> (package:duru_notes/features/search/providers/search_providers.dart:50:20)
#15     Provider._create (package:riverpod/src/provider/base.dart:59:57)
#16     ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#17     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#18     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#19     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#20     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#21     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#22     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#23     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#24     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#25     main.<anonymous closure>.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:389:23)
#26     _ReturnsNormally.typedMatches (package:matcher/src/core_matchers.dart:153:8)
#27     FeatureMatcher.matches (package:matcher/src/feature_matcher.dart:16:42)
#28     _expect (package:matcher/src/expect/expect.dart:138:30)
#29     expect (package:matcher/src/expect/expect.dart:56:3)
#30     expect (package:flutter_test/src/widget_tester.dart:473:18)
#31     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:387:11)
#32     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#33     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#34     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +278 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +278 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers notesCoreRepositoryProvider returns user-scoped notes                         
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:436:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#11     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#12     ProviderBase.read (package:riverpod/src/framework/provider_base.dart:105:26)
#13     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#14     main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:486:36)
#15     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#16     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#17     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +279 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +279 ~5: /Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart: Signed-in providers unfiledNotesCountProvider reports count for authenticated user                
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:436:20)
#4      Provider._create (package:riverpod/src/provider/base.dart:59:57)
#5      ProviderElement.create (package:riverpod/src/provider/base.dart:345:23)
#6      ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#7      ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#8      _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#9      _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#10     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:479:19)
#11     ProviderElementBase._debugAssertCanDependOn.<anonymous closure> (package:riverpod/src/framework/element.dart:624:42)
#12     ProviderElementBase._debugAssertCanDependOn (package:riverpod/src/framework/element.dart:667:8)
#13     ProviderElementBase.watch (package:riverpod/src/framework/element.dart:714:12)
#14     unfiledNotesCountProvider.<anonymous closure> (package:duru_notes/features/folders/providers/folders_integration_providers.dart:73:20)
#15     AutoDisposeFutureProvider._create (package:riverpod/src/future_provider/auto_dispose.dart:46:16)
#16     FutureProviderElement.create.<anonymous closure> (package:riverpod/src/future_provider/base.dart:117:22)
#17     FutureHandlerProviderElementMixin.handleFuture.<anonymous closure> (package:riverpod/src/async_notifier/base.dart:341:30)
#18     FutureHandlerProviderElementMixin._handleAsync (package:riverpod/src/async_notifier/base.dart:388:47)
#19     FutureHandlerProviderElementMixin.handleFuture (package:riverpod/src/async_notifier/base.dart:335:5)
#20     FutureProviderElement.create (package:riverpod/src/future_provider/base.dart:116:5)
#21     ProviderElementBase.buildState (package:riverpod/src/framework/element.dart:426:7)
#22     ProviderElementBase.mount (package:riverpod/src/framework/element.dart:228:5)
#23     _StateReader._create (package:riverpod/src/framework/container.dart:47:11)
#24     _StateReader.getElement (package:riverpod/src/framework/container.dart:35:52)
#25     ProviderContainer.readProviderElement.<anonymous closure> (package:riverpod/src/framework/container.dart:440:40)
#26     ProviderContainer.readProviderElement (package:riverpod/src/framework/container.dart:475:8)
#27     ProviderElementProxy.read (package:riverpod/src/framework/proxy_provider_listenable.dart:134:26)
#28     ProviderContainer.read (package:riverpod/src/framework/container.dart:241:21)
#29     main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/providers/notes_repository_auth_regression_test.dart:495:45)
#30     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#31     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#32     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:24 +280 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +281 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:24 +282 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +282 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +283 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +284 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +285 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Authentication Security Tests should implement exponential backoff                        00:25 +285 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should validate user permissions for data access              00:25 +286 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should validate user permissions for data access              00:25 +286 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should enforce Row Level Security                             00:25 +287 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Permission Validation Tests should enforce Row Level Security                             00:25 +287 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           00:25 +287 ~5: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           
  Skip: SecurityMonitor requires complex initialization
00:25 +287 ~6: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should detect and log security events                           00:25 +287 ~6: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              00:25 +287 ~6: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              
  Skip: SecurityMonitor requires complex initialization
00:25 +287 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Security Monitoring Tests should track encryption operations                              00:25 +287 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should not return results for unauthorized users                    00:25 +288 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should not return results for unauthorized users                    00:25 +288 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should sanitize search queries                                      00:25 +289 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Search Security Tests should sanitize search queries                                      00:25 +289 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should encrypt legacy unencrypted data                      00:25 +290 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should encrypt legacy unencrypted data                      00:25 +290 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should verify all data is encrypted after migration         00:25 +291 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: Critical Security Tests Data Migration Security Tests should verify all data is encrypted after migration         00:25 +291 ~7: /Users/onronder/duru-notes/test/security/critical_security_test.dart: (tearDownAll)                                                                                                     00:25 +291 ~7: loading /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart                                                                                                              00:25 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      00:25 +291 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:104:28)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:25 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Unauthenticated repository cannot mutate or observe user data                      00:25 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        00:25 +292 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:144:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:151:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:25 +293 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository only mutates data for its own user                        00:25 +293 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              00:25 +293 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:192:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart:199:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:25 +294 ~7: /Users/onronder/duru-notes/test/critical/rls_enforcement_test.dart: CRITICAL: RLS enforcement guards Authenticated repository cannot access other users tasks or reminders              00:25 +294 ~7: loading /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart                                                                                                        00:25 +294 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        00:25 +294 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:25 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) User B should NOT see User A notes after database clear        00:25 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   00:26 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   00:26 +295 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:26 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) All tables cleared on logout                                   00:26 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       00:26 +296 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:26 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Rapid user switching maintains isolation                       00:26 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:26 +297 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     
Created 1000 notes in 151ms
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
Cleared 1000 notes in 5ms
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:26 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) Performance: clearAll() with large dataset                     00:26 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  00:26 +298 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:26 +299 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_simple_test.dart: 🚨 CRITICAL: User Isolation Tests (Simplified) No cross-contamination with mixed userId data                  00:26 +299 ~7: loading /Users/onronder/duru-notes/test/critical/user_isolation_test.dart                                                                                                               00:26 +299 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) getAllTasks returns tasks only for the requesting user                  00:26 +299 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:119:28)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:26 +300 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:26 +301 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:26 +302 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:26 +303 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:26 +304 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:26 +304 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               
[NotesCoreRepository] createOrUpdate noteId=a4095b0f-101c-433d-90ad-7f362c486c18 isUpdate=false titleLen=5 bodyLen=5 traceId=none
00:26 +304 ~7: /Users/onronder/duru-notes/test/critical/user_isolation_test.dart: 🚨 CRITICAL: User Isolation (Database Layer) clearAll purges every user-scoped table                                 
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:26 +305 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:27 +305 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               00:27 +305 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate assigns userId to note                                               
[NotesCoreRepository] note persisted noteId=a4095b0f-101c-433d-90ad-7f362c486c18 folder=null tagCount=1 traceId=none
00:27 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             00:27 +306 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate without authenticated user is rejected                               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:135:28)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:27 +306 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll purges every table and FTS index                                             
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:27 +307 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation createOrUpdate without authenticated user is rejected                               00:27 +308 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   00:27 +308 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:148:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:149:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:27 +308 ~7: /Users/onronder/duru-notes/test/critical/database_clearing_test.dart: CRITICAL: Database clearing clearAll is idempotent on an already empty database                                   
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
[AppDb] ✅ All 12 tables + FTS cleared - complete database reset for user switch
00:27 +309 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        00:27 +309 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        
[NotesCoreRepository] createOrUpdate noteId=58ac15f5-8176-4957-a275-414c93efd586 isUpdate=false titleLen=8 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=58ac15f5-8176-4957-a275-414c93efd586 folder=null tagCount=0 traceId=none
00:27 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user update is ignored                                                        00:27 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        00:27 +310 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:172:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      _RepoHarness.buildRepo (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:91:52)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/user_id_validation_test.dart:173:33)
#5      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:19)
<asynchronous suspension>
#6      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#7      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=0ec6f059-2548-4639-abf0-28c674d61cba isUpdate=false titleLen=9 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=0ec6f059-2548-4639-abf0-28c674d61cba folder=null tagCount=0 traceId=none
00:27 +311 ~7: /Users/onronder/duru-notes/test/critical/user_id_validation_test.dart: CRITICAL: User ID validation Cross-user delete is ignored                                                        00:27 +311 ~7: loading /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart                                                                                               00:27 +311 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:27 +311 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: CRITICAL: Database isolation integration NotesCoreRepository returns data scoped to authenticated user
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:86:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:93:27)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:27 +312 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns data scoped to authenticated user     00:27 +312 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns empty results when unauthenticated    00:27 +312 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: CRITICAL: Database isolation integration NotesCoreRepository returns empty results when unauthenticated
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart:138:22)
<asynchronous suspension>
#4      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:242:9)
<asynchronous suspension>
#5      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#6      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:28 +313 ~7: /Users/onronder/duru-notes/test/critical/database_isolation_integration_test.dart: ... Database isolation integration NotesCoreRepository returns empty results when unauthenticated    00:28 +313 ~7: loading /Users/onronder/duru-notes/test/phase3_migration_validation_test.dart                                                                                                           00:28 +313 ~7: loading /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart                                                                                                         00:28 +313 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:29 +313 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:29 +314 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity provisionAmkForUser stores AMK locally even if remote upsert fails              00:29 +314 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity unlockAmkWithPassphrase succeeds when AMK cached locally                        00:29 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity unlockAmkWithPassphrase succeeds when AMK cached locally                        00:29 +315 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:29 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:30 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:31 +316 ~7: /Users/onronder/duru-notes/test/critical/encryption_integrity_test.dart: CRITICAL: Encryption integrity clearLocalAmk removes stored key and metadata                                   00:31 +316 ~7: loading /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart                                                                                                         00:31 +316 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects not-setup state                                                                00:31 +317 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects not-setup state                                                                00:31 +317 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects locked state                                                                   00:31 +318 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier detects locked state                                                                   00:31 +318 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier unlocks with correct password                                                          00:31 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier unlocks with correct password                                                          00:31 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 00:31 +319 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 
[EncryptionState] Unlock failed: Exception: Invalid password - decryption failed
00:31 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionStateNotifier rejects wrong password                                                                 00:31 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:32 +320 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:32 +320 ~7: /Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart: Notes pagination regression refresh only loads a single page                                            
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _CountingNotesRepository (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart)
#4      new _PaginationHarness (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:158:18)
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:232:17)
#6      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#7      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#8      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#9      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#10     StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#11     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#12     _rootRunUnary (dart:async/zone.dart:1538:47)
#13     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#14     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#15     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#16     Future.doWhile (dart:async/future.dart:727:18)
#17     Future.forEach (dart:async/future.dart:651:12)
#18     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#20     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#21     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:32 +321 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:32 +322 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:32 +323 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:32 +324 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:32 +324 ~7: /Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart: Notes pagination regression loadMore avoids duplicate fetches when called concurrently                  
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _CountingNotesRepository (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart)
#4      new _PaginationHarness (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:158:18)
#5      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/features/notes/pagination_regression_test.dart:232:17)
#6      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#7      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#8      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#9      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#10     StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#11     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#12     _rootRunUnary (dart:async/zone.dart:1538:47)
#13     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#14     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#15     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#16     Future.doWhile (dart:async/future.dart:727:18)
#17     Future.forEach (dart:async/future.dart:651:12)
#18     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#20     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#21     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:32 +325 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:33 +325 ~7: /Users/onronder/duru-notes/test/features/auth/encryption_flow_test.dart: EncryptionSetupDialog enforces relaxed password policy                                                         00:33 +326 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:33 +327 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:33 +328 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:33 +329 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip stays hidden when incoming mail folder is missing                                              00:33 +329 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip hidden when inbox empty and filter inactive                                                    00:33 +330 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip hidden when inbox empty and filter inactive                                                    00:33 +330 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:34 +330 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:34 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip shows count when inbox has notes                                                               00:34 +331 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:34 +332 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip toggles filter on tap                                                                          00:34 +332 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:34 +333 ~7: /Users/onronder/duru-notes/test/features/folders/inbox_preset_chip_test.dart: Inbox chip remains visible when active with zero items                                                    00:34 +333 ~7: loading /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart                                                                                                  00:34 +333 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService addDeleteOperation enqueues operation with metadata                                   00:34 +334 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService addDeleteOperation enqueues operation with metadata                                   00:34 +334 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores deleted folder and children                                    00:34 +335 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores deleted folder and children                                    00:34 +335 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores previous parent for move                                       00:34 +336 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores previous parent for move                                       00:34 +336 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores original folder name after rename                              00:34 +337 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService undoOperation restores original folder name after rename                              00:34 +337 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:34 +338 ~7: /Users/onronder/duru-notes/test/features/folders/folder_undo_service_test.dart: FolderUndoService history stream emits updates when operations change                                   00:34 +338 ~7: loading /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart                                                                                                00:34 +338 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:35 +338 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:35 +339 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows All Notes chip by default                                                                       00:35 +339 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +340 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +341 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +342 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +343 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +344 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +345 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +346 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:35 +347 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:36 +348 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles a single note via drag-and-drop                                                               00:36 +348 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles batch of notes via drag-and-drop                                                              00:36 +349 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: unfiles batch of notes via drag-and-drop                                                              00:36 +349 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:36 +350 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:37 +350 ~7: /Users/onronder/duru-notes/test/features/folders/all_notes_drop_target_test.dart: shows hover affordance while dragging over All Notes                                                  00:37 +350 ~7: loading /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart                                                                                                              00:37 +350 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when timestamps are identical                               00:37 +351 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when timestamps are identical                               00:37 +351 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is exactly 1 second                         00:37 +352 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is exactly 1 second                         00:37 +352 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is less than 1 second                       00:37 +353 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios returns createdAt when difference is less than 1 second                       00:37 +353 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios handles updatedAt before createdAt (clock skew)                               00:37 +354 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Never Edited Scenarios handles updatedAt before createdAt (clock skew)                               00:37 +354 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited 2 seconds later                              00:37 +355 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited 2 seconds later                              00:37 +355 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited minutes later                                00:37 +356 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited minutes later                                00:37 +356 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited hours later                                  00:37 +357 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited hours later                                  00:37 +357 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited days later                                   00:37 +358 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited days later                                   00:37 +358 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited months later                                 00:37 +359 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited months later                                 00:37 +359 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited years later                                  00:37 +360 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Has Been Edited Scenarios returns updatedAt when edited years later                                  00:37 +360 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles UTC timestamps correctly                                                          00:37 +361 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles UTC timestamps correctly                                                          00:37 +361 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles local timestamps correctly                                                        00:37 +362 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles local timestamps correctly                                                        00:37 +362 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles mixed UTC and local timestamps                                                    00:37 +363 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles mixed UTC and local timestamps                                                    00:37 +363 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles very old dates                                                                    00:37 +364 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles very old dates                                                                    00:37 +364 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles far future dates                                                                  00:37 +365 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles far future dates                                                                  00:37 +365 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with milliseconds precision                                                 00:37 +366 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with milliseconds precision                                                 00:37 +366 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with microseconds precision                                                 00:37 +367 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Edge Cases handles dates with microseconds precision                                                 00:37 +367 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created and never edited shows creation date                               00:37 +368 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created and never edited shows creation date                               00:37 +368 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created then edited immediately shows update date                          00:37 +369 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created then edited immediately shows update date                          00:37 +369 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created today, edited yesterday shows edit date                            00:37 +370 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios note created today, edited yesterday shows edit date                            00:37 +370 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles sync operation with minimal time drift                                  00:37 +371 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles sync operation with minimal time drift                                  00:37 +371 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles bulk import with same timestamp                                         00:37 +372 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Real-World Scenarios handles bulk import with same timestamp                                         00:37 +372 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios timestamps persist correctly across devices                                   00:37 +373 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios timestamps persist correctly across devices                                   00:37 +373 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios edit on one device shows correctly on other device                            00:37 +374 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate Cross-Device Scenarios edit on one device shows correctly on other device                            00:37 +374 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios dates persist after app reinstall                                            00:37 +375 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios dates persist after app reinstall                                            00:37 +375 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios edited note shows correct date after reinstall                               00:37 +376 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getDisplayDate App Reinstall Scenarios edited note shows correct date after reinstall                               00:37 +376 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses standard logic when both timestamps present                                                 00:37 +377 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses standard logic when both timestamps present                                                 00:37 +377 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses updatedAt when createdAt is null                                                            00:37 +378 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses updatedAt when createdAt is null                                                            00:37 +378 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses createdAt when updatedAt is null                                                            00:37 +379 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses createdAt when updatedAt is null                                                            00:37 +379 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses current time when both are null                                                             00:37 +380 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate uses current time when both are null                                                             00:37 +380 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate prefers standard logic over fallback when both present                                           00:37 +381 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate prefers standard logic over fallback when both present                                           00:37 +381 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate handles both null gracefully without throwing                                                    00:37 +382 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: getSafeDisplayDate handles both null gracefully without throwing                                                    00:37 +382 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with mock Note object                                                               00:37 +383 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with mock Note object                                                               00:37 +383 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with edited mock Note object                                                        00:37 +384 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension works with edited mock Note object                                                        00:37 +384 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension handles objects without proper fields gracefully                                          00:37 +385 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension handles objects without proper fields gracefully                                          00:38 +385 ~7: /Users/onronder/duru-notes/test/utils/date_display_utils_test.dart: NoteDisplayDate Extension handles objects without proper fields gracefully                                          00:38 +385 ~7: loading /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart                                                                                                                  00:38 +385 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should be singleton                                                     00:38 +386 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should be singleton                                                     00:38 +386 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should have all Phase 1 flags enabled in development                    00:38 +387 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should have all Phase 1 flags enabled in development                    00:38 +387 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should check flags using isEnabled method                               00:38 +388 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should check flags using isEnabled method                               00:38 +388 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should return false for non-existent flags                              00:38 +389 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Feature Flag System should return false for non-existent flags                              00:38 +389 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality should support overrides for individual flags                        00:38 +390 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality should support overrides for individual flags                        00:38 +390 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality should support multiple overrides                                    00:38 +391 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality should support multiple overrides                                    00:38 +391 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality should clear all overrides                                           00:38 +392 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality should clear all overrides                                           00:38 +392 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality overrides should take precedence over defaults                       00:38 +393 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Override Functionality overrides should take precedence over defaults                       00:38 +393 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Gradual Rollout Simulation should support gradual feature enablement                        00:38 +394 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Gradual Rollout Simulation should support gradual feature enablement                        00:38 +394 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Gradual Rollout Simulation should support rollback scenarios                                00:38 +395 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Gradual Rollout Simulation should support rollback scenarios                                00:38 +395 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Remote Config Placeholder updateFromRemoteConfig should not throw                           00:38 +396 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Remote Config Placeholder updateFromRemoteConfig should not throw                           00:38 +396 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Use Cases should enable A/B testing                                                         00:38 +397 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Use Cases should enable A/B testing                                                         00:38 +397 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Use Cases should support feature development workflow                                       00:38 +398 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Use Cases should support feature development workflow                                       00:38 +398 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Use Cases should support conditional feature loading                                        00:38 +399 ~7: /Users/onronder/duru-notes/test/phase1_feature_flags_test.dart: Phase 1 Feature Flags Tests Use Cases should support conditional feature loading                                        00:38 +399 ~7: loading /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart                                                                                                    00:38 +399 ~7: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                           00:38 +399 ~7: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns hydrated domain note when record exists                           
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +399 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-from-remote isUpdate=false titleLen=11 bodyLen=32 traceId=none
00:38 +400 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at         00:38 +400 ~7: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository getNoteById returns null for missing record                                           
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +400 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at
[NotesCoreRepository] note persisted noteId=note-from-remote folder=null tagCount=0 traceId=none
00:38 +401 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Sync download preserves remote created_at and updated_at         00:38 +402 ~7: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                        00:38 +402 ~7: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter orders pinned notes before others and respects limit                        
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +402 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=note-view-test isUpdate=false titleLen=14 bodyLen=13 traceId=none
[NotesCoreRepository] note persisted noteId=note-view-test folder=null tagCount=0 traceId=none
DEBUG: First create updated_at = 2025-10-27 13:00:00.000
DEBUG: Expected updated_at = 2025-10-27 10:00:00.000Z
[NotesCoreRepository] createOrUpdate noteId=note-view-test isUpdate=true titleLen=14 bodyLen=13 traceId=none
00:38 +403 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at           00:38 +403 ~7: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                                  
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +403 ~7: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at
[NotesCoreRepository] note persisted noteId=note-view-test folder=null tagCount=0 traceId=none
DEBUG: Second update updated_at = 2025-11-25 07:21:45.000
DEBUG: Expected (same) = 2025-10-27 10:00:00.000Z
DEBUG: Retrieved note updated_at = 2025-11-25 07:21:45.000
00:38 +404 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository listAfter respects cursor and excludes deleted notes                               00:38 +404 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    00:38 +404 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=a898d3b5-bdd0-40a3-85a1-179781f14197 isUpdate=false titleLen=9 bodyLen=8 traceId=none
[NotesCoreRepository] note persisted noteId=a898d3b5-bdd0-40a3-85a1-179781f14197 folder=null tagCount=0 traceId=none
00:38 +404 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at [E]
  Expected: <1761559200000>
    Actual: <1764044505000>
  Viewing/opening note should NOT change updated_at timestamp
  
  package:matcher                                           expect
  package:flutter_test/src/widget_tester.dart 473:18        expect
  test/repositories/timestamp_preservation_test.dart 268:9  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart -p vm --plain-name 'Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Update without timestamp preserves existing updated_at'
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate inserts new note when id missing                                    00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
⚠️ [SecureApiWrapper] Stack trace:
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
⚠️ [SecureApiWrapper] This indicates a race condition bug
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _FakeNotesRepositoryHarness (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:23:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart:163:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
[NotesCoreRepository] createOrUpdate noteId=existing isUpdate=true titleLen=13 bodyLen=12 traceId=none
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
[NotesCoreRepository] createOrUpdate noteId=old-note isUpdate=false titleLen=8 bodyLen=18 traceId=none
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/notes_core_repository_test.dart: NotesCoreRepository createOrUpdate updates existing record and retains encryption version              
[NotesCoreRepository] note persisted noteId=existing folder=null tagCount=0 traceId=none
00:38 +405 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
[NotesCoreRepository] note persisted noteId=old-note folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=recent-note isUpdate=false titleLen=11 bodyLen=13 traceId=none
00:38 +406 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:38 +406 ~7 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships
[NotesCoreRepository] note persisted noteId=recent-note folder=null tagCount=0 traceId=none
00:38 +406 ~7 -1: /Users/onronder/duru-notes/test/database_isolation_integration_test.dart: database isolation integration (legacy) placeholder                                                        
  Skip: Legacy database isolation integration – requires updated data builders (see TEST_STATUS.md)
00:38 +406 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:38 +407 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) CRITICAL: Fresh install preserves note age relationships    00:38 +407 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) User-created notes use current time (existing behavior)     00:38 +407 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) User-created notes use current time (existing behavior)
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=ef515978-97db-409c-9253-5ca01fe7b0c5 isUpdate=false titleLen=17 bodyLen=22 traceId=none
[NotesCoreRepository] note persisted noteId=ef515978-97db-409c-9253-5ca01fe7b0c5 folder=null tagCount=0 traceId=none
00:38 +408 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) User-created notes use current time (existing behavior)     00:38 +408 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at   00:38 +408 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _TestHarness (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:44:18)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart:153:17)
<asynchronous suspension>
#5      Future._kTrue (dart:async/future.dart:660:3)
<asynchronous suspension>
#6      _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:12)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:38 +409 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... for Production Bug) REGRESSION: updateLocalNote without explicit timestamp preserves updated_at   00:38 +409 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) Explicit timestamp override works for user edits            00:38 +409 ~8 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: Timestamp Preservation (Regression Tests for Production Bug) Explicit timestamp override works for user edits
  Skip: Test needs clarification on expected behavior for user edits
00:38 +409 ~9 -1: /Users/onronder/duru-notes/test/repositories/timestamp_preservation_test.dart: ... (Regression Tests for Production Bug) Explicit timestamp override works for user edits            00:38 +409 ~9 -1: loading /Users/onronder/duru-notes/test/widget_test.dart                                                                                                                             00:38 +409 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:38 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:39 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:40 +410 ~9 -1: /Users/onronder/duru-notes/test/widget_test.dart: placeholder                                                                                                                        00:40 +410 ~9 -1: loading /Users/onronder/duru-notes/test/search/unified_search_service_test.dart                                                                                                      00:40 +410 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search returns only current user notes and supports tag filters                                             00:40 +411 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search returns only current user notes and supports tag filters                                             00:40 +411 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search aggregates folder and template results without leaking other tenants                                 00:40 +412 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: search aggregates folder and template results without leaking other tenants                                 00:40 +412 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: task search scopes to notes owned by the current user                                                       00:40 +413 ~9 -1: /Users/onronder/duru-notes/test/search/unified_search_service_test.dart: task search scopes to notes owned by the current user                                                       00:40 +413 ~9 -1: loading /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart                                                                                                    00:40 +413 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:40 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services must not directly call AppDb delete methods                       00:40 +414 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:40 +415 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Services should use repository interfaces, not concrete implementations    00:40 +415 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Database layer hard-delete methods should be private                       00:40 +416 ~9 -1: /Users/onronder/duru-notes/test/architecture/repository_pattern_test.dart: Repository Pattern Enforcement Database layer hard-delete methods should be private                       00:40 +416 ~9 -1: loading /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart                                                                                                       00:40 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (setUpAll)                                                                         00:40 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:40 +416 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   

🔍 Starting Basic Pre-Deployment Validation...
============================================================
📊 Testing local database connectivity...
00:40 +417 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:40 +418 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:40 +418 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   
   Local Database           ✅ PASSED

⚙️ Testing provider initialization...
   Provider Initialization  ✅ PASSED

🎯 VALIDATION SUMMARY
============================================================
Overall Status: HEALTHY
Database Status: true
Providers Status: true

📋 NEXT STEPS:
1. Basic connectivity validated - system appears ready for Phase 3
2. Proceed with comprehensive validation using actual sync systems
3. Deploy sync verification system to production (Step 2)
4. Continue with careful step-by-step deployment plan

📄 Baseline report saved to: docs/simple_deployment_baseline_report.json
00:40 +419 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation Basic Database Connectivity Test                                                   00:40 +419 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             00:40 +419 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             

🚀 Running System Readiness Check...
🔧 Checking Flutter environment...
📦 Checking provider container...
✅ Basic system readiness confirmed
00:40 +420 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation System Readiness Check                                                             00:40 +420 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (tearDownAll)                                                                      00:41 +420 ~9 -1: /Users/onronder/duru-notes/test/simple_deployment_validation_test.dart: Pre-Deployment Validation (tearDownAll)                                                                      00:41 +420 ~9 -1: loading /Users/onronder/duru-notes/test/folders/folder_data_integrity_test.dart                                                                                                      00:41 +420 ~9 -1: loading /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart                                                                                                      00:41 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              00:42 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              00:42 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (setUpAll)                                                              
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:42 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  00:42 +420 ~9 -1: /Users/onronder/duru-notes/test/phase3_performance_monitoring_test.dart: Phase 3: Performance Monitoring Task creation and retrieval stay within expected durations                  
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-123 title="Performance Task" due=null priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 3ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 8ms (task perf-1764044508819717)
[DomainTaskController] task created id=perf-1764044508819717 note=note-123
00:42 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:42 +421 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly

🏗️ Testing core infrastructure provider dependencies...
  📊 Testing AppDb provider...
00:42 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:42 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly
  📝 Testing Logger provider...
00:42 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors

🔧 Testing core provider instantiation...
  📊 Testing AppDb provider...
00:42 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Core infrastructure providers resolve dependencies correctly
  📈 Testing Analytics provider...
  ✅ Core infrastructure providers validation completed
00:42 +422 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors
  📝 Testing Logger provider...
  📈 Testing Analytics provider...
  ✅ Core providers instantiated successfully
00:42 +423 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:42 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:42 +424 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites

📋 Testing domain task provider prerequisites...
  📝 Reading taskCoreRepositoryProvider...
00:42 +425 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Compilation Fix Validation Service Instantiation Tests Core providers can be instantiated without errors00:42 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites  00:42 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly

📋 Testing task service provider instantiation...
  📝 Testing TaskCoreRepository provider...
    ✅ TaskCoreRepository unavailable without authentication
  🚀 Testing EnhancedTaskService provider...
00:42 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites
    ✅ taskCoreRepository requires Supabase initialization (expected)
  🚀 Reading enhancedTaskServiceProvider...
    ✅ enhancedTaskService requires Supabase initialization (expected)
  🎯 Reading domainTaskControllerProvider...
    ✅ domainTaskController requires Supabase initialization (expected)
  🔔 Reading taskReminderBridgeProvider...
00:42 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly
    ✅ EnhancedTaskService requires authenticated user (expected)
  🎯 Testing DomainTaskController provider...
00:42 +426 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Domain task service providers expose expected prerequisites
    ✅ taskReminderBridge requires Supabase initialization (expected)
00:42 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly         00:42 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Core Provider Validation Reminder system providers can be instantiated correctly

🔔 Testing reminder system provider instantiation...
  🎯 Reading unifiedReminderCoordinatorProvider...
  🚀 Reading advancedReminderServiceProvider...
  ✅ Reminder system providers instantiated successfully
00:42 +427 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly
    ✅ DomainTaskController blocked until security services initialize (expected)
  🔔 Testing TaskReminderBridge provider...
00:42 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly         00:42 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers

🔗 Testing domain task dependency chain...
  🔍 Testing domainTaskController dependencies...
    ⚠️ taskCoreRepository requires Supabase initialization (expected)
    ⚠️ notesCoreRepository requires Supabase initialization (expected)
00:42 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Task service providers can be instantiated correctly
  ✅ Task service providers instantiated successfully
00:42 +428 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers
    ⚠️ enhancedTaskService requires Supabase initialization (expected)
    ✅ Dependencies processed for domainTaskController
  🔍 Testing enhancedTaskService dependencies...
00:42 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers        00:42 +429 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Reminder system providers can be instantiated correctly

🔔 Testing reminder system provider instantiation...
  🎯 Testing Unified ReminderCoordinator provider...
  ✅ Reminder system providers instantiated successfully
00:42 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers        00:42 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly

🗄️ Testing repository provider instantiation...
  📝 Testing NotesRepository provider...
    ✅ NotesRepository blocked until security services initialize (expected)
  📁 Testing FolderRepository provider...
  📋 Testing TaskRepository provider...
00:42 +430 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Domain task dependency chain resolves expected providers
    ⚠️ taskReminderBridge requires Supabase initialization (expected)
    ✅ Dependencies processed for enhancedTaskService
  🔍 Testing taskReminderBridge dependencies...
    ✅ Dependencies processed for taskReminderBridge
00:42 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly           00:42 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers

🔄 Testing for circular dependencies (domain)...
  🔁 Scenario 1: appDb → taskCoreRepository → notesCoreRepository → enhancedTaskService → domainTaskController
00:42 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Instantiation Tests Repository providers can be instantiated correctly
  ✅ Repository providers behave correctly
00:42 +431 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers
    ✅ No circular dependency detected in scenario 1
  🔁 Scenario 2: domainTaskController → enhancedTaskService → taskReminderBridge → unifiedReminderCoordinator → advancedReminderService
00:42 +432 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers 00:42 +432 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation Provider dependency chain is healthy

🔗 Testing provider dependency chain...
  🔍 Testing domainTaskController dependencies: taskCoreRepository, notesCoreRepository, enhancedTaskService, logger
    ❌ Failed to resolve dependency notesCoreRepository: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
    ❌ Failed to resolve dependency enhancedTaskService: Bad state: EnhancedTaskService requires authenticated user
  🔍 Testing enhancedTaskService dependencies: appDb, taskReminderBridge
    ✅ All dependencies resolved for enhancedTaskService
  🔍 Testing taskReminderBridge dependencies: unifiedReminderCoordinator, advancedReminderService, taskCoreRepository
    ✅ All dependencies resolved for taskReminderBridge
  ✅ Provider dependency chain validation completed
00:42 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: ... Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers 00:42 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Dependency Graph Validation Circular dependency detection for domain providers
    ✅ No circular dependency detected in scenario 2
00:42 +433 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  

🔄 Testing for circular dependencies...
  🔄 Testing provider order 1: appDb → logger → taskCoreRepository → notesCoreRepository → enhancedTaskService → domainTaskController
00:42 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  00:42 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly               

🧹 Testing provider disposal and cleanup...
00:42 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  
    ❌ Potential circular dependency detected in order 1: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
00:42 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly               
  🔍 Testing base provider disposal...
  🔍 Testing enhanced task provider disposal...
00:42 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  
  🔄 Testing provider order 2: domainTaskController → enhancedTaskService → notesCoreRepository → taskCoreRepository → logger → appDb
00:42 +434 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Lifecycle & Performance Provider disposal works correctly               
  ✅ Provider disposal checks completed
00:42 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  00:42 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_provider_architecture_test.dart: Phase 3: Provider Architecture Tests Domain Controller API Surface DomainTaskController exposes expected API surface

🎯 Inspecting DomainTaskController API surface...
00:42 +435 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  
    ❌ Potential circular dependency detected in order 2: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  🔄 Testing provider order 3: logger → domainTaskController → appDb → taskCoreRepository → notesCoreRepository → enhancedTaskService
00:42 +436 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  00:42 +436 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  
    ❌ Potential circular dependency detected in order 3: Bad state: [notesCoreRepositoryProvider] Security services must be initialized before creating repositories. This provider should only be accessed after the FutureBuilder in app.dart completes SecurityInitialization.initialize().
  ✅ Circular dependency testing completed
00:42 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Provider Dependency Graph Validation No circular dependencies detected  00:42 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies    00:42 +437 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies

🎯 Testing DomainTaskController integration...
  ✅ DomainTaskController integration validated
00:42 +438 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests DomainTaskController integrates correctly with dependencies    00:42 +438 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge  00:42 +438 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge

🚀 Testing EnhancedTaskService integration...
  ✅ EnhancedTaskService requires authenticated user (expected)
00:42 +439 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: ... Fix Validation Service Integration Tests EnhancedTaskService integrates correctly with reminder bridge  00:42 +439 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      00:42 +439 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      

🔔 Testing ReminderCoordinator integration...
  ✅ ReminderCoordinator integration validated
00:42 +440 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Service Integration Tests ReminderCoordinator integrates correctly      00:42 +440 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               00:42 +440 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               

🧹 Testing provider disposal...
  ✅ Provider disposal completed successfully
00:42 +441 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation Memory Management Tests Provider disposal works correctly               00:42 +441 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (tearDownAll)                                                           00:43 +441 ~9 -1: /Users/onronder/duru-notes/test/phase3_compilation_validation_test.dart: Phase 3: Compilation Fix Validation (tearDownAll)                                                           00:43 +441 ~9 -1: loading /Users/onronder/duru-notes/test/sync/sync_verification_test.dart                                                                                                             00:43 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 00:43 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (setUpAll)                                                                                 
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:43 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                           00:43 +441 ~9 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                           
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:43 +441 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Remote Supabase connection works                                                          00:43 +441 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  00:43 +441 ~10 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:43 +441 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests Required tables exist in remote database                                                  00:43 +441 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     00:43 +441 ~11 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:43 +441 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests RLS policies are enforced (cannot query without auth)                                     00:43 +441 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     00:43 +441 ~12 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:43 +441 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests User can authenticate                                                                     00:43 +441 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests UnifiedSyncService can be initialized                                                     00:43 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests UnifiedSyncService can be initialized                                                     00:43 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Sync Verification Tests (tearDownAll)                                                                             00:43 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) (setUpAll)                                                               00:43 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            00:43 +442 ~13 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:43 +442 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) All tables have userId column                                            00:43 +442 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      00:43 +442 ~14 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      
  Skip: Requires TEST_SUPABASE_URL and TEST_SUPABASE_ANON_KEY for integration testing
00:43 +442 ~15 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) Can create and retrieve a test note                                      00:43 +442 ~15 -1: /Users/onronder/duru-notes/test/sync/sync_verification_test.dart: Remote Schema Verification (SQL Queries) (tearDownAll)                                                            00:43 +442 ~15 -1: loading /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart                                                                                                00:43 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: (setUpAll)                                                                                            00:43 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    00:44 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    00:44 +442 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: (setUpAll)                                                                            
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:44 +442 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    00:44 +443 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Database Query Performance Query 1000 notes with userId filter completes in < 100ms    00:44 +444 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:44 +445 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:44 +446 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:44 +447 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:44 +448 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: listFolders returns folders owned by the active user                                  00:44 +449 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 100 saved searches completes in < 500ms          00:44 +450 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: createFolder persists folder for current user and enqueues sync op                    00:44 +451 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migrate 1000 saved searches completes in < 2000ms        00:44 +452 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: renameFolder enforces ownership                                                       00:44 +453 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Migration Performance Migration stats query completes in < 20ms                00:44 +454 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/folder_core_repository_test.dart: deleteFolder removes user folder and enqueues deletion                                00:44 +455 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Data Isolation Performance Query isolation for 10 users with 100 notes each completes efficiently 00:44 +456 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:44 +457 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:44 +458 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:44 +459 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           00:44 +459 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads note operations and clears queue                           
Rate limit request: user-123 (RateLimitType.user) - /api/notes/upsert
API call to /api/notes/upsert completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/note-folders/delete
API call to /api/note-folders/delete completed in 0ms
00:44 +460 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Concurrent Operation Performance Concurrent migration and query operations     00:44 +461 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads reminder operations to Supabase                            00:44 +461 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending uploads reminder operations to Supabase                            
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
00:45 +462 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: ... Benchmarks Index Performance Validation userId index improves query performance significantly     00:45 +463 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    00:45 +463 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pushAllPending deletes remote reminder when delete op enqueued                    
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/delete
API call to /api/reminders/delete completed in 0ms
00:45 +464 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:45 +464 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/notes_core_repository_sync_test.dart: pullSince ingests remote notes and updates last sync timestamp                    
Rate limit request: user-123 (RateLimitType.user) - /api/notes/fetch
API call to /api/notes/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/folders/fetch
API call to /api/folders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/tasks/fetch
API call to /api/tasks/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/templates/fetch
API call to /api/templates/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/note-folders/fetch
API call to /api/note-folders/fetch completed in 0ms
00:45 +465 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:45 +466 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Index Performance Validation Notes userId index improves large dataset queries 00:45 +466 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Large dataset query uses reasonable memory                   00:45 +467 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Large dataset query uses reasonable memory                   00:45 +467 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Migration processes data in manageable batches               00:45 +468 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Memory Efficiency Migration processes data in manageable batches               00:45 +468 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Authorization Performance Authorization check is fast for authenticated user   00:45 +469 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Authorization Performance Authorization check is fast for authenticated user   00:45 +469 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Authorization Performance Ownership verification is performant                 00:45 +470 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: Performance Benchmarks Authorization Performance Ownership verification is performant                 00:45 +470 ~15 -1: /Users/onronder/duru-notes/test/performance/performance_benchmarks_test.dart: (tearDownAll)                                                                                         00:45 +470 ~15 -1: loading /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart                                                                              00:45 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              00:46 +470 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              00:46 +471 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getAllTemplates returns user and system templates only                              00:46 +471 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getTemplateById enforces ownership while allowing system templates                  00:46 +472 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: getTemplateById enforces ownership while allowing system templates                  00:46 +472 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate assigns user ownership and enqueues sync operation                   00:46 +473 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate assigns user ownership and enqueues sync operation                   00:46 +473 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate throws when no authenticated user is available                       00:46 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: createTemplate throws when no authenticated user is available                       00:46 +474 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              00:46 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/template_core_repository_test.dart: deleteTemplate enforces ownership and prevents system template removal              00:46 +475 ~15 -1: loading /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart                                                                                00:46 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: (setUpAll)                                                                            00:46 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: (setUpAll)                                                                            
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:46 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... - NotesCoreRepository deleteNote sets deletedAt and scheduledPurgeAt timestamps   00:46 +475 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository deleteNote sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=df361e22-cbde-411d-bbe3-c8a1010e0983 isUpdate=false titleLen=9 bodyLen=9 traceId=none
[NotesCoreRepository] note persisted noteId=df361e22-cbde-411d-bbe3-c8a1010e0983 folder=null tagCount=0 traceId=none
00:46 +476 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/quick_capture_repository_test.dart: QuickCaptureRepository enqueueCapture stores encrypted payload and retrieves pending captures    00:46 +477 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     00:46 +477 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=cf07bbfc-5839-4555-a63a-124d18c6bfad isUpdate=false titleLen=13 bodyLen=6 traceId=none
00:46 +478 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     00:46 +478 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     
[NotesCoreRepository] note persisted noteId=cf07bbfc-5839-4555-a63a-124d18c6bfad folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=ce86026e-32f5-4ec2-aa16-8b16526eda4d isUpdate=false titleLen=11 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=ce86026e-32f5-4ec2-aa16-8b16526eda4d folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=f864522e-7166-4fb2-a759-6b74ee7af96b isUpdate=false titleLen=11 bodyLen=6 traceId=none
[NotesCoreRepository] note persisted noteId=f864522e-7166-4fb2-a759-6b74ee7af96b folder=null tagCount=0 traceId=none
00:46 +479 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     00:47 +479 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository getDeletedNotes returns only soft-deleted notes     00:47 +480 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:47 +480 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +481 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:47 +481 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository permanentlyDeleteNote removes note from database    
[NotesCoreRepository] createOrUpdate noteId=a17f3416-0a16-49dd-82f2-f847a7db2760 isUpdate=false titleLen=21 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=a17f3416-0a16-49dd-82f2-f847a7db2760 folder=null tagCount=0 traceId=none
00:47 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:47 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository restoreNote clears deletion timestamps              
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:151:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             
[NotesCoreRepository] createOrUpdate noteId=f3be5a2d-6a9b-4a63-806e-810e69020ee4 isUpdate=false titleLen=11 bodyLen=20 traceId=none
00:47 +482 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - NotesCoreRepository restoreNote clears deletion timestamps              
[NotesCoreRepository] createOrUpdate noteId=1413ba0a-2467-4c7f-81be-233c0f2d284b isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=1413ba0a-2467-4c7f-81be-233c0f2d284b folder=null tagCount=0 traceId=none
00:47 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             00:47 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.moveNoteToFolder enforces user isolation                             
[NotesCoreRepository] note persisted noteId=f3be5a2d-6a9b-4a63-806e-810e69020ee4 folder=null tagCount=0 traceId=none
00:47 +483 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository deleteFolder sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +484 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... - FolderCoreRepository deleteFolder sets deletedAt and scheduledPurgeAt timestamps00:47 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              00:47 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository getDeletedFolders returns only soft-deleted folders
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +485 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              
[NotesCoreRepository] createOrUpdate noteId=2adca86c-a38c-4d28-89b4-bac6587b28f1 isUpdate=false titleLen=13 bodyLen=22 traceId=none
test/services/gdpr_anonymization_service_test.dart:730:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase5Filter);
                    ^
test/services/gdpr_anonymization_service_test.dart:738:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockCreateRecordFilter);
                    ^
test/services/gdpr_anonymization_service_test.dart:745:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockEventFilter);
                    ^
test/services/gdpr_anonymization_service_test.dart:797:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase4Filter2);
                    ^
test/services/gdpr_anonymization_service_test.dart:806:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase5FailFilter);
                    ^
test/services/gdpr_anonymization_service_test.dart:814:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockCreateRecordFilter2);
                    ^
test/services/gdpr_anonymization_service_test.dart:821:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockEventFilter2);
                    ^
test/services/gdpr_anonymization_service_test.dart:873:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase4Filter3);
                    ^
test/services/gdpr_anonymization_service_test.dart:883:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'List' is from 'dart:core'.
 - 'Map' is from 'dart:core'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockPhase5Filter3);
                    ^
test/services/gdpr_anonymization_service_test.dart:891:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockCreateRecordFilter3);
                    ^
test/services/gdpr_anonymization_service_test.dart:898:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
 - 'Future' is from 'dart:async'.
 - 'Invocation' is from 'dart:core'.
 - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
      )).thenAnswer((_) async => mockEventFilter3);
                    ^
[NotesCoreRepository] note persisted noteId=2adca86c-a38c-4d28-89b4-bac6587b28f1 folder=null tagCount=0 traceId=none
00:47 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: FolderCoreRepository.removeNoteFromFolder requires ownership                              00:47 +486 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository permanentlyDeleteFolder removes folder from database
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +487 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... Delete - FolderCoreRepository permanentlyDeleteFolder removes folder from database00:47 +488 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... Delete - FolderCoreRepository permanentlyDeleteFolder removes folder from database00:47 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        00:47 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository restoreFolder clears deletion timestamps           
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:305:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +489 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: list returns notes for the authenticated user only                                        
[NotesCoreRepository] createOrUpdate noteId=77d876cf-fe71-4099-9e67-ca548a1adda7 isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=77d876cf-fe71-4099-9e67-ca548a1adda7 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=c46a6e15-ca0f-42d6-bd3c-53fc87067f3f isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=c46a6e15-ca0f-42d6-bd3c-53fc87067f3f folder=null tagCount=0 traceId=none
00:47 +490 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository restoreFolder clears deletion timestamps           00:47 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - FolderCoreRepository restoreFolder clears deletion timestamps           00:47 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            00:47 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
[NotesCoreRepository] createOrUpdate noteId=2d79a3dd-8906-438a-8904-6f9a1b5f41f1 isUpdate=false titleLen=16 bodyLen=0 traceId=none
00:47 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            
[NotesCoreRepository] createOrUpdate noteId=fa703e27-cafb-4a5f-9979-9ef027e7cb07 isUpdate=false titleLen=11 bodyLen=20 traceId=none
00:47 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps
[NotesCoreRepository] note persisted noteId=2d79a3dd-8906-438a-8904-6f9a1b5f41f1 folder=null tagCount=0 traceId=none
00:47 +491 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getNoteById enforces ownership                                                            
[NotesCoreRepository] note persisted noteId=fa703e27-cafb-4a5f-9979-9ef027e7cb07 folder=null tagCount=0 traceId=none
00:47 +492 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: ... - TaskCoreRepository deleteTask sets deletedAt and scheduledPurgeAt timestamps    00:47 +492 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] createOrUpdate noteId=15ce01a0-366f-42c2-abc8-e859417b1e9a isUpdate=false titleLen=6 bodyLen=15 traceId=none
00:47 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          00:47 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

00:47 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] note persisted noteId=15ce01a0-366f-42c2-abc8-e859417b1e9a folder=null tagCount=0 traceId=none
00:47 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +493 ~15 -1: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: localNotesForSync and localNotes are user scoped                                          
[NotesCoreRepository] createOrUpdate noteId=b2d5256e-7ff2-47e5-9029-7e6fa7be144b isUpdate=false titleLen=6 bodyLen=15 traceId=none
[NotesCoreRepository] note persisted noteId=b2d5256e-7ff2-47e5-9029-7e6fa7be144b folder=null tagCount=0 traceId=none
00:47 +493 ~15 -2: loading /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart [E]                                                                                           
  Failed to load "/Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart":
  Compilation failed for testPath=/Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart: test/services/gdpr_anonymization_service_test.dart:730:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase5Filter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:738:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockCreateRecordFilter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:745:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockEventFilter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:797:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase4Filter2);
                      ^
  test/services/gdpr_anonymization_service_test.dart:806:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase5FailFilter);
                      ^
  test/services/gdpr_anonymization_service_test.dart:814:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockCreateRecordFilter2);
                      ^
  test/services/gdpr_anonymization_service_test.dart:821:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockEventFilter2);
                      ^
  test/services/gdpr_anonymization_service_test.dart:873:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase4Filter3);
                      ^
  test/services/gdpr_anonymization_service_test.dart:883:21: Error: The argument type 'Future<List<Map<String, dynamic>>> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<List<Map<String, dynamic>>> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'List' is from 'dart:core'.
   - 'Map' is from 'dart:core'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockPhase5Filter3);
                      ^
  test/services/gdpr_anonymization_service_test.dart:891:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockCreateRecordFilter3);
                      ^
  test/services/gdpr_anonymization_service_test.dart:898:21: Error: The argument type 'Future<void> Function(Invocation)' can't be assigned to the parameter type 'PostgrestFilterBuilder<void> Function(Invocation)'.
   - 'Future' is from 'dart:async'.
   - 'Invocation' is from 'dart:core'.
   - 'PostgrestFilterBuilder' is from 'package:postgrest/src/postgrest_builder.dart' ('../.pub-cache/hosted/pub.dev/postgrest-2.5.0/lib/src/postgrest_builder.dart').
        )).thenAnswer((_) async => mockEventFilter3);
                      ^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart -p vm --plain-name 'loading /Users/onronder/duru-notes/test/services/gdpr_anonymization_service_test.dart'
00:47 +494 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      00:47 +494 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository getDeletedTasks returns only soft-deleted tasks      
[NotesCoreRepository] createOrUpdate noteId=682c3237-77eb-4e80-8763-cf1cb77eb790 isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=682c3237-77eb-4e80-8763-cf1cb77eb790 folder=null tagCount=0 traceId=none
00:47 +494 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: watchNotes stream emits only current user notes                                           
[NotesCoreRepository] createOrUpdate noteId=a8c9f4f9-ccc3-4ac8-9a83-11c01612b8bf isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=a8c9f4f9-ccc3-4ac8-9a83-11c01612b8bf folder=null tagCount=0 traceId=none
00:47 +495 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: watchNotes stream emits only current user notes                                           00:47 +495 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +495 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: watchNotes stream emits only current user notes                                           
[NotesCoreRepository] createOrUpdate noteId=ad3e96f9-bfa4-4b79-8cdb-312be1c28b42 isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=ad3e96f9-bfa4-4b79-8cdb-312be1c28b42 folder=null tagCount=0 traceId=none
00:47 +496 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     00:47 +496 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     
[NotesCoreRepository] createOrUpdate noteId=afcd0152-1772-487e-954a-cbd208888812 isUpdate=false titleLen=16 bodyLen=0 traceId=none
[NotesCoreRepository] note persisted noteId=afcd0152-1772-487e-954a-cbd208888812 folder=null tagCount=0 traceId=none
00:47 +497 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     00:47 +497 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: toggleNotePin enforces user isolation                                                     
[NotesCoreRepository] createOrUpdate noteId=55c61c91-ad00-4884-8c1c-489d3a9bce31 isUpdate=false titleLen=10 bodyLen=19 traceId=none
00:47 +498 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository permanentlyDeleteTask removes task from database     00:47 +498 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: toggleNotePin enforces user isolation                                                     
[NotesCoreRepository] note persisted noteId=55c61c91-ad00-4884-8c1c-489d3a9bce31 folder=null tagCount=0 traceId=none
00:47 +499 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: toggleNotePin enforces user isolation                                                     00:47 +500 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:47 +500 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
⚠️ [SecureApiWrapper] FALLBACK: Creating local RateLimitingMiddleware
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
⚠️ [SecureApiWrapper] This indicates a race condition bug
⚠️ [SecureApiWrapper] Stack trace:
#0      new SecureApiWrapper.<anonymous closure> (package:duru_notes/data/remote/secure_api_wrapper.dart:35:40)
#1      new SecureApiWrapper (package:duru_notes/data/remote/secure_api_wrapper.dart:38:16)
#2      new NotesCoreRepository (package:duru_notes/infrastructure/repositories/notes_core_repository.dart:38:34)
#3      new _SoftDeleteTestHarness (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:25:17)
#4      main.<anonymous closure>.<anonymous closure> (file:///Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart:441:17)
#5      Declarer._runSetUps.<anonymous closure> (package:test_api/src/backend/declarer.dart:403:61)
#6      Future.forEach.<anonymous closure> (dart:async/future.dart:653:26)
#7      Future.doWhile.<anonymous closure> (dart:async/future.dart:710:26)
#8      StackZoneSpecification._registerUnaryCallback.<anonymous closure>.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:36)
#9      StackZoneSpecification._run (package:stack_trace/src/stack_zone_specification.dart:207:15)
#10     StackZoneSpecification._registerUnaryCallback.<anonymous closure> (package:stack_trace/src/stack_zone_specification.dart:127:24)
#11     _rootRunUnary (dart:async/zone.dart:1538:47)
#12     _CustomZone.runUnary (dart:async/zone.dart:1429:19)
#13     _CustomZone.runUnaryGuarded (dart:async/zone.dart:1329:7)
#14     _CustomZone.bindUnaryCallbackGuarded.<anonymous closure> (dart:async/zone.dart:1367:26)
#15     Future.doWhile (dart:async/future.dart:727:18)
#16     Future.forEach (dart:async/future.dart:651:12)
#17     Declarer._runSetUps (package:test_api/src/backend/declarer.dart:403:18)
<asynchronous suspension>
#18     Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:241:9)
<asynchronous suspension>
#19     Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:240:7)
<asynchronous suspension>
#20     Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:282:9)
<asynchronous suspension>

⚠️ [SecureApiWrapper] FALLBACK: Creating local ErrorLoggingService
⚠️ [SecureApiWrapper] SecurityInitialization.isInitialized = false
00:47 +500 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: setNotePin only updates owner notes                                                       
[NotesCoreRepository] createOrUpdate noteId=53a3529d-269d-4b57-8cdf-fa736c78b998 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=53a3529d-269d-4b57-8cdf-fa736c78b998 folder=null tagCount=0 traceId=none
00:47 +500 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
[NotesCoreRepository] createOrUpdate noteId=b7da2dc1-e379-4a12-8ad4-81273b34579d isUpdate=false titleLen=16 bodyLen=0 traceId=none
00:47 +500 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: setNotePin only updates owner notes                                                       
[NotesCoreRepository] createOrUpdate noteId=e2c485d2-11ae-4afa-aa10-30c89ebf1bde isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=e2c485d2-11ae-4afa-aa10-30c89ebf1bde folder=null tagCount=0 traceId=none
00:47 +500 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/repositories/soft_delete_repository_test.dart: Soft Delete - TaskCoreRepository restoreTask clears deletion timestamps               
[NotesCoreRepository] note persisted noteId=b7da2dc1-e379-4a12-8ad4-81273b34579d folder=null tagCount=0 traceId=none
00:47 +501 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:47 +502 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:47 +502 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getPinnedNotes returns pins for current user only                                         
[NotesCoreRepository] createOrUpdate noteId=73cfde78-3109-447c-97c5-8e81b59da961 isUpdate=false titleLen=8 bodyLen=17 traceId=none
00:47 +502 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:47 +502 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: getPinnedNotes returns pins for current user only                                         
[NotesCoreRepository] note persisted noteId=73cfde78-3109-447c-97c5-8e81b59da961 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=b10e6642-5e75-4c36-bf55-6eebe467e662 isUpdate=false titleLen=8 bodyLen=17 traceId=none
[NotesCoreRepository] note persisted noteId=b10e6642-5e75-4c36-bf55-6eebe467e662 folder=null tagCount=0 traceId=none
00:47 +503 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:47 +503 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: folder counts and ids are scoped per user                                                 
[NotesCoreRepository] createOrUpdate noteId=f3901d90-6070-47d9-a81a-2c6625d14ddc isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=f3901d90-6070-47d9-a81a-2c6625d14ddc folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=3693dde4-0da0-4ce0-8a85-451aa7502ec5 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=3693dde4-0da0-4ce0-8a85-451aa7502ec5 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=f97008fa-3831-4b52-9919-fe7e2b54e651 isUpdate=false titleLen=9 bodyLen=18 traceId=none
[NotesCoreRepository] note persisted noteId=f97008fa-3831-4b52-9919-fe7e2b54e651 folder=null tagCount=0 traceId=none
00:47 +504 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:47 +504 ~15 -2: /Users/onronder/duru-notes/test/infrastructure/notes_core_repository_isolation_test.dart: CaptureNotesAdapter enforces authentication boundary                                      
[NotesCoreRepository] createOrUpdate noteId=c385d002-3ea5-4d4d-9bb4-36379f041940 isUpdate=false titleLen=10 bodyLen=4 traceId=none
[NotesCoreRepository] note persisted noteId=c385d002-3ea5-4d4d-9bb4-36379f041940 folder=null tagCount=0 traceId=none
00:47 +505 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:48 +505 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:48 +506 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Bootstrap Error Handling Tests Retry recovery strategy works with backoff                                 00:48 +506 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects invalid URLs                                      00:48 +507 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects invalid URLs                                      00:48 +507 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects localhost in production                           00:48 +508 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator detects localhost in production                           00:48 +508 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator checks analytics sampling rates                           00:48 +509 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator checks analytics sampling rates                           00:48 +509 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator warns about production misconfigurations                  00:48 +510 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Configuration Validation Tests Config validator warns about production misconfigurations                  00:48 +510 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache manager basic operations work                                                   00:48 +511 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache manager basic operations work                                                   00:48 +511 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache TTL expiration works                                                            00:48 +512 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache TTL expiration works                                                            00:48 +512 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache statistics tracking works                                                       00:48 +513 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache statistics tracking works                                                       00:48 +513 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache eviction policies work correctly                                                00:48 +514 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache eviction policies work correctly                                                00:48 +514 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache getOrCompute works                                                              00:48 +515 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache getOrCompute works                                                              00:48 +515 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        00:48 +516 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Cache Manager Tests Cache invalidator tag-based invalidation works                                        00:48 +516 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository result wrapper works correctly                                        00:48 +517 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository result wrapper works correctly                                        00:48 +517 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository error includes metadata                                               00:48 +518 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Repository error includes metadata                                               00:48 +518 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests QuerySpec builds correct query parameters                                        00:48 +519 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests QuerySpec builds correct query parameters                                        00:48 +519 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Cache statistics calculation                                                     00:48 +520 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Repository Pattern Tests Cache statistics calculation                                                     00:48 +520 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Infrastructure providers are properly configured                           00:48 +521 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Infrastructure providers are properly configured                           00:48 +521 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Provider helper extensions work                                            00:48 +522 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Infrastructure Providers Tests Provider helper extensions work                                            00:48 +522 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     00:49 +522 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     00:49 +523 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Bootstrap error recovery flow works                                                     00:49 +523 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:50 +523 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:50 +524 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:51 +524 ~15 -2: /Users/onronder/duru-notes/test/phase2_infrastructure_test.dart: Phase 2: Integration Tests Complete cache lifecycle test                                                           00:51 +524 ~15 -2: loading /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart                                                                            00:51 +524 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               00:51 +525 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               00:51 +526 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               00:51 +527 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               00:51 +528 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns notNeeded when no saved searches exist               00:51 +528 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns complete when all searches have userId               00:51 +529 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns complete when all searches have userId               00:51 +529 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns deferred when searches exist but user not logged in  00:51 +530 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration returns deferred when searches exist but user not logged in  00:51 +530 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration successfully migrates searches when user is logged in        00:51 +531 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... runAutoMigration successfully migrates searches when user is logged in        00:51 +531 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService runAutoMigration only migrates searches without userId00:51 +532 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService runAutoMigration only migrates searches without userId00:51 +532 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns false when no searches need migration               00:51 +533 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns false when no searches need migration               00:51 +533 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns true when searches need migration                   00:51 +534 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... isMigrationNeeded returns true when searches need migration                   00:51 +534 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns correct count of searches without userId  00:51 +535 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns correct count of searches without userId  00:51 +535 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns 0 when all searches have userId           00:51 +536 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... getSearchesNeedingMigration returns 0 when all searches have userId           00:51 +536 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser migrates searches for specified user   00:51 +537 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser migrates searches for specified user   00:51 +537 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser fails when userId is empty             00:51 +538 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService migrateForUser fails when userId is empty             00:51 +538 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... migrateForUser returns notNeeded when no searches to migrate                  00:51 +539 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: ... migrateForUser returns notNeeded when no searches to migrate                  00:51 +539 ~15 -2: /Users/onronder/duru-notes/test/services/data_migration/saved_search_migration_service_test.dart: SavedSearchMigrationService deleteOrphanedSearches deletes searches without userId00:51 +540 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    00:51 +541 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    00:51 +542 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    00:52 +542 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    00:52 +543 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations createReminderInDb returns inserted identifier                    00:52 +543 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus updates record when user authenticated       00:52 +544 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus updates record when user authenticated       00:52 +544 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus skips update when user missing               00:52 +545 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations updateReminderStatus skips update when user missing               00:52 +545 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote delegates to database with user scope         00:52 +546 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote delegates to database with user scope         00:52 +546 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote returns empty when unauthenticated            00:52 +547 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService database operations getRemindersForNote returns empty when unauthenticated            00:52 +547 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications scheduleNotification delegates to plugin                                00:52 +548 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications scheduleNotification delegates to plugin                                00:52 +548 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications cancelNotification cancels scheduled entry                              00:52 +549 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications cancelNotification cancels scheduled entry                              00:52 +549 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                             00:52 +550 ~15 -2: /Users/onronder/duru-notes/test/services/base_reminder_service_test.dart: BaseReminderService notifications getPendingNotifications returns plugin list                             00:52 +550 ~15 -2: loading /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart                                                                                                   00:52 +550 ~15 -2: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                  00:52 +551 ~15 -2: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                  00:53 +551 ~15 -2: /Users/onronder/duru-notes/test/services/task_analytics_service_test.dart: TaskAnalyticsService - category performance uses domain tasks to compute category stats                  00:53 +551 ~15 -2: loading /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart                                                                                              00:53 +551 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer does nothing when platform check fails                                  00:53 +552 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer does nothing when platform check fails                                  00:53 +552 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes syncWidgetCache with payload                                    00:53 +553 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes syncWidgetCache with payload                                    00:53 +553 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                  00:53 +554 ~15 -2: /Users/onronder/duru-notes/test/services/quick_capture_widget_syncer_test.dart: IosQuickCaptureWidgetSyncer invokes clearWidgetCache when clearing                                  00:53 +554 ~15 -2: loading /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart                                                                                                  00:53 +554 ~15 -2: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file            00:53 +554 ~15 -3: loading /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart                                                                                                        00:53 +554 ~15 -3: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records note folder changes and exposes undo state                                            00:53 +554 ~15 -3: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file [E]        
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 51:35                         main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 51:35                         main.<fn>.<fn>.<fn>
  
00:53 +555 ~15 -3: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records note folder changes and exposes undo state                                            00:53 +555 ~15 -3: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo note folder change restores previous folder                                              
To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload successfully uploads recording and deletes temp file'
00:53 +556 ~15 -3: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when no recording path available                   00:53 +557 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo note folder change reapplies destination folder                                          00:53 +557 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService recordNoteFolderChange handles unfiling descriptions                                          00:53 +558 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService recordNoteFolderChange handles unfiling descriptions                                          00:53 +558 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records batch folder change with correct description                                          00:53 +558 ~15 -4: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when no recording path available [E]               
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 86:35                         main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 86:35                         main.<fn>.<fn>.<fn>
  
00:53 +559 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records batch folder change with correct description                                          00:53 +559 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo batch folder change restores previous folders                                            
To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload returns null when no recording path available'
00:53 +560 ~15 -4: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when reading recording bytes fails                 00:53 +561 ~15 -4: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo batch folder change reapplies new folder to all notes                                    00:53 +562 ~15 -5: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService redo batch folder change reapplies new folder to all notes                                    00:53 +562 ~15 -5: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService new operation clears redo stack                                                               00:53 +562 ~15 -5: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload returns null when upload fails [E]                              
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 112:35                        main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 112:35                        main.<fn>.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService finalizeAndUpload returns null when upload fails'
00:53 +563 ~15 -5: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService finalizeAndUpload tracks analytics with recording_type voice_note                 00:53 +564 ~15 -5: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService clearHistory empties undo and redo stacks                                                     00:53 +565 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService clearHistory empties undo and redo stacks                                                     00:53 +565 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService respects max stack size by trimming earliest operations                                       00:53 +565 ~15 -6: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge [E]                     
  Binding has not yet been initialized.
  The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
  Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
  In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
  If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
  package:flutter/src/foundation/binding.dart 314:9                             BindingBase.checkInstance.<fn>
  package:flutter/src/foundation/binding.dart 401:6                             BindingBase.checkInstance
  package:flutter/src/services/binding.dart 73:54                               ServicesBinding.instance
  package:flutter/src/services/platform_channel.dart 179:25                     _findBinaryMessenger
  package:flutter/src/services/platform_channel.dart 320:56                     MethodChannel.binaryMessenger
  package:flutter/src/services/platform_channel.dart 360:17                     MethodChannel._invokeMethod
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 135:35                        main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                    Future._asyncCompleteError
  package:flutter/src/services/platform_channel.dart 540:12                     MethodChannel.invokeMethod
  package:record_platform_interface/src/record_method_channel_mixin.dart 15:27  RecordMethodChannel.create
  package:record/src/record.dart 34:39                                          AudioRecorder._create
  package:record/src/record.dart 29:5                                           new AudioRecorder
  package:duru_notes/services/audio_recording_service.dart 37:35                new AudioRecordingService
  package:duru_notes/providers/infrastructure_providers.dart 49:10              audioRecordingServiceProvider.<fn>
  package:riverpod/src/provider/base.dart 59:57                                 Provider._create
  package:riverpod/src/provider/base.dart 345:23                                ProviderElement.create
  package:riverpod/src/framework/element.dart 426:7                             ProviderElementBase.buildState
  package:riverpod/src/framework/element.dart 228:5                             ProviderElementBase.mount
  package:riverpod/src/framework/container.dart 47:11                           _StateReader._create
  package:riverpod/src/framework/container.dart 35:52                           _StateReader.getElement
  package:riverpod/src/framework/container.dart 440:40                          ProviderContainer.readProviderElement.<fn>
  package:riverpod/src/framework/container.dart 475:8                           ProviderContainer.readProviderElement
  package:riverpod/src/framework/provider_base.dart 105:26                      ProviderBase.read
  package:riverpod/src/framework/container.dart 241:21                          ProviderContainer.read
  test/services/audio_recording_service_test.dart 135:35                        main.<fn>.<fn>.<fn>
  
00:53 +566 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService respects max stack size by trimming earliest operations                                       00:53 +566 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 
To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart -p vm --plain-name 'AudioRecordingService cleanupOrphanedRecordings deletes files older than maxAge'
00:53 +567 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 00:53 +568 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 00:53 +569 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 00:53 +570 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService expired operations do not execute during undo                                                 00:53 +571 ~15 -6: /Users/onronder/duru-notes/test/services/audio_recording_service_test.dart: RecordingResult creates valid result object                                                             00:53 +572 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records folder moves and provides undo support                                                00:53 +573 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService records folder moves and provides undo support                                                00:53 +573 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             00:53 +574 ~15 -6: /Users/onronder/duru-notes/test/services/undo_redo_service_test.dart: UndoRedoService undo history persists and rehydrates from storage                                             test/services/lazy_encryption_race_condition_test.dart:13:8: Error: Error when reading 'lib/test/test_utils/uuid_test_helper.dart': No such file or directory
import 'package:duru_notes/test/test_utils/uuid_test_helper.dart';
       ^
test/services/lazy_encryption_race_condition_test.dart:39:17: Error: Too many positional arguments: 0 allowed, but 1 found.
Try removing the extra positional arguments.
      db = AppDb(NativeDatabase.memory());
                ^
lib/data/local/app_db.dart:616:3: Context: Found this candidate, but the arguments don't match.
  AppDb() : super(_openConnection());
  ^^^^^
test/services/lazy_encryption_race_condition_test.dart:59:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:78:26: Error: Undefined name 'UuidTestHelper'.
      final reminderId = UuidTestHelper.deterministicUuid('reminder-$title');
                         ^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:90:42: Error: Member not found: 'local'.
              reminderType: ReminderType.local,
                                         ^^^^^
test/services/lazy_encryption_race_condition_test.dart:87:15: Error: No named parameter with the name 'scheduledTime'.
              scheduledTime: DateTime.now().add(const Duration(hours: 1)),
              ^^^^^^^^^^^^^
lib/data/local/app_db.g.dart:3416:3: Context: Found this candidate, but the arguments don't match.
  NoteRemindersCompanion.insert({
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:123:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:157:9: Error: Method not found: 'lessThanOrEqual'.
        lessThanOrEqual(3),
        ^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:201:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:216:18: Error: Method not found: 'Value'.
          title: Value('UPDATED TITLE'),
                 ^^^^^
test/services/lazy_encryption_race_condition_test.dart:258:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:315:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:328:46: Error: Method not found: 'greaterThanOrEqual'.
      expect(stats['totalLockAcquisitions'], greaterThanOrEqual(1));
                                             ^^^^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:329:40: Error: Method not found: 'greaterThanOrEqual'.
      expect(stats['lockContentions'], greaterThanOrEqual(0));
                                       ^^^^^^^^^^^^^^^^^^
test/services/lazy_encryption_race_condition_test.dart:347:22: Error: Undefined name '_'.
        final text = _.namedArguments[const Symbol('text')] as String;
                     ^
test/services/lazy_encryption_race_condition_test.dart:65:9: Error: The argument type 'MockProviderContainer' can't be assigned to the parameter type 'Ref<Object?>'.
 - 'MockProviderContainer' is from 'test/services/lazy_encryption_race_condition_test.mocks.dart'.
 - 'Ref' is from 'package:riverpod/src/framework.dart' ('../.pub-cache/hosted/pub.dev/riverpod-2.6.1/lib/src/framework.dart').
 - 'Object' is from 'dart:core'.
        mockContainer,
        ^
00:53 +574 ~15 -7: loading /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart [E]                                                                                       
  Failed to load "/Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart":
  Compilation failed for testPath=/Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart: test/services/lazy_encryption_race_condition_test.dart:13:8: Error: Error when reading 'lib/test/test_utils/uuid_test_helper.dart': No such file or directory
  import 'package:duru_notes/test/test_utils/uuid_test_helper.dart';
         ^
  test/services/lazy_encryption_race_condition_test.dart:39:17: Error: Too many positional arguments: 0 allowed, but 1 found.
  Try removing the extra positional arguments.
        db = AppDb(NativeDatabase.memory());
                  ^
  lib/data/local/app_db.dart:616:3: Context: Found this candidate, but the arguments don't match.
    AppDb() : super(_openConnection());
    ^^^^^
  test/services/lazy_encryption_race_condition_test.dart:59:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:78:26: Error: Undefined name 'UuidTestHelper'.
        final reminderId = UuidTestHelper.deterministicUuid('reminder-$title');
                           ^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:90:42: Error: Member not found: 'local'.
                reminderType: ReminderType.local,
                                           ^^^^^
  test/services/lazy_encryption_race_condition_test.dart:87:15: Error: No named parameter with the name 'scheduledTime'.
                scheduledTime: DateTime.now().add(const Duration(hours: 1)),
                ^^^^^^^^^^^^^
  lib/data/local/app_db.g.dart:3416:3: Context: Found this candidate, but the arguments don't match.
    NoteRemindersCompanion.insert({
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:123:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:157:9: Error: Method not found: 'lessThanOrEqual'.
          lessThanOrEqual(3),
          ^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:201:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:216:18: Error: Method not found: 'Value'.
            title: Value('UPDATED TITLE'),
                   ^^^^^
  test/services/lazy_encryption_race_condition_test.dart:258:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:315:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:328:46: Error: Method not found: 'greaterThanOrEqual'.
        expect(stats['totalLockAcquisitions'], greaterThanOrEqual(1));
                                               ^^^^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:329:40: Error: Method not found: 'greaterThanOrEqual'.
        expect(stats['lockContentions'], greaterThanOrEqual(0));
                                         ^^^^^^^^^^^^^^^^^^
  test/services/lazy_encryption_race_condition_test.dart:347:22: Error: Undefined name '_'.
          final text = _.namedArguments[const Symbol('text')] as String;
                       ^
  test/services/lazy_encryption_race_condition_test.dart:65:9: Error: The argument type 'MockProviderContainer' can't be assigned to the parameter type 'Ref<Object?>'.
   - 'MockProviderContainer' is from 'test/services/lazy_encryption_race_condition_test.mocks.dart'.
   - 'Ref' is from 'package:riverpod/src/framework.dart' ('../.pub-cache/hosted/pub.dev/riverpod-2.6.1/lib/src/framework.dart').
   - 'Object' is from 'dart:core'.
          mockContainer,
          ^
  .

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart -p vm --plain-name 'loading /Users/onronder/duru-notes/test/services/lazy_encryption_race_condition_test.dart'
00:54 +574 ~15 -7: loading /Users/onronder/duru-notes/test/services/push_notification_service_test.dart                                                                                                00:54 +574 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (setUpAll)                                                                                            00:54 +574 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend00:54 +574 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend
🔔 Initial permission status: AuthorizationStatus.notDetermined
🔔 Alert setting: AppleNotificationSetting.enabled
🔔 Badge setting: AppleNotificationSetting.enabled
🔔 Sound setting: AppleNotificationSetting.enabled
🔔 Permission not granted yet. Requesting permission...
🔔 Permission after request: AuthorizationStatus.authorized
🔔 Alert: AppleNotificationSetting.enabled, Badge: AppleNotificationSetting.enabled, Sound: AppleNotificationSetting.enabled
✅ Permission granted! Status: AuthorizationStatus.authorized
🔔 Attempting to get FCM token...
✅ Got FCM token: fcm-token-12345678901234567890...
📱 Getting device metadata...
📱 Platform: unknown, App version: 1.0.0+1
💾 Syncing token with backend...
🔐 _syncTokenWithBackend called
📱 Device ID: 19ab93f3-e231-9ab9-3f3e-2419ab93f3e2
🔐 Auth Status Check:
  User ID: user-123
  User Email: test@example.com
  Session exists: true
  Access token exists: true
📤 Calling user_devices_upsert RPC with:
  device_id: 19ab93f3-e231-9ab9-3f3e-2419ab93f3e2
  push_token: fcm-token-1234567890...
  platform: unknown
  app_version: 1.0.0+1
  user_id (from auth): user-123
🚀 Making RPC call...
✅ RPC call succeeded
🔍 Verifying token in database...
🔍 Query result: {device_id: 19ab93f3-e231-9ab9-3f3e-2419ab93f3e2, platform: unknown, push_token: fcm-token-12345678901234567890}
✅ Verified: Token exists in database
   Device ID: 19ab93f3-e231-9ab9-3f3e-2419ab93f3e2
   Platform: unknown
✅ Token sync completed
00:54 +575 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: PushNotificationService.registerWithBackend requests permission, obtains token, and syncs with backend00:54 +575 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                         00:55 +575 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                         00:56 +575 ~15 -7: /Users/onronder/duru-notes/test/services/push_notification_service_test.dart: (tearDownAll)                                                                                         00:56 +575 ~15 -7: loading /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart                                                                                                     00:56 +575 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                       00:56 +576 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns true and reschedules reminder                                                       00:56 +576 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when snooze limit reached                                                     00:56 +577 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when snooze limit reached                                                     00:56 +577 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                           00:56 +578 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                           00:57 +578 ~15 -7: /Users/onronder/duru-notes/test/services/snooze_functionality_test.dart: snoozeReminder returns false when notification permission denied                                           00:57 +578 ~15 -7: loading /Users/onronder/duru-notes/test/services/permission_manager_test.dart                                                                                                       00:57 +578 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Singleton should return same instance                                                      00:57 +579 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Singleton should return same instance                                                      00:57 +579 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Status Conversion should convert permission status correctly                    00:57 +580 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Status Conversion should convert permission status correctly                    00:57 +580 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Descriptions should return correct description for each permission type         00:57 +581 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Descriptions should return correct description for each permission type         00:57 +581 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Icons should return correct icon for each permission type                       00:57 +582 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Permission Icons should return correct icon for each permission type                       00:57 +582 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Cache Management should clear cache                                                        00:57 +583 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Cache Management should clear cache                                                        00:57 +583 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should add and remove observers                                                  00:57 +584 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should add and remove observers                                                  00:57 +584 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should notify observers on permission change                                     00:57 +585 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Observers should notify observers on permission change                                     00:57 +585 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should request multiple permissions                                             00:57 +586 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should request multiple permissions                                             00:57 +586 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should check if all permissions are granted                                     00:57 +587 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Extensions should check if all permissions are granted                                     00:57 +587 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should use unified permission manager when flag is enabled        00:57 +588 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should use unified permission manager when flag is enabled        00:57 +588 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should fall back to legacy when flag is disabled                  00:57 +589 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Feature Flag Integration should fall back to legacy when flag is disabled                  00:57 +589 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle permission request flow                                    00:57 +590 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle permission request flow                                    00:57 +590 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle location permission escalation                             00:57 +591 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle location permission escalation                             00:57 +591 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                          00:57 +592 ~15 -7: /Users/onronder/duru-notes/test/services/permission_manager_test.dart: PermissionManager Integration Tests should handle storage permission on Android 13+                          00:57 +592 ~15 -7: loading /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart                                                                                                00:57 +592 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration default configuration has reasonable geofence values            00:57 +593 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration default configuration has reasonable geofence values            00:57 +593 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration can create custom geofence configuration                        00:57 +594 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration can create custom geofence configuration                        00:57 +594 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration development configuration has appropriate values                00:57 +595 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration development configuration has appropriate values                00:57 +595 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration production configuration has appropriate values                 00:57 +596 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: GeofenceReminderService Configuration production configuration has appropriate values                 00:57 +596 ~15 -7: /Users/onronder/duru-notes/test/services/geofence_reminder_service_test.dart: UUID Validation Pattern validates correct UUID v4 format                                              00:57 +597 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +598 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +599 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +600 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +601 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +602 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +603 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +604 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +605 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +606 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +607 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +608 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +609 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +610 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation updating task content retains labels and structured metadata                   00:57 +610 ~15 -7: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reminder metadata is preserved across updates                                  00:57 +610 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reminder metadata is preserved across updates [E]                              
  Expected: 'reminder-99'
    Actual: <null>
     Which: not an <Instance of 'String'>
  
  package:matcher                                      expect
  package:flutter_test/src/widget_tester.dart 473:18   expect
  test/services/metadata_preservation_test.dart 203:7  main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart -p vm --plain-name 'Task metadata preservation reminder metadata is preserved across updates'
00:57 +610 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                 00:57 +611 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                 00:58 +611 ~15 -8: /Users/onronder/duru-notes/test/services/metadata_preservation_test.dart: Task metadata preservation reordering task keeps position metadata intact                                 00:58 +611 ~15 -8: loading /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart                                                                                                      00:58 +611 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote successfully creates note with correct attachmentMeta structure           00:58 +612 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote successfully creates note with correct attachmentMeta structure           00:58 +612 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote returns null when repository returns null                                 00:58 +613 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote returns null when repository returns null                                 00:58 +613 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote uses provided folderId when specified                                     00:58 +614 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote uses provided folderId when specified                                     00:58 +614 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote tracks error analytics on exception                                       00:58 +615 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService createVoiceNote tracks error analytics on exception                                       00:58 +615 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: ... addVoiceRecordingToNote successfully adds recording to note without existing voiceRecordings            00:58 +616 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: ... addVoiceRecordingToNote successfully adds recording to note without existing voiceRecordings            00:58 +616 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote appends to existing voiceRecordings array                         00:58 +617 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote appends to existing voiceRecordings array                         00:58 +617 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote returns null when repository returns null                         00:58 +618 ~15 -8: /Users/onronder/duru-notes/test/services/voice_notes_service_test.dart: VoiceNotesService addVoiceRecordingToNote returns null when repository returns null                         00:58 +618 ~15 -8: loading /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart                                                                                         00:58 +618 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses simple text query                                00:58 +619 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses simple text query                                00:58 +619 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses folder filter                                    00:58 +620 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses folder filter                                    00:58 +620 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses single tag filter                                00:58 +621 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses single tag filter                                00:58 +621 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses multiple tag filters (AND logic)                 00:58 +622 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses multiple tag filters (AND logic)                 00:58 +622 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachment filter                            00:58 +623 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachment filter                            00:58 +623 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachments (plural) filter                  00:58 +624 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:attachments (plural) filter                  00:58 +624 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:reminder filter                              00:58 +625 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses has:reminder filter                              00:58 +625 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses status filter                                    00:58 +626 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses status filter                                    00:58 +626 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses type filter                                      00:58 +627 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses type filter                                      00:58 +627 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses before date filter                               00:58 +628 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses before date filter                               00:58 +628 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses after date filter                                00:58 +629 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses after date filter                                00:58 +629 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses combined filters and text                        00:58 +630 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses combined filters and text                        00:58 +630 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses complex query with multiple filter types         00:58 +631 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Token Parsing parses complex query with multiple filter types         00:58 +631 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text as single token                        00:58 +632 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text as single token                        00:58 +632 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text with filters                           00:58 +633 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses quoted text with filters                           00:58 +633 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses multiple quoted strings                            00:58 +634 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text parses multiple quoted strings                            00:58 +634 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles unclosed quotes gracefully                        00:58 +635 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles unclosed quotes gracefully                        00:58 +635 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles quotes in filter values                           00:58 +636 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Quoted Text handles quotes in filter values                           00:58 +636 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates correct query                                    00:58 +637 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates correct query                                    00:58 +637 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates empty query                                      00:58 +638 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates empty query                                      00:58 +638 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid date format                   00:58 +639 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid date format                   00:58 +639 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with unknown has filter value              00:58 +640 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with unknown has filter value              00:58 +640 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid filter key                    00:58 +641 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation validates query with invalid filter key                    00:58 +641 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation handles multiple validation errors                         00:58 +642 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Validation handles multiple validation errors                         00:58 +642 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns all suggestions for empty input      00:58 +643 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns all suggestions for empty input      00:58 +643 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions by prefix                00:58 +644 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions by prefix                00:58 +644 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions case-insensitively       00:58 +645 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions filters suggestions case-insensitively       00:58 +645 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns empty for non-matching prefix        00:58 +646 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions returns empty for non-matching prefix        00:58 +646 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests has: variations                     00:58 +647 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests has: variations                     00:58 +647 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests status variations                   00:58 +648 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Autocomplete Suggestions suggests status variations                   00:58 +648 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles whitespace-only query                              00:58 +649 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles whitespace-only query                              00:58 +649 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles query with extra spaces                            00:58 +650 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles query with extra spaces                            00:58 +650 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles filter without value                               00:58 +651 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles filter without value                               00:58 +651 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles colon in regular text                              00:58 +652 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles colon in regular text                              00:58 +652 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles special characters                                 00:58 +653 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles special characters                                 00:58 +653 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles unicode characters                                 00:58 +654 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles unicode characters                                 00:58 +654 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles very long queries                                  00:58 +655 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles very long queries                                  00:58 +655 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles date range filters                                 00:58 +656 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Edge Cases handles date range filters                                 00:58 +656 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability returns new SearchFilters instances                      00:58 +657 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability returns new SearchFilters instances                      00:58 +657 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability does not mutate SearchFilters during parsing             00:58 +658 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability does not mutate SearchFilters during parsing             00:58 +658 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability accumulates tags correctly                               00:58 +659 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - Immutability accumulates tags correctly                               00:58 +659 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns false for valid query        00:58 +660 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns false for valid query        00:58 +660 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns true for invalid query       00:58 +661 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasErrors returns true for invalid query       00:58 +661 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns false for text-only query   00:58 +662 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns false for text-only query   00:58 +662 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true when filters present   00:58 +663 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true when filters present   00:58 +663 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true for any filter type    00:58 +664 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties hasFilters returns true for any filter type    00:58 +664 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        00:58 +665 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        00:59 +665 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_query_parser_test.dart: SavedSearchQueryParser - ParsedQuery Properties ParsedQuery.empty() returns clean state        00:59 +665 ~15 -8: loading /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart                                                                                               00:59 +665 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                           00:59 +665 ~15 -8: /Users/onronder/duru-notes/test/services/import_encryption_indexing_test.dart: (setUpAll)                                                                                           
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
00:59 +665 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +666 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +667 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +668 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +669 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +670 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +671 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +671 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            
[NotesCoreRepository] createOrUpdate noteId=1056d2ab-5879-45fa-94c6-c8cb35b3d145 isUpdate=false titleLen=5 bodyLen=26 traceId=none
00:59 +672 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +673 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +674 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +675 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +676 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +676 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            
[NotesCoreRepository] note persisted noteId=1056d2ab-5879-45fa-94c6-c8cb35b3d145 folder=null tagCount=0 traceId=none
00:59 +677 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +678 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +679 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +680 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +681 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports markdown using real repository + indexer                            00:59 +682 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search              00:59 +682 ~15 -8: /Users/onronder/duru-notes/test/services/import_integration_simple_test.dart: ImportService integration imports Obsidian vault end-to-end                                           
[NotesCoreRepository] createOrUpdate noteId=faa6e09b-aa19-43ef-a768-0695800ee838 isUpdate=false titleLen=5 bodyLen=23 traceId=none
[NotesCoreRepository] note persisted noteId=faa6e09b-aa19-43ef-a768-0695800ee838 folder=null tagCount=0 traceId=none
[NotesCoreRepository] createOrUpdate noteId=77606d20-5dd9-40a5-9944-d51692289f80 isUpdate=false titleLen=4 bodyLen=26 traceId=none
[NotesCoreRepository] note persisted noteId=77606d20-5dd9-40a5-9944-d51692289f80 folder=null tagCount=0 traceId=none
00:59 +683 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search              00:59 +684 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations updates usage statistics when executing search              00:59 +684 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations throws when search not found                                00:59 +685 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Execute Operations throws when search not found                                00:59 +685 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations updates saved search                                         00:59 +686 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations updates saved search                                         00:59 +686 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations validates query when updating                                00:59 +687 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations validates query when updating                                00:59 +687 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations toggles pin status                                           00:59 +688 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations toggles pin status                                           00:59 +688 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations reorders saved searches                                      00:59 +689 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Update Operations reorders saved searches                                      00:59 +689 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations deletes saved search                                         00:59 +690 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations deletes saved search                                         00:59 +690 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations handles delete of non-existent search                        00:59 +691 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Delete Operations handles delete of non-existent search                        00:59 +691 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets all saved searches                                       00:59 +692 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets all saved searches                                       00:59 +692 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations searches by name                                              00:59 +693 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations searches by name                                              00:59 +693 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations watches saved searches stream                                 00:59 +694 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations watches saved searches stream                                 00:59 +694 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates query syntax                                        00:59 +695 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates query syntax                                        00:59 +695 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates correct query                                       00:59 +696 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations validates correct query                                       00:59 +696 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets query suggestions                                        00:59 +697 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Query Operations gets query suggestions                                        00:59 +697 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on create                             00:59 +698 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on create                             00:59 +698 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on update                             00:59 +699 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on update                             00:59 +699 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on delete                             00:59 +700 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on delete                             01:00 +700 ~15 -8: /Users/onronder/duru-notes/test/services/search/saved_search_service_test.dart: SavedSearchService - Error Handling handles repository errors on delete                             01:00 +700 ~15 -8: loading /Users/onronder/duru-notes/test/services/share_extension_service_test.dart                                                                                                  01:00 +700 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared text items with metadata and tags                                 01:00 +701 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared text items with metadata and tags                                 01:00 +701 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared url items with link payload                                       01:00 +702 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared url items with link payload                                       01:01 +702 ~15 -8: /Users/onronder/duru-notes/test/services/share_extension_service_test.dart: ShareExtensionService persists shared url items with link payload                                       01:01 +702 ~15 -8: loading /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart                                                                                                       01:01 +702 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: stableTaskHash normalizes content before hashing                                                             01:01 +703 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: stableTaskHash normalizes content before hashing                                                             01:01 +703 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: stableTaskHash hash differs when content changes materially                                                  01:01 +704 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: stableTaskHash hash differs when content changes materially                                                  01:01 +704 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskSyncMetrics duplicate tracking records duplicate detections per note                                     01:01 +705 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskSyncMetrics duplicate tracking records duplicate detections per note                                     01:01 +705 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskSyncMetrics duplicate tracking aggregates duplicates across multiple syncs                               01:01 +706 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskSyncMetrics duplicate tracking aggregates duplicates across multiple syncs                               01:01 +706 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                 01:01 +707 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention reuses existing task when normalized content matches                 01:01 +707 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially                01:01 +708 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially                01:02 +708 ~15 -8: /Users/onronder/duru-notes/test/services/no_duplicate_tasks_test.dart: TaskCoreRepository duplicate prevention allows distinct tasks when content differs materially                01:02 +708 ~15 -8: loading /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart                                                                                             01:02 +708 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (setUpAll)                                                                                         01:02 +708 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer       01:02 +708 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves local encryption when local is newer
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:02 +709 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves local encryption when local is newer       01:02 +709 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves remote encryption when remote is newer     01:02 +709 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves remote encryption when remote is newer
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:02 +710 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation preserves remote encryption when remote is newer     01:02 +710 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation preserves local encryption when remote is missing encryption    01:02 +710 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation preserves local encryption when remote is missing encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:02 +711 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation preserves local encryption when remote is missing encryption    01:02 +711 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation uses remote encryption when local is missing encryption         01:02 +711 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation uses remote encryption when local is missing encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:02 +712 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... - Encrypted Field Preservation uses remote encryption when local is missing encryption         01:02 +712 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder) 01:02 +712 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder)
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:02 +713 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Resolution - Encrypted Field Preservation handles neither version encrypted (pre-v42 reminder) 01:02 +713 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Encrypted Field Preservation conflict resolution still applies other strategies with encryption01:02 +713 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: CRITICAL #5: Conflict Resolution - Encrypted Field Preservation conflict resolution still applies other strategies with encryption
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:02 +714 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: ... Encrypted Field Preservation conflict resolution still applies other strategies with encryption01:02 +714 ~15 -8: /Users/onronder/duru-notes/test/services/reminder_conflict_resolution_test.dart: (tearDownAll)                                                                                      01:02 +714 ~15 -8: loading /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart                                                                                                   01:02 +714 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied           01:02 +714 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied           
[PERF] ensureStandaloneNote: 0ms
[DomainTaskController] createTask request -> note=note-1 title="Plan sprint" due=2025-10-19T12:00:00.000Z priority=medium createReminder=true
[PERF] enhancedTaskService.createTask: 0ms
[PERF] taskRepository.getTaskById: 0ms
[PERF] ⏱️ TOTAL createTask: 9ms (task task-123)
[DomainTaskController] task created id=task-123 note=note-1
[DomainTaskController] custom reminder scheduled for task task-123
[PERF] setCustomTaskReminder: 0ms
01:02 +715 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders createTask schedules custom reminder when reminderTime supplied           01:02 +715 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                      01:02 +715 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                      
[DomainTaskController] updateTask request -> id=task-456 title=Initial Task due=2025-10-20T12:00:00.000Z hasReminder=false
[DomainTaskController] cleared reminder for task task-456
01:02 +716 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask clears reminder when hasReminder is false                      01:02 +716 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                01:02 +716 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                
[DomainTaskController] updateTask request -> id=task-789 title=Initial Task due=2025-10-22T12:00:00.000Z hasReminder=true
[DomainTaskController] set custom reminder for task task-789
01:02 +717 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                01:03 +717 ~15 -8: /Users/onronder/duru-notes/test/services/domain_task_controller_test.dart: DomainTaskController reminders updateTask sets custom reminder when reminderTime provided                01:03 +717 ~15 -8: loading /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart                                                                                            01:03 +717 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (setUpAll)                                                                                        01:03 +717 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                            01:03 +717 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                            
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
01:03 +718 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders uploads local reminders missing remotely                                            01:03 +718 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                      01:03 +718 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                      
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:03 +719 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: syncReminders downloads remote reminders into local database                                      01:03 +719 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (tearDownAll)                                                                                     01:04 +719 ~15 -8: /Users/onronder/duru-notes/test/services/unified_sync_service_reminder_test.dart: (tearDownAll)                                                                                     01:04 +719 ~15 -8: loading /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart                                                                                                    01:04 +719 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService captureNote creates note and refreshes widget cache                                   01:04 +720 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService captureNote creates note and refreshes widget cache                                   01:04 +720 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService captureNote queues entry when repository throws SocketException                       01:04 +721 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService captureNote queues entry when repository throws SocketException                       01:04 +721 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService processPendingCaptures processes queue and clears processed items                     01:04 +722 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService processPendingCaptures processes queue and clears processed items                     01:04 +722 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService getTemplates delegates to template repository                                         01:04 +723 ~15 -8: /Users/onronder/duru-notes/test/services/quick_capture_service_test.dart: QuickCaptureService getTemplates delegates to template repository                                         01:04 +723 ~15 -8: loading /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart                                                                                          01:04 +723 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:04 +723 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            
EnhancedTaskService: cannot perform "updateTask" without userId
01:04 +724 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation updateTask requires authenticated user                            01:04 +724 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation deleteTask cannot remove tasks owned by another user              01:04 +725 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation deleteTask cannot remove tasks owned by another user              01:04 +725 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask performs SOFT DELETE via repository       01:04 +726 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask performs SOFT DELETE via repository       01:04 +726 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated   01:04 +726 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated
EnhancedTaskService: cannot perform "deleteTask" without userId
01:04 +727 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) deleteTask returns early if user not authenticated   01:04 +727 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) completeTask uses repository method       01:04 +728 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) completeTask uses repository method       01:04 +728 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated 01:04 +728 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated
EnhancedTaskService: cannot perform "completeTask" without userId
01:04 +729 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) completeTask returns early if user not authenticated 01:04 +729 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) toggleTaskStatus uses repository method   01:04 +730 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Repository Pattern Usage (Post-Refactoring Tests) toggleTaskStatus uses repository method   01:04 +730 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval  01:04 +730 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval
[PERF] taskRepository.createTask: 1ms
[PERF] Starting async reminder creation (non-blocking)
[PERF] ⏱️ EnhancedTaskService.createTask total: 2ms
01:04 +731 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval  01:04 +731 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) updateTask with content uses repository for encryption       01:04 +731 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTask with reminder uses repository for task retrieval
EnhancedTaskService: Failed to fetch task for reminder: Bad state: Can't re-open a database after closing it. Please create a new database connection and open that instead.
[PERF] Async reminder creation completed: 1ms
01:04 +732 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) updateTask with content uses repository for encryption       01:04 +732 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask handles reminder updates correctly        01:04 +733 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Basic Enqueue/Dequeue enqueues reminder successfully                                01:04 +734 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder     01:04 +735 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder     01:04 +736 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder     01:04 +737 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder     01:04 +738 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Pattern Usage (Post-Refactoring Tests) updateTask with clearReminderId removes reminder     01:04 +739 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic respects max retries limit                                              01:04 +740 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval    01:04 +741 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval    01:04 +742 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: ... Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval    01:04 +742 ~15 -8: /Users/onronder/duru-notes/test/services/enhanced_task_service_isolation_test.dart: EnhancedTaskService isolation Repository Pattern Usage (Post-Refactoring Tests) createTaskWithReminder uses repository for task retrieval
[PERF] taskRepository.createTask: 2ms
[PERF] ⏱️ EnhancedTaskService.createTask total: 2ms
01:04 +743 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:04 +744 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:04 +745 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +745 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +746 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +747 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +748 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +749 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +750 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +751 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +752 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +753 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +754 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +755 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +756 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +757 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +758 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +759 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +760 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +761 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:05 +762 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:06 +762 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:06 +763 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Retry Logic shouldRetryNow returns false after re-enqueue before backoff            01:06 +763 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits respects max queue size                                           01:06 +764 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits respects max queue size                                           01:06 +764 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits re-enqueuing at capacity still fails size check                   01:06 +765 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Queue Size Limits re-enqueuing at capacity still fails size check                   01:06 +765 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +765 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +766 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +767 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +768 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +769 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +770 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +771 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +772 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +773 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +774 ~15 -8: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +775 ~15 -9: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry cleans up expired entries                                          01:07 +775 ~15 -9: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                          01:07 +775 ~15 -9: /Users/onronder/duru-notes/test/services/trash_service_test.dart: TrashService - Core Tests permanentlyDeleteNote removes note [E]                                                  
  NoSuchMethodError: Class '_FakeNotesRepository' has no instance method 'getNoteById' with matching arguments.
  Receiver: Instance of '_FakeNotesRepository'
  Tried calling: getNoteById("note-to-delete")
  Found: getNoteById(String) => Future<Note?>
  dart:core                                              Object.noSuchMethod
  test/services/trash_service_test.dart 33:56            _FakeNotesRepository.noSuchMethod
  test/services/trash_service_test.dart 15:7             _FakeNotesRepository.getNoteById
  package:duru_notes/services/trash_service.dart 183:37  TrashService.permanentlyDeleteNote
  test/services/trash_service_test.dart 207:21           main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/trash_service_test.dart -p vm --plain-name 'TrashService - Core Tests permanentlyDeleteNote removes note'
01:07 +775 ~15 -10: /Users/onronder/duru-notes/test/services/trash_service_test.dart: TrashService - Core Tests emptyTrash deletes all notes [E]                                                       
  Expected: <2>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test/services/trash_service_test.dart 245:7         main.<fn>.<fn>
  

To run this test again: /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test /Users/onronder/duru-notes/test/services/trash_service_test.dart -p vm --plain-name 'TrashService - Core Tests emptyTrash deletes all notes'
01:07 +776 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +777 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +778 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +779 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +780 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +781 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +782 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +783 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +784 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +785 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +786 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Age-based Expiry getReadyForRetry excludes expired entries                         01:07 +787 ~15 -10: /Users/onronder/duru-notes/test/services/key_destruction_test.dart: ... Confirmation Token Validation throws SecurityException when confirmation token has wrong user ID           01:07 +788 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry returns empty list when queue is empty                            01:07 +789 ~15 -10: /Users/onronder/duru-notes/test/services/key_destruction_test.dart: KeyManager.securely DestroyAllKeys() Confirmation Token Validation accepts valid confirmation token            01:07 +790 ~15 -10: /Users/onronder/duru-notes/test/services/key_destruction_test.dart: KeyManager.securely DestroyAllKeys() Confirmation Token Validation accepts valid confirmation token            01:07 +791 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +792 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +793 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +794 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +795 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +796 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +797 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +798 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +799 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +800 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +801 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +802 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +803 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +804 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +805 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +806 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +807 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +808 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +809 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:07 +810 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:08 +810 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:08 +811 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue getReadyForRetry includes items ready for retry after backoff                      01:08 +811 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats returns correct queue size                                     01:08 +812 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats returns correct queue size                                     01:08 +812 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats tracks total retries                                           01:08 +813 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats tracks total retries                                           01:08 +813 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats includes config values                                         01:08 +814 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue Statistics getStats includes config values                                         01:08 +814 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:09 +814 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries processes ready reminders                                           01:09 +815 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: ... Compliance Tests - Production Grade exportAllUserData returns plaintext note titles and bodies      01:09 +816 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:09 +817 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      01:09 +817 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Upload: encrypts reminder before sending to remote      
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
01:09 +817 ~15 -10: /Users/onronder/duru-notes/test/services/gdpr_export_compliance_test.dart: GDPR Data Export Compliance Tests - Production Grade exportAllUserData handles decryption failures gracefully
⚠️ Failed to decrypt title for note note-123: FormatException: Unable to decode encrypted payload
01:09 +818 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +819 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +819 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Download: decrypts encrypted reminder from remote       
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:09 +819 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +820 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +820 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Backward compatibility: handles plaintext-only reminders
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:09 +821 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +821 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Sync round-trip: upload encrypted, download decrypted   
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/upsert
API call to /api/reminders/upsert completed in 0ms
01:09 +822 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +822 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_integration_test.dart: Migration v42: Encrypted reminder sync Sync round-trip: upload encrypted, download decrypted   
Rate limit request: user-123 (RateLimitType.user) - /api/reminders/fetch
API call to /api/reminders/fetch completed in 0ms
01:09 +823 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +824 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +825 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +826 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +827 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +828 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +829 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +830 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +831 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +832 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:09 +833 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +833 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +834 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +835 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +836 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +837 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +838 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +839 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries removes non-retryable failures from queue                           01:10 +839 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +839 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +840 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +841 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +842 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +843 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +844 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +845 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +846 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +847 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +848 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +849 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +850 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +851 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +852 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +853 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +854 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +855 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +856 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +857 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +858 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +859 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +860 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +861 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +862 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries keeps retryable failures in queue                                   01:11 +863 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_lock_manager_test.dart: EncryptionLockManager Timeout Protection times out if lock held too long with custom config            01:11 +864 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +864 ~15 -10: /Users/onronder/duru-notes/test/services/task_reminder_linking_test.dart: (setUpAll)                                                                                               
supabase.supabase_flutter: INFO: ***** Supabase init completed ***** 
01:11 +864 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +865 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +866 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +867 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +868 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +869 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +870 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +871 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +872 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +873 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +874 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:11 +875 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +875 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +876 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +877 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +878 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +879 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +880 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +881 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +882 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +883 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +884 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +885 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +886 ~15 -10: /Users/onronder/duru-notes/test/services/encryption_retry_queue_test.dart: EncryptionRetryQueue processRetries handles exceptions during retry callback                            01:12 +886 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:12 +887 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:12 +888 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:12 +889 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:12 +890 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:12 +891 ~15 -10: /Users/onronder/duru-notes/test/services/reminder_encryption_test.dart: Migration v42: Lazy encryption getRemindersForNote triggers lazy encryption in background                  01:12 +891 ~15 -10: loading /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart                                                                                                   01:12 +891 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:13 +891 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:13 +892 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should show overlay when @ is typed                              01:13 +892 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not show overlay for @ without text                       01:13 +893 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not show overlay for @ without text                       01:13 +893 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not trigger on @ with space after                         01:13 +894 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should not trigger on @ with space after                         01:13 +894 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should hide overlay when @ is deleted                            01:13 +895 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - @ sign detection should hide overlay when @ is deleted                            01:13 +895 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should display search results                                  01:13 +896 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should display search results                                  01:13 +896 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:13 +897 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should show "no results" when search returns empty             01:13 +897 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should update results as user types                            01:13 +898 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - search and display should update results as user types                            01:13 +898 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should insert link on tap                                          01:13 +899 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should insert link on tap                                          01:13 +899 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should replace @ query with full link                              01:13 +900 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should replace @ query with full link                              01:13 +900 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should maintain cursor position after insertion                    01:13 +901 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - link insertion should maintain cursor position after insertion                    01:13 +901 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:14 +901 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:14 +902 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should navigate with arrow keys                               01:14 +902 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should insert link on Enter key                               01:14 +903 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should insert link on Enter key                               01:14 +903 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should hide overlay on Escape key                             01:14 +904 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - keyboard navigation should hide overlay on Escape key                             01:14 +904 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle search errors gracefully                             01:14 +905 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle search errors gracefully                             01:14 +905 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:14 +906 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - error handling should handle null repository response                             01:14 +906 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should ignore @ when cursor is followed by whitespace                  01:14 +907 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should ignore @ when cursor is followed by whitespace                  01:14 +907 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle multiple @ signs                                         01:14 +908 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle multiple @ signs                                         01:14 +908 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle very long search queries                                 01:14 +909 ~15 -10: /Users/onronder/duru-notes/test/widgets/note_link_autocomplete_test.dart: NoteLinkAutocomplete - edge cases should handle very long search queries                                 01:14 +909 ~15 -10: Some tests failed.                                                                                                                                                                 
